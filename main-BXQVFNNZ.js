import{a as $,b as me}from"./chunk-UUTQQLSI.js";var at=null,ol=!1,wf=1,Ix=null,_t=Symbol("SIGNAL");function J(n){let e=at;return at=n,e}function al(){return at}var Ks={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Qs(n){if(ol)throw new Error("");if(at===null)return;at.consumerOnSignalRead(n);let e=at.producersTail;if(e!==void 0&&e.producer===n)return;let t,r=at.recomputing;if(r&&(t=e!==void 0?e.nextProducer:at.producers,t!==void 0&&t.producer===n)){at.producersTail=t,t.lastReadVersion=n.version;return}let i=n.consumersTail;if(i!==void 0&&i.consumer===at&&(!r||Tx(i,at)))return;let o=so(at),s={producer:n,consumer:at,nextProducer:t,prevConsumer:i,lastReadVersion:n.version,nextConsumer:void 0};at.producersTail=s,e!==void 0?e.nextProducer=s:at.producers=s,o&&AI(n,s)}function SI(){wf++}function Tf(n){if(!(so(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===wf)){if(!n.producerMustRecompute(n)&&!ll(n)){If(n);return}n.producerRecomputeValue(n),If(n)}}function bf(n){if(n.consumers===void 0)return;let e=ol;ol=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||wx(r)}}finally{ol=e}}function Sf(){return at?.consumerAllowSignalWrites!==!1}function wx(n){n.dirty=!0,bf(n),n.consumerMarkedDirty?.(n)}function If(n){n.dirty=!1,n.lastCleanEpoch=wf}function Ys(n){return n&&CI(n),J(n)}function CI(n){n.producersTail=void 0,n.recomputing=!0}function cl(n,e){J(e),n&&DI(n)}function DI(n){n.recomputing=!1;let e=n.producersTail,t=e!==void 0?e.nextProducer:n.producers;if(t!==void 0){if(so(n))do t=Cf(t);while(t!==void 0);e!==void 0?e.nextProducer=void 0:n.producers=void 0}}function ll(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,r=e.lastReadVersion;if(r!==t.version||(Tf(t),r!==t.version))return!0}return!1}function Js(n){if(so(n)){let e=n.producers;for(;e!==void 0;)e=Cf(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function AI(n,e){let t=n.consumersTail,r=so(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!r)for(let i=n.producers;i!==void 0;i=i.nextProducer)AI(i.producer,i)}function Cf(n){let e=n.producer,t=n.nextProducer,r=n.nextConsumer,i=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!so(e)){let o=e.producers;for(;o!==void 0;)o=Cf(o)}return t}function so(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function Df(n){Ix?.(n)}function Tx(n,e){let t=e.producersTail;if(t!==void 0){let r=e.producers;do{if(r===n)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function Af(n,e){return Object.is(n,e)}function ul(n,e){let t=Object.create(bx);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(Tf(t),Qs(t),t.value===sl)throw t.error;return t.value};return r[_t]=t,Df(t),r}var _f=Symbol("UNSET"),Ef=Symbol("COMPUTING"),sl=Symbol("ERRORED"),bx=me($({},Ks),{value:_f,dirty:!0,error:null,equal:Af,kind:"computed",producerMustRecompute(n){return n.value===_f||n.value===Ef},producerRecomputeValue(n){if(n.value===Ef)throw new Error("");let e=n.value;n.value=Ef;let t=Ys(n),r,i=!1;try{r=n.computation(),J(null),i=e!==_f&&e!==sl&&r!==sl&&n.equal(e,r)}catch(o){r=sl,n.error=o}finally{cl(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function Sx(){throw new Error}var RI=Sx;function xI(n){RI(n)}function Rf(n){RI=n}var Cx=null;function xf(n,e){let t=Object.create(dl);t.value=n,e!==void 0&&(t.equal=e);let r=()=>NI(t);return r[_t]=t,Df(t),[r,s=>Xs(t,s),s=>MI(t,s)]}function NI(n){return Qs(n),n.value}function Xs(n,e){Sf()||xI(n),n.equal(n.value,e)||(n.value=e,Dx(n))}function MI(n,e){Sf()||xI(n),Xs(n,e(n.value))}var dl=me($({},Ks),{equal:Af,value:void 0,kind:"signal"});function Dx(n){n.version++,SI(),bf(n),Cx?.(n)}function Nf(n){let e=J(null);try{return n()}finally{J(e)}}function Z(n){return typeof n=="function"}function ao(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var hl=ao(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Jr(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var qe=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(Z(r))try{r()}catch(o){e=o instanceof hl?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{PI(o)}catch(s){e=e??[],s instanceof hl?e=[...e,...s.errors]:e.push(s)}}if(e)throw new hl(e)}}add(e){var t;if(e&&e!==this)if(this.closed)PI(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Jr(t,e)}remove(e){let{_finalizers:t}=this;t&&Jr(t,e),e instanceof n&&e._removeParent(this)}};qe.EMPTY=(()=>{let n=new qe;return n.closed=!0,n})();var Mf=qe.EMPTY;function fl(n){return n instanceof qe||n&&"closed"in n&&Z(n.remove)&&Z(n.add)&&Z(n.unsubscribe)}function PI(n){Z(n)?n():n.unsubscribe()}var Gt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var co={setTimeout(n,e,...t){let{delegate:r}=co;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=co;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function pl(n){co.setTimeout(()=>{let{onUnhandledError:e}=Gt;if(e)e(n);else throw n})}function Zs(){}var kI=Pf("C",void 0,void 0);function OI(n){return Pf("E",void 0,n)}function LI(n){return Pf("N",n,void 0)}function Pf(n,e,t){return{kind:n,value:e,error:t}}var Xr=null;function lo(n){if(Gt.useDeprecatedSynchronousErrorHandling){let e=!Xr;if(e&&(Xr={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Xr;if(Xr=null,t)throw r}}else n()}function FI(n){Gt.useDeprecatedSynchronousErrorHandling&&Xr&&(Xr.errorThrown=!0,Xr.error=n)}var Zr=class extends qe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,fl(e)&&e.add(this)):this.destination=xx}static create(e,t,r){return new uo(e,t,r)}next(e){this.isStopped?Of(LI(e),this):this._next(e)}error(e){this.isStopped?Of(OI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Of(kI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Ax=Function.prototype.bind;function kf(n,e){return Ax.call(n,e)}var Lf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){gl(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){gl(r)}else gl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){gl(t)}}},uo=class extends Zr{constructor(e,t,r){super();let i;if(Z(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Gt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&kf(e.next,o),error:e.error&&kf(e.error,o),complete:e.complete&&kf(e.complete,o)}):i=e}this.destination=new Lf(i)}};function gl(n){Gt.useDeprecatedSynchronousErrorHandling?FI(n):pl(n)}function Rx(n){throw n}function Of(n,e){let{onStoppedNotification:t}=Gt;t&&co.setTimeout(()=>t(n,e))}var xx={closed:!0,next:Zs,error:Rx,complete:Zs};var ho=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Wt(n){return n}function Ff(...n){return Vf(n)}function Vf(n){return n.length===0?Wt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var le=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=Mx(t)?t:new uo(t,r,i);return lo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=VI(r),new r((i,o)=>{let s=new uo({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[ho](){return this}pipe(...t){return Vf(t)(this)}toPromise(t){return t=VI(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function VI(n){var e;return(e=n??Gt.Promise)!==null&&e!==void 0?e:Promise}function Nx(n){return n&&Z(n.next)&&Z(n.error)&&Z(n.complete)}function Mx(n){return n&&n instanceof Zr||Nx(n)&&fl(n)}function Px(n){return Z(n?.lift)}function ye(n){return e=>{if(Px(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function we(n,e,t,r,i){return new jf(n,e,t,r,i)}var jf=class extends Zr{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var jI=ao(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ct=(()=>{class n extends le{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new ml(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new jI}next(t){lo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){lo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){lo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Mf:(this.currentObservers=null,o.push(t),new qe(()=>{this.currentObservers=null,Jr(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new le;return t.source=this,t}}return n.create=(e,t)=>new ml(e,t),n})(),ml=class extends ct{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Mf}};var Je=class extends ct{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Uf={now(){return(Uf.delegate||Date).now()},delegate:void 0};var yl=class extends qe{constructor(e,t){super()}schedule(e,t=0){return this}};var ea={setInterval(n,e,...t){let{delegate:r}=ea;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=ea;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var fo=class extends yl{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return ea.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&ea.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Jr(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var po=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};po.now=Uf.now;var go=class extends po{constructor(e,t=po.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Bf=new go(fo);var vl=class extends fo{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var _l=class extends go{};var $f=new _l(vl);var Xe=new le(n=>n.complete());function UI(n){return n&&Z(n.schedule)}function BI(n){return n[n.length-1]}function $I(n){return Z(BI(n))?n.pop():void 0}function Er(n){return UI(BI(n))?n.pop():void 0}function Hf(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function qI(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{u(r.next(h))}catch(f){s(f)}}function l(h){try{u(r.throw(h))}catch(f){s(f)}}function u(h){h.done?o(h.value):i(h.value).then(a,l)}u((r=r.apply(n,e||[])).next())})}function HI(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ei(n){return this instanceof ei?(this.v=n,this):new ei(n)}function zI(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(T){return Promise.resolve(T).then(y,f)}}function a(y,T){r[y]&&(i[y]=function(A){return new Promise(function(D,x){o.push([y,A,D,x])>1||l(y,A)})},T&&(i[y]=T(i[y])))}function l(y,T){try{u(r[y](T))}catch(A){m(o[0][3],A)}}function u(y){y.value instanceof ei?Promise.resolve(y.value.v).then(h,f):m(o[0][2],y)}function h(y){l("next",y)}function f(y){l("throw",y)}function m(y,T){y(T),o.shift(),o.length&&l(o[0][0],o[0][1])}}function GI(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof HI=="function"?HI(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,l){s=n[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}}var El=n=>n&&typeof n.length=="number"&&typeof n!="function";function Il(n){return Z(n?.then)}function wl(n){return Z(n[ho])}function Tl(n){return Symbol.asyncIterator&&Z(n?.[Symbol.asyncIterator])}function bl(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function kx(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Sl=kx();function Cl(n){return Z(n?.[Sl])}function Dl(n){return zI(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield ei(t.read());if(i)return yield ei(void 0);yield yield ei(r)}}finally{t.releaseLock()}})}function Al(n){return Z(n?.getReader)}function ze(n){if(n instanceof le)return n;if(n!=null){if(wl(n))return Ox(n);if(El(n))return Lx(n);if(Il(n))return Fx(n);if(Tl(n))return WI(n);if(Cl(n))return Vx(n);if(Al(n))return jx(n)}throw bl(n)}function Ox(n){return new le(e=>{let t=n[ho]();if(Z(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Lx(n){return new le(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function Fx(n){return new le(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,pl)})}function Vx(n){return new le(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function WI(n){return new le(e=>{Ux(n,e).catch(t=>e.error(t))})}function jx(n){return WI(Dl(n))}function Ux(n,e){var t,r,i,o;return qI(this,void 0,void 0,function*(){try{for(t=GI(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Et(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Ir(n,e=0){return ye((t,r)=>{t.subscribe(we(r,i=>Et(r,n,()=>r.next(i),e),()=>Et(r,n,()=>r.complete(),e),i=>Et(r,n,()=>r.error(i),e)))})}function wr(n,e=0){return ye((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function KI(n,e){return ze(n).pipe(wr(e),Ir(e))}function QI(n,e){return ze(n).pipe(wr(e),Ir(e))}function YI(n,e){return new le(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function JI(n,e){return new le(t=>{let r;return Et(t,e,()=>{r=n[Sl](),Et(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>Z(r?.return)&&r.return()})}function Rl(n,e){if(!n)throw new Error("Iterable cannot be null");return new le(t=>{Et(t,e,()=>{let r=n[Symbol.asyncIterator]();Et(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function XI(n,e){return Rl(Dl(n),e)}function ZI(n,e){if(n!=null){if(wl(n))return KI(n,e);if(El(n))return YI(n,e);if(Il(n))return QI(n,e);if(Tl(n))return Rl(n,e);if(Cl(n))return JI(n,e);if(Al(n))return XI(n,e)}throw bl(n)}function Ge(n,e){return e?ZI(n,e):ze(n)}function de(...n){let e=Er(n);return Ge(n,e)}function qf(n,e){let t=Z(n)?n:()=>n,r=i=>i.error(t());return new le(e?i=>e.schedule(r,0,i):r)}function xl(n){return!!n&&(n instanceof le||Z(n.lift)&&Z(n.subscribe))}var ti=ao(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Re(n,e){return ye((t,r)=>{let i=0;t.subscribe(we(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:Bx}=Array;function $x(n,e){return Bx(e)?n(...e):n(e)}function ew(n){return Re(e=>$x(n,e))}var{isArray:Hx}=Array,{getPrototypeOf:qx,prototype:zx,keys:Gx}=Object;function tw(n){if(n.length===1){let e=n[0];if(Hx(e))return{args:e,keys:null};if(Wx(e)){let t=Gx(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function Wx(n){return n&&typeof n=="object"&&qx(n)===zx}function nw(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function zf(...n){let e=Er(n),t=$I(n),{args:r,keys:i}=tw(n);if(r.length===0)return Ge([],e);let o=new le(Kx(r,e,i?s=>nw(i,s):Wt));return t?o.pipe(ew(t)):o}function Kx(n,e,t=Wt){return r=>{rw(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)rw(e,()=>{let u=Ge(n[l],e),h=!1;u.subscribe(we(r,f=>{o[l]=f,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function rw(n,e,t){n?Et(t,n,e):e()}function iw(n,e,t,r,i,o,s,a){let l=[],u=0,h=0,f=!1,m=()=>{f&&!l.length&&!u&&e.complete()},y=A=>u<r?T(A):l.push(A),T=A=>{o&&e.next(A),u++;let D=!1;ze(t(A,h++)).subscribe(we(e,x=>{i?.(x),o?y(x):e.next(x)},()=>{D=!0},void 0,()=>{if(D)try{for(u--;l.length&&u<r;){let x=l.shift();s?Et(e,s,()=>T(x)):T(x)}m()}catch(x){e.error(x)}}))};return n.subscribe(we(e,y,()=>{f=!0,m()})),()=>{a?.()}}function ft(n,e,t=1/0){return Z(e)?ft((r,i)=>Re((o,s)=>e(r,o,i,s))(ze(n(r,i))),t):(typeof e=="number"&&(t=e),ye((r,i)=>iw(r,i,n,t)))}function ow(n=1/0){return ft(Wt,n)}function sw(){return ow(1)}function mo(...n){return sw()(Ge(n,Er(n)))}function ta(n){return new le(e=>{ze(n()).subscribe(e)})}function Fn(n,e){return ye((t,r)=>{let i=0;t.subscribe(we(r,o=>n.call(e,o,i++)&&r.next(o)))})}function na(n){return ye((e,t)=>{let r=null,i=!1,o;r=e.subscribe(we(t,void 0,void 0,s=>{o=ze(n(s,na(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Nl(n,e){return Z(e)?ft(n,e,1):ft(n,1)}function aw(n){return ye((e,t)=>{let r=!1;e.subscribe(we(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Vn(n){return n<=0?()=>Xe:ye((e,t)=>{let r=0;e.subscribe(we(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function cw(n=Qx){return ye((e,t)=>{let r=!1;e.subscribe(we(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Qx(){return new ti}function Gf(n){return ye((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function jn(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Fn((i,o)=>n(i,o,r)):Wt,Vn(1),t?aw(e):cw(()=>new ti))}function Ml(n){return n<=0?()=>Xe:ye((e,t)=>{let r=[];e.subscribe(we(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Wf(...n){let e=Er(n);return ye((t,r)=>{(e?mo(n,t,e):mo(n,t)).subscribe(r)})}function Un(n,e){return ye((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(we(r,l=>{i?.unsubscribe();let u=0,h=o++;ze(n(l,h)).subscribe(i=we(r,f=>r.next(e?e(l,f,h,u++):f),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function ra(n){return ye((e,t)=>{ze(n).subscribe(we(t,()=>t.complete(),Zs)),!t.closed&&e.subscribe(t)})}function dn(n,e,t){let r=Z(n)||e||t?{next:n,error:e,complete:t}:n;return r?ye((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(we(o,l=>{var u;(u=r.next)===null||u===void 0||u.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,l),o.error(l)},()=>{var l,u;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):Wt}var Kf;function Pl(){return Kf}function hn(n){let e=Kf;return Kf=n,e}var lw=Symbol("NotFound");function yo(n){return n===lw||n?.name==="\u0275NotFound"}var ri=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},up=new ri("21.1.4");var jl="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",q=class extends Error{code;constructor(e,t){super(_o(e,t)),this.code=e}};function Xx(n){return`NG0${Math.abs(n)}`}function _o(n,e){return`${Xx(n)}${e?": "+e:""}`}var br=globalThis;function ve(n){for(let e in n)if(n[e]===ve)return e;throw Error("")}function $n(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map($n).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Ul(n,e){return n?e?`${n} ${e}`:n:e||""}var Zx=ve({__forward_ref__:ve});function Bl(n){return n.__forward_ref__=Bl,n.toString=function(){return $n(this())},n}function It(n){return dp(n)?n():n}function dp(n){return typeof n=="function"&&n.hasOwnProperty(Zx)&&n.__forward_ref__===Bl}function Q(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function la(n){return eN(n,$l)}function hp(n){return la(n)!==null}function eN(n,e){return n.hasOwnProperty(e)&&n[e]||null}function tN(n){let e=n?.[$l]??null;return e||null}function Yf(n){return n&&n.hasOwnProperty(Ol)?n[Ol]:null}var $l=ve({\u0275prov:ve}),Ol=ve({\u0275inj:ve}),G=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=Q({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function fp(n){return n&&!!n.\u0275providers}var pp=ve({\u0275cmp:ve}),gp=ve({\u0275dir:ve}),mp=ve({\u0275pipe:ve}),yp=ve({\u0275mod:ve}),oa=ve({\u0275fac:ve}),ci=ve({__NG_ELEMENT_ID__:ve}),uw=ve({__NG_ENV_ID__:ve});function vp(n){return Hl(n,"@NgModule"),n[yp]||null}function Sr(n){return Hl(n,"@Component"),n[pp]||null}function _p(n){return Hl(n,"@Directive"),n[gp]||null}function pw(n){return Hl(n,"@Pipe"),n[mp]||null}function Hl(n,e){if(n==null)throw new q(-919,!1)}function Eo(n){return typeof n=="string"?n:n==null?"":String(n)}var gw=ve({ngErrorCode:ve}),nN=ve({ngErrorMessage:ve}),rN=ve({ngTokenPath:ve});function Ep(n,e){return mw("",-200,e)}function ql(n,e){throw new q(-201,!1)}function mw(n,e,t){let r=new q(e,n);return r[gw]=e,r[nN]=n,t&&(r[rN]=t),r}function iN(n){return n[gw]}var Jf;function yw(){return Jf}function Ct(n){let e=Jf;return Jf=n,e}function Ip(n,e,t){let r=la(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;ql(n,"")}var oN={},ni=oN,Xf="__NG_DI_FLAG__",Zf=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=ii(t)||0;try{return this.injector.get(e,r&8?null:ni,r)}catch(i){if(yo(i))return i;throw i}}};function sN(n,e=0){let t=Pl();if(t===void 0)throw new q(-203,!1);if(t===null)return Ip(n,void 0,e);{let r=aN(e),i=t.retrieve(n,r);if(yo(i)){if(r.optional)return null;throw i}return i}}function re(n,e=0){return(yw()||sN)(It(n),e)}function P(n,e){return re(n,ii(e))}function ii(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function aN(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function ep(n){let e=[];for(let t=0;t<n.length;t++){let r=It(n[t]);if(Array.isArray(r)){if(r.length===0)throw new q(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],l=cN(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}e.push(re(i,o))}else e.push(re(r))}return e}function vw(n,e){return n[Xf]=e,n.prototype[Xf]=e,n}function cN(n){return n[Xf]}function oi(n,e){let t=n.hasOwnProperty(oa);return t?n[oa]:null}function zl(n,e){n.forEach(t=>Array.isArray(t)?zl(t,e):e(t))}function wp(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function ua(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function _w(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function Tp(n,e,t){let r=Io(n,e);return r>=0?n[r|1]=t:(r=~r,_w(n,r,e,t)),r}function Gl(n,e){let t=Io(n,e);if(t>=0)return n[t|1]}function Io(n,e){return lN(n,e,1)}function lN(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var li={},fn=[],Cr=new G(""),bp=new G("",-1),Sp=new G(""),sa=class{get(e,t=ni){if(t===ni){let i=mw("",-201);throw i.name="\u0275NotFound",i}return t}};function Ft(n){return{\u0275providers:n}}function Ew(n){return Ft([{provide:Cr,multi:!0,useValue:n}])}function Iw(...n){return{\u0275providers:Cp(!0,n),\u0275fromNgModule:!0}}function Cp(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return zl(e,s=>{let a=s;Ll(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&ww(i,o),t}function ww(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Dp(i,o=>{e(o,r)})}}function Ll(n,e,t,r){if(n=It(n),!n)return!1;let i=null,o=Yf(n),s=!o&&Sr(n);if(!o&&!s){let l=n.ngModule;if(o=Yf(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of l)Ll(u,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let u;zl(o.imports,h=>{Ll(h,e,t,r)&&(u||=[],u.push(h))}),u!==void 0&&ww(u,e)}if(!a){let u=oi(i)||(()=>new i);e({provide:i,useFactory:u,deps:fn},i),e({provide:Sp,useValue:i,multi:!0},i),e({provide:Cr,useValue:()=>re(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let u=n;Dp(l,h=>{e(h,u)})}}else return!1;return i!==n&&n.providers!==void 0}function Dp(n,e){for(let t of n)fp(t)&&(t=t.\u0275providers),Array.isArray(t)?Dp(t,e):e(t)}var uN=ve({provide:String,useValue:ve});function Tw(n){return n!==null&&typeof n=="object"&&uN in n}function dN(n){return!!(n&&n.useExisting)}function hN(n){return!!(n&&n.useFactory)}function Fl(n){return typeof n=="function"}var da=new G(""),kl={},dw={},Qf;function ha(){return Qf===void 0&&(Qf=new sa),Qf}var Ne=class{},si=class extends Ne{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,np(e,s=>this.processProvider(s)),this.records.set(bp,vo(void 0,this)),i.has("environment")&&this.records.set(Ne,vo(void 0,this));let o=this.records.get(da);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Sp,fn,{self:!0}))}retrieve(e,t){let r=ii(t)||0;try{return this.get(e,ni,r)}catch(i){if(yo(i))return i;throw i}}destroy(){ia(this),this._destroyed=!0;let e=J(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),J(e)}}onDestroy(e){return ia(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){ia(this);let t=hn(this),r=Ct(void 0),i;try{return e()}finally{hn(t),Ct(r)}}get(e,t=ni,r){if(ia(this),e.hasOwnProperty(uw))return e[uw](this);let i=ii(r),o,s=hn(this),a=Ct(void 0);try{if(!(i&4)){let u=this.records.get(e);if(u===void 0){let h=yN(e)&&la(e);h&&this.injectableDefInScope(h)?u=vo(tp(e),kl):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u,i)}let l=i&2?ha():this.parent;return t=i&8&&t===ni?null:t,l.get(e,t)}catch(l){let u=iN(l);throw u===-200||u===-201?new q(u,null):l}finally{Ct(a),hn(s)}}resolveInjectorInitializers(){let e=J(null),t=hn(this),r=Ct(void 0),i;try{let o=this.get(Cr,fn,{self:!0});for(let s of o)s()}finally{hn(t),Ct(r),J(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push($n(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=It(e);let t=Fl(e)?e:It(e&&e.provide),r=pN(e);if(!Fl(e)&&e.multi===!0){let i=this.records.get(t);i||(i=vo(void 0,kl,!0),i.factory=()=>ep(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=J(null);try{if(t.value===dw)throw Ep($n(e));return t.value===kl&&(t.value=dw,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&mN(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{J(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=It(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function tp(n){let e=la(n),t=e!==null?e.factory:oi(n);if(t!==null)return t;if(n instanceof G)throw new q(204,!1);if(n instanceof Function)return fN(n);throw new q(204,!1)}function fN(n){if(n.length>0)throw new q(204,!1);let t=tN(n);return t!==null?()=>t.factory(n):()=>new n}function pN(n){if(Tw(n))return vo(void 0,n.useValue);{let e=bw(n);return vo(e,kl)}}function bw(n,e,t){let r;if(Fl(n)){let i=It(n);return oi(i)||tp(i)}else if(Tw(n))r=()=>It(n.useValue);else if(hN(n))r=()=>n.useFactory(...ep(n.deps||[]));else if(dN(n))r=(i,o)=>re(It(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=It(n&&(n.useClass||n.provide));if(gN(n))r=()=>new i(...ep(n.deps));else return oi(i)||tp(i)}return r}function ia(n){if(n.destroyed)throw new q(205,!1)}function vo(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function gN(n){return!!n.deps}function mN(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function yN(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function np(n,e){for(let t of n)Array.isArray(t)?np(t,e):t&&fp(t)?np(t.\u0275providers,e):e(t)}function Le(n,e){let t;n instanceof si?(ia(n),t=n):t=new Zf(n);let r,i=hn(t),o=Ct(void 0);try{return e()}finally{hn(i),Ct(o)}}function Sw(){return yw()!==void 0||Pl()!=null}var Kt=0,ee=1,ie=2,We=3,Vt=4,jt=5,wo=6,To=7,Pe=8,qn=9,pn=10,Fe=11,bo=12,Ap=13,ui=14,Dt=15,di=16,hi=17,fi=18,zn=19,Rp=20,Bn=21,Wl=22,fa=23,At=24,Kl=25,pi=26,et=27,Cw=1,xp=6,Dr=7,pa=8,ga=9,ke=10;function Gn(n){return Array.isArray(n)&&typeof n[Cw]=="object"}function Qt(n){return Array.isArray(n)&&n[Cw]===!0}function Np(n){return(n.flags&4)!==0}function gi(n){return n.componentOffset>-1}function Ql(n){return(n.flags&1)===1}function mi(n){return!!n.template}function So(n){return(n[ie]&512)!==0}function yi(n){return(n[ie]&256)===256}var Dw="svg",Aw="math";function Ut(n){for(;Array.isArray(n);)n=n[Kt];return n}function Mp(n,e){return Ut(e[n])}function gn(n,e){return Ut(e[n.index])}function ma(n,e){return n.data[e]}function mn(n,e){let t=e[n];return Gn(t)?t:t[Kt]}function Yl(n){return(n[ie]&128)===128}function Rw(n){return Qt(n[We])}function yn(n,e){return e==null?null:n[e]}function Pp(n){n[hi]=0}function kp(n){n[ie]&1024||(n[ie]|=1024,Yl(n)&&va(n))}function xw(n,e){for(;n>0;)e=e[ui],n--;return e}function ya(n){return!!(n[ie]&9216||n[At]?.dirty)}function Jl(n){n[pn].changeDetectionScheduler?.notify(8),n[ie]&64&&(n[ie]|=1024),ya(n)&&va(n)}function va(n){n[pn].changeDetectionScheduler?.notify(0);let e=Tr(n);for(;e!==null&&!(e[ie]&8192||(e[ie]|=8192,!Yl(e)));)e=Tr(e)}function Op(n,e){if(yi(n))throw new q(911,!1);n[Bn]===null&&(n[Bn]=[]),n[Bn].push(e)}function Nw(n,e){if(n[Bn]===null)return;let t=n[Bn].indexOf(e);t!==-1&&n[Bn].splice(t,1)}function Tr(n){let e=n[We];return Qt(e)?e[We]:e}function Mw(n){return n[To]??=[]}function Pw(n){return n.cleanup??=[]}var ae={lFrame:Ww(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var rp=!1;function kw(){return ae.lFrame.elementDepthCount}function Ow(){ae.lFrame.elementDepthCount++}function Lp(){ae.lFrame.elementDepthCount--}function Lw(){return ae.bindingsEnabled}function Fw(){return ae.skipHydrationRootTNode!==null}function Fp(n){return ae.skipHydrationRootTNode===n}function Vp(){ae.skipHydrationRootTNode=null}function Ie(){return ae.lFrame.lView}function Yt(){return ae.lFrame.tView}function Co(n){return ae.lFrame.contextLView=n,n[Pe]}function Do(n){return ae.lFrame.contextLView=null,n}function vn(){let n=jp();for(;n!==null&&n.type===64;)n=n.parent;return n}function jp(){return ae.lFrame.currentTNode}function Vw(){let n=ae.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Ao(n,e){let t=ae.lFrame;t.currentTNode=n,t.isParent=e}function Up(){return ae.lFrame.isParent}function jw(){ae.lFrame.isParent=!1}function Bp(){return rp}function $p(n){let e=rp;return rp=n,e}function Uw(){return ae.lFrame.bindingIndex}function Bw(n){return ae.lFrame.bindingIndex=n}function _a(){return ae.lFrame.bindingIndex++}function Xl(n){let e=ae.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function $w(){return ae.lFrame.inI18n}function Hw(n,e){let t=ae.lFrame;t.bindingIndex=t.bindingRootIndex=n,Zl(e)}function qw(){return ae.lFrame.currentDirectiveIndex}function Zl(n){ae.lFrame.currentDirectiveIndex=n}function zw(n){let e=ae.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function Hp(n){ae.lFrame.currentQueryIndex=n}function vN(n){let e=n[ee];return e.type===2?e.declTNode:e.type===1?n[jt]:null}function qp(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=vN(o),i===null||(o=o[ui],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=ae.lFrame=Gw();return r.currentTNode=e,r.lView=n,!0}function eu(n){let e=Gw(),t=n[ee];ae.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Gw(){let n=ae.lFrame,e=n===null?null:n.child;return e===null?Ww(n):e}function Ww(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function Kw(){let n=ae.lFrame;return ae.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var zp=Kw;function tu(){let n=Kw();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Qw(n){return(ae.lFrame.contextLView=xw(n,ae.lFrame.contextLView))[Pe]}function _n(){return ae.lFrame.selectedIndex}function Ar(n){ae.lFrame.selectedIndex=n}function Yw(){let n=ae.lFrame;return ma(n.tView,n.selectedIndex)}function Jw(){return ae.lFrame.currentNamespace}var Xw=!0;function nu(){return Xw}function ru(n){Xw=n}function ip(n,e=null,t=null,r){let i=Gp(n,e,t,r);return i.resolveInjectorInitializers(),i}function Gp(n,e=null,t=null,r,i=new Set){let o=[t||fn,Iw(n)];return r=r||(typeof n=="object"?void 0:$n(n)),new si(o,e||ha(),r||null,i)}var Ze=class n{static THROW_IF_NOT_FOUND=ni;static NULL=new sa;static create(e,t){if(Array.isArray(e))return ip({name:""},t,e,"");{let r=e.name??"";return ip({name:r},e.parent,e.providers,r)}}static \u0275prov=Q({token:n,providedIn:"any",factory:()=>re(bp)});static __NG_ELEMENT_ID__=-1},Ve=new G(""),Wn=(()=>{class n{static __NG_ELEMENT_ID__=_N;static __NG_ENV_ID__=t=>t}return n})(),op=class extends Wn{_lView;constructor(e){super(),this._lView=e}get destroyed(){return yi(this._lView)}onDestroy(e){let t=this._lView;return Op(t,e),()=>Nw(t,e)}};function _N(){return new op(Ie())}var Zw=!1,eT=new G(""),Kn=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Je(!1);debugTaskTracker=P(eT,{optional:!0});get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new le(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),this.debugTaskTracker?.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.debugTaskTracker?.remove(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=Q({token:n,providedIn:"root",factory:()=>new n})}return n})(),sp=class extends ct{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,Sw()&&(this.destroyRef=P(Wn,{optional:!0})??void 0,this.pendingTasks=P(Kn,{optional:!0})??void 0)}emit(e){let t=J(null);try{super.next(e)}finally{J(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof qe&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},pt=sp;function Vl(...n){}function Wp(n){let e,t;function r(){n=Vl;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function tT(n){return queueMicrotask(()=>n()),()=>{n=Vl}}var Kp="isAngularZone",aa=Kp+"_ID",EN=0,Me=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new pt(!1);onMicrotaskEmpty=new pt(!1);onStable=new pt(!1);onError=new pt(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=Zw}=e;if(typeof Zone>"u")throw new q(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,TN(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Kp)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new q(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new q(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,IN,Vl,Vl);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},IN={};function Qp(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function wN(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){Wp(()=>{n.callbackScheduled=!1,ap(n),n.isCheckStableRunning=!0,Qp(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),ap(n)}function TN(n){let e=()=>{wN(n)},t=EN++;n._inner=n._inner.fork({name:"angular",properties:{[Kp]:!0,[aa]:t,[aa+t]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(bN(l))return r.invokeTask(o,s,a,l);try{return hw(n),r.invokeTask(o,s,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),fw(n)}},onInvoke:(r,i,o,s,a,l,u)=>{try{return hw(n),r.invoke(o,s,a,l,u)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!SN(l)&&e(),fw(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,ap(n),Qp(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function ap(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function hw(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function fw(n){n._nesting--,Qp(n)}var ca=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new pt;onMicrotaskEmpty=new pt;onStable=new pt;onError=new pt;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function bN(n){return nT(n,"__ignore_ng_zone__")}function SN(n){return nT(n,"__scheduler_tick__")}function nT(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Hn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Jt=new G("",{factory:()=>{let n=P(Me),e=P(Ne),t;return r=>{n.runOutsideAngular(()=>{e.destroyed&&!t?setTimeout(()=>{throw r}):(t??=e.get(Hn),t.handleError(r))})}}}),rT={provide:Cr,useValue:()=>{let n=P(Hn,{optional:!0})},multi:!0},CN=new G("",{factory:()=>{let n=P(Ve).defaultView;if(!n)return;let e=P(Jt),t=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{n.addEventListener("unhandledrejection",t),n.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),P(Wn).onDestroy(()=>{n.removeEventListener("error",r),n.removeEventListener("unhandledrejection",t)})}});function Yp(){return Ft([Ew(()=>{P(CN)})])}function gt(n,e){let[t,r,i]=xf(n,e?.equal),o=t,s=o[_t];return o.set=r,o.update=i,o.asReadonly=iT.bind(o),o}function iT(){let n=this[_t];if(n.readonlyFn===void 0){let e=()=>this();e[_t]=n,n.readonlyFn=e}return n.readonlyFn}var ai=class{},Ea=new G("",{factory:()=>!0});var Jp=new G(""),Ro=(()=>{class n{internalPendingTasks=P(Kn);scheduler=P(ai);errorHandler=P(Jt);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=Q({token:n,providedIn:"root",factory:()=>new n})}return n})(),Xp=(()=>{class n{static \u0275prov=Q({token:n,providedIn:"root",factory:()=>new cp})}return n})(),cp=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}},lp=class{[_t];constructor(e){this[_t]=e}destroy(){this[_t].destroy()}};function En(n){return Nf(n)}function Ra(n){return{toString:n}.toString()}var iu="__parameters__";function LN(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function FN(n,e,t){return Ra(()=>{let r=LN(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,u,h){let f=l.hasOwnProperty(iu)?l[iu]:Object.defineProperty(l,iu,{value:[]})[iu];for(;f.length<=h;)f.push(null);return(f[h]=f[h]||[]).push(s),l}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var wn=vw(FN("Optional"),8);function VN(n){return typeof n=="function"}function FT(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var hu=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}},Fg=(()=>{let n=()=>VT;return n.ngInherit=!0,n})();function VT(n){return n.type.prototype.ngOnChanges&&(n.setInput=UN),jN}function jN(){let n=UT(this),e=n?.current;if(e){let t=n.previous;if(t===li)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function UN(n,e,t,r,i){let o=this.declaredInputs[r],s=UT(n)||BN(n,{previous:li,current:null}),a=s.current||(s.current={}),l=s.previous,u=l[o];a[o]=new hu(u&&u.currentValue,t,l===li),FT(n,e,i,t)}var jT="__ngSimpleChanges__";function UT(n){return n[jT]||null}function BN(n,e){return n[jT]=e}var oT=[];var Te=function(n,e=null,t){for(let r=0;r<oT.length;r++){let i=oT[r];i(n,e,t)}},pe=(function(n){return n[n.TemplateCreateStart=0]="TemplateCreateStart",n[n.TemplateCreateEnd=1]="TemplateCreateEnd",n[n.TemplateUpdateStart=2]="TemplateUpdateStart",n[n.TemplateUpdateEnd=3]="TemplateUpdateEnd",n[n.LifecycleHookStart=4]="LifecycleHookStart",n[n.LifecycleHookEnd=5]="LifecycleHookEnd",n[n.OutputStart=6]="OutputStart",n[n.OutputEnd=7]="OutputEnd",n[n.BootstrapApplicationStart=8]="BootstrapApplicationStart",n[n.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",n[n.BootstrapComponentStart=10]="BootstrapComponentStart",n[n.BootstrapComponentEnd=11]="BootstrapComponentEnd",n[n.ChangeDetectionStart=12]="ChangeDetectionStart",n[n.ChangeDetectionEnd=13]="ChangeDetectionEnd",n[n.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",n[n.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",n[n.AfterRenderHooksStart=16]="AfterRenderHooksStart",n[n.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",n[n.ComponentStart=18]="ComponentStart",n[n.ComponentEnd=19]="ComponentEnd",n[n.DeferBlockStateStart=20]="DeferBlockStateStart",n[n.DeferBlockStateEnd=21]="DeferBlockStateEnd",n[n.DynamicComponentStart=22]="DynamicComponentStart",n[n.DynamicComponentEnd=23]="DynamicComponentEnd",n[n.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",n[n.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",n})(pe||{});function $N(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=VT(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function HN(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function lu(n,e,t){BT(n,e,3,t)}function uu(n,e,t,r){(n[ie]&3)===t&&BT(n,e,t,r)}function Zp(n,e){let t=n[ie];(t&3)===e&&(t&=16383,t+=1,n[ie]=t)}function BT(n,e,t,r){let i=r!==void 0?n[hi]&65535:0,o=r??-1,s=e.length-1,a=0;for(let l=i;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(n[hi]+=65536),(a<o||o==-1)&&(qN(n,t,e,l),n[hi]=(n[hi]&4294901760)+l+2),l++}function sT(n,e){Te(pe.LifecycleHookStart,n,e);let t=J(null);try{e.call(n)}finally{J(t),Te(pe.LifecycleHookEnd,n,e)}}function qN(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[ie]>>14<n[hi]>>16&&(n[ie]&3)===e&&(n[ie]+=16384,sT(a,o)):sT(a,o)}var No=-1,Ta=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function zN(n){return(n.flags&8)!==0}function GN(n){return(n.flags&16)!==0}function WN(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];QN(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function KN(n){return n===3||n===4||n===6}function QN(n){return n.charCodeAt(0)===64}function Du(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?aT(n,t,i,null,e[++r]):aT(n,t,i,null,null))}}return n}function aT(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function $T(n){return n!==No}function fu(n){return n&32767}function YN(n){return n>>16}function pu(n,e){let t=YN(n),r=e;for(;t>0;)r=r[ui],t--;return r}var sg=!0;function cT(n){let e=sg;return sg=n,e}var JN=256,HT=JN-1,qT=5,XN=0,In={};function ZN(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(ci)&&(r=t[ci]),r==null&&(r=t[ci]=XN++);let i=r&HT,o=1<<i;e.data[n+(i>>qT)]|=o}function zT(n,e){let t=GT(n,e);if(t!==-1)return t;let r=e[ee];r.firstCreatePass&&(n.injectorIndex=e.length,eg(r.data,n),eg(e,null),eg(r.blueprint,null));let i=Vg(n,e),o=n.injectorIndex;if($T(i)){let s=fu(i),a=pu(i,e),l=a[ee].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|l[s+u]}return e[o+8]=i,o}function eg(n,e){n.push(0,0,0,0,0,0,0,0,e)}function GT(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Vg(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=JT(i),r===null)return No;if(t++,i=i[ui],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return No}function eM(n,e,t){ZN(n,e,t)}function WT(n,e,t){if(t&8||n!==void 0)return n;ql(e,"NodeInjector")}function KT(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[qn],o=Ct(void 0);try{return i?i.get(e,r,t&8):Ip(e,r,t&8)}finally{Ct(o)}}return WT(r,e,t)}function QT(n,e,t,r=0,i){if(n!==null){if(e[ie]&2048&&!(r&2)){let s=oM(n,e,t,r,In);if(s!==In)return s}let o=YT(n,e,t,r,In);if(o!==In)return o}return KT(e,t,r,i)}function YT(n,e,t,r,i){let o=rM(t);if(typeof o=="function"){if(!qp(e,n,r))return r&1?WT(i,t,r):KT(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))ql(t);else return s}finally{zp()}}else if(typeof o=="number"){let s=null,a=GT(n,e),l=No,u=r&1?e[Dt][jt]:null;for((a===-1||r&4)&&(l=a===-1?Vg(n,e):e[a+8],l===No||!uT(r,!1)?a=-1:(s=e[ee],a=fu(l),e=pu(l,e)));a!==-1;){let h=e[ee];if(lT(o,a,h.data)){let f=tM(a,e,t,s,r,u);if(f!==In)return f}l=e[a+8],l!==No&&uT(r,e[ee].data[a+8]===u)&&lT(o,a,e)?(s=h,a=fu(l),e=pu(l,e)):a=-1}}return i}function tM(n,e,t,r,i,o){let s=e[ee],a=s.data[n+8],l=r==null?gi(a)&&sg:r!=s&&(a.type&3)!==0,u=i&1&&o===a,h=nM(a,s,t,l,u);return h!==null?ag(e,s,h,a,i):In}function nM(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,l=n.directiveStart,u=n.directiveEnd,h=o>>20,f=r?a:a+h,m=i?a+h:u;for(let y=f;y<m;y++){let T=s[y];if(y<l&&t===T||y>=l&&T.type===t)return y}if(i){let y=s[l];if(y&&mi(y)&&y.type===t)return l}return null}function ag(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof Ta){let a=o;if(a.resolving)throw Ep("");let l=cT(a.canSeeViewProviders);a.resolving=!0;let u=s[t].type||s[t],h,f=a.injectImpl?Ct(a.injectImpl):null,m=qp(n,r,0);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&$N(t,s[t],e)}finally{f!==null&&Ct(f),cT(l),a.resolving=!1,zp()}}return o}function rM(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(ci)?n[ci]:void 0;return typeof e=="number"?e>=0?e&HT:iM:e}function lT(n,e,t){let r=1<<n;return!!(t[e+(n>>qT)]&r)}function uT(n,e){return!(n&2)&&!(n&1&&e)}var vi=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return QT(this._tNode,this._lView,e,ii(r),t)}};function iM(){return new vi(vn(),Ie())}function Au(n){return Ra(()=>{let e=n.prototype.constructor,t=e[oa]||cg(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[oa]||cg(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function cg(n){return dp(n)?()=>{let e=cg(It(n));return e&&e()}:oi(n)}function oM(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[ie]&2048&&!So(s);){let a=YT(o,s,t,r|2,In);if(a!==In)return a;let l=o.parent;if(!l){let u=s[Rp];if(u){let h=u.get(t,In,r);if(h!==In)return h}l=JT(s),s=s[ui]}o=l}return i}function JT(n){let e=n[ee],t=e.type;return t===2?e.declTNode:t===1?n[jt]:null}function sM(){return jg(vn(),Ie())}function jg(n,e){return new XT(gn(n,e))}var XT=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=sM}return n})();function ZT(n){return(n.flags&128)===128}var Ug=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(Ug||{}),eb=new Map,aM=0;function cM(){return aM++}function lM(n){eb.set(n[zn],n)}function lg(n){eb.delete(n[zn])}var dT="__ngContext__";function Mo(n,e){Gn(e)?(n[dT]=e[zn],lM(e)):n[dT]=e}function tb(n){return rb(n[bo])}function nb(n){return rb(n[Vt])}function rb(n){for(;n!==null&&!Qt(n);)n=n[Vt];return n}var ug;function Bg(n){ug=n}function ib(){if(ug!==void 0)return ug;if(typeof document<"u")return document;throw new q(210,!1)}var Ru=new G("",{factory:()=>uM}),uM="ng";var xu=new G(""),Ti=new G("",{providedIn:"platform",factory:()=>"unknown"});var Nu=new G("",{factory:()=>P(Ve).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var ob="r";var sb="di";var ab=!1,cb=new G("",{factory:()=>ab});var dM=(n,e,t,r)=>{};function hM(n,e,t,r){dM(n,e,t,r)}function $g(n){return(n.flags&32)===32}var fM=()=>null;function lb(n,e,t=!1){return fM(n,e,t)}function ub(n,e){let t=n.contentQueries;if(t!==null){let r=J(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];Hp(o),a.contentQueries(2,e[s],s)}}}finally{J(r)}}}function dg(n,e,t){Hp(0);let r=J(null);try{e(n,t)}finally{J(r)}}function db(n,e,t){if(Np(e)){let r=J(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let l=t[s];a.contentQueries(1,l,s)}}}finally{J(r)}}}var Zt=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n[n.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",n})(Zt||{});var ou;function pM(){if(ou===void 0&&(ou=null,br.trustedTypes))try{ou=br.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return ou}function Mu(n){return pM()?.createHTML(n)||n}var su;function gM(){if(su===void 0&&(su=null,br.trustedTypes))try{su=br.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return su}function hT(n){return gM()?.createHTML(n)||n}var Qn=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${jl})`}},hg=class extends Qn{getTypeName(){return"HTML"}},fg=class extends Qn{getTypeName(){return"Style"}},pg=class extends Qn{getTypeName(){return"Script"}},gg=class extends Qn{getTypeName(){return"URL"}},mg=class extends Qn{getTypeName(){return"ResourceURL"}};function Bt(n){return n instanceof Qn?n.changingThisBreaksApplicationSecurity:n}function Jn(n,e){let t=hb(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${jl})`)}return t===e}function hb(n){return n instanceof Qn&&n.getTypeName()||null}function Hg(n){return new hg(n)}function qg(n){return new fg(n)}function zg(n){return new pg(n)}function Gg(n){return new gg(n)}function Wg(n){return new mg(n)}function mM(n){let e=new vg(n);return yM()?new yg(e):e}var yg=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(Mu(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},vg=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=Mu(e),t}};function yM(){try{return!!new window.DOMParser().parseFromString(Mu(""),"text/html")}catch{return!1}}var vM=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function xa(n){return n=String(n),n.match(vM)?n:"unsafe:"+n}function Xn(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function Na(...n){let e={};for(let t of n)for(let r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}var fb=Xn("area,br,col,hr,img,wbr"),pb=Xn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),gb=Xn("rp,rt"),_M=Na(gb,pb),EM=Na(pb,Xn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),IM=Na(gb,Xn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),fT=Na(fb,EM,IM,_M),mb=Xn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),wM=Xn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),TM=Xn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),bM=Na(mb,wM,TM),SM=Xn("script,style,template"),_g=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let t=e.firstChild,r=!0,i=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild){i.push(t),t=AM(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=DM(t);if(o){t=o;break}t=i.pop()}}return this.buf.join("")}startElement(e){let t=pT(e).toLowerCase();if(!fT.hasOwnProperty(t))return this.sanitizedSomething=!0,!SM.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!bM.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;mb[a]&&(l=xa(l)),this.buf.push(" ",s,'="',gT(l),'"')}return this.buf.push(">"),!0}endElement(e){let t=pT(e).toLowerCase();fT.hasOwnProperty(t)&&!fb.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(gT(e))}};function CM(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function DM(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw yb(e);return e}function AM(n){let e=n.firstChild;if(e&&CM(n,e))throw yb(e);return e}function pT(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function yb(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var RM=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,xM=/([^\#-~ |!])/g;function gT(n){return n.replace(/&/g,"&amp;").replace(RM,function(e){let t=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((t-55296)*1024+(r-56320)+65536)+";"}).replace(xM,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var au;function Pu(n,e){let t=null;try{au=au||mM(n);let r=e?String(e):"";t=au.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=t.innerHTML,t=au.getInertBodyElement(r)}while(r!==o);let a=new _g().sanitizeChildren(mT(t)||t);return Mu(a)}finally{if(t){let r=mT(t)||t;for(;r.firstChild;)r.firstChild.remove()}}}function mT(n){return"content"in n&&NM(n)?n.content:null}function NM(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}function MM(n,e){return n.createText(e)}function PM(n,e,t){n.setValue(e,t)}function vb(n,e,t){return n.createElement(e,t)}function gu(n,e,t,r,i){n.insertBefore(e,t,r,i)}function _b(n,e,t){n.appendChild(e,t)}function yT(n,e,t,r,i){r!==null?gu(n,e,t,r,i):_b(n,e,t)}function Eb(n,e,t,r){n.removeChild(null,e,t,r)}function kM(n,e,t){n.setAttribute(e,"style",t)}function OM(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Ib(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&WN(n,e,r),i!==null&&OM(n,e,i),o!==null&&kM(n,e,o)}var en=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(en||{});function ku(n){let e=wb();return e?hT(e.sanitize(en.HTML,n)||""):Jn(n,"HTML")?hT(Bt(n)):Pu(ib(),Eo(n))}function Ma(n){let e=wb();return e?e.sanitize(en.URL,n)||"":Jn(n,"URL")?Bt(n):xa(Eo(n))}function wb(){let n=Ie();return n&&n[pn].sanitizer}function Tb(n){return n instanceof Function?n():n}function LM(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var bb="ng-template";function FM(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&LM(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Kg(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Kg(n){return n.type===4&&n.value!==bb}function VM(n,e,t){let r=n.type===4&&!t?bb:n.value;return e===r}function jM(n,e,t){let r=4,i=n.attrs,o=i!==null?$M(i):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!Xt(r)&&!Xt(l))return!1;if(s&&Xt(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!VM(n,l,t)||l===""&&e.length===1){if(Xt(r))return!1;s=!0}}else if(r&8){if(i===null||!FM(n,i,l,t)){if(Xt(r))return!1;s=!0}}else{let u=e[++a],h=UM(l,i,Kg(n),t);if(h===-1){if(Xt(r))return!1;s=!0;continue}if(u!==""){let f;if(h>o?f="":f=i[h+1].toLowerCase(),r&2&&u!==f){if(Xt(r))return!1;s=!0}}}}return Xt(r)||s}function Xt(n){return(n&1)===0}function UM(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return HM(e,n)}function BM(n,e,t=!1){for(let r=0;r<e.length;r++)if(jM(n,e[r],t))return!0;return!1}function $M(n){for(let e=0;e<n.length;e++){let t=n[e];if(KN(t))return e}return n.length}function HM(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function vT(n,e){return n?":not("+e.trim()+")":e}function qM(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Xt(s)&&(e+=vT(o,i),i=""),r=s,o=o||!Xt(r);t++}return i!==""&&(e+=vT(o,i)),e}function zM(n){return n.map(qM).join(",")}function GM(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!Xt(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Rt={};function Qg(n,e,t,r,i,o,s,a,l,u,h){let f=et+r,m=f+i,y=WM(f,m),T=typeof u=="function"?u():u;return y[ee]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:T,incompleteFirstPass:!1,ssrId:h}}function WM(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Rt);return t}function KM(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Qg(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Yg(n,e,t,r,i,o,s,a,l,u,h){let f=e.blueprint.slice();return f[Kt]=i,f[ie]=r|4|128|8|64|1024,(u!==null||n&&n[ie]&2048)&&(f[ie]|=2048),Pp(f),f[We]=f[ui]=n,f[Pe]=t,f[pn]=s||n&&n[pn],f[Fe]=a||n&&n[Fe],f[qn]=l||n&&n[qn]||null,f[jt]=o,f[zn]=cM(),f[wo]=h,f[Rp]=u,f[Dt]=e.type==2?n[Dt]:f,f}function QM(n,e,t){let r=gn(e,n),i=KM(t),o=n[pn].rendererFactory,s=Jg(n,Yg(n,i,null,Sb(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function Sb(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function Cb(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Jg(n,e){return n[bo]?n[Ap][Vt]=e:n[bo]=e,n[Ap]=e,e}function oe(n=1){Db(Yt(),Ie(),_n()+n,!1)}function Db(n,e,t,r){if(!r)if((e[ie]&3)===3){let o=n.preOrderCheckHooks;o!==null&&lu(e,o,t)}else{let o=n.preOrderHooks;o!==null&&uu(e,o,0,t)}Ar(t)}var Ou=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(Ou||{});function Eg(n,e,t,r){let i=J(null);try{let[o,s,a]=n.inputs[t],l=null;(s&Ou.SignalBased)!==0&&(l=e[o][_t]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,l,r,t,o):FT(e,l,o,r)}finally{J(i)}}var Yn=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(Yn||{}),YM;function Xg(n,e){return YM(n,e)}var _i=new Set,Zg=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(Zg||{}),Pa=new G(""),_T=new Set;function xr(n){_T.has(n)||(_T.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var Ab=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=Q({token:n,providedIn:"root",factory:()=>new n})}return n})();var em=new G("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:P(Ne)})});function Rb(n,e,t){let r=n.get(em);if(Array.isArray(e))for(let i of e)r.queue.add(i),t?.detachedLeaveAnimationFns?.push(i);else r.queue.add(e),t?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(n)}function JM(n,e){let t=n.get(em);if(e.detachedLeaveAnimationFns){for(let r of e.detachedLeaveAnimationFns)t.queue.delete(r);e.detachedLeaveAnimationFns=void 0}}function XM(n,e){for(let[t,r]of e)Rb(n,r.animateFns)}function ZM(n,e){let t=n.get(em);if(Array.isArray(e))for(let r of e)t.queue.delete(r);else t.queue.delete(e)}function ET(n,e,t,r){let i=n?.[pi]?.enter;e!==null&&i&&i.has(t.index)&&XM(r,i)}function xo(n,e,t,r,i,o,s,a){if(i!=null){let l,u=!1;Qt(i)?l=i:Gn(i)&&(u=!0,i=i[Kt]);let h=Ut(i);n===0&&r!==null?(ET(a,r,o,t),s==null?_b(e,r,h):gu(e,r,h,s||null,!0)):n===1&&r!==null?(ET(a,r,o,t),gu(e,r,h,s||null,!0)):n===2?IT(a,o,t,f=>{Eb(e,h,u,f)}):n===3&&IT(a,o,t,()=>{e.destroyNode(h)}),l!=null&&hP(e,n,t,l,o,r,s)}}function eP(n,e){xb(n,e),e[Kt]=null,e[jt]=null}function tP(n,e,t,r,i,o){r[Kt]=i,r[jt]=e,Fu(n,r,t,1,i,o)}function xb(n,e){e[pn].changeDetectionScheduler?.notify(9),Fu(n,e,e[Fe],2,null,null)}function nP(n){let e=n[bo];if(!e)return tg(n[ee],n);for(;e;){let t=null;if(Gn(e))t=e[bo];else{let r=e[ke];r&&(t=r)}if(!t){for(;e&&!e[Vt]&&e!==n;)Gn(e)&&tg(e[ee],e),e=e[We];e===null&&(e=n),Gn(e)&&tg(e[ee],e),t=e&&e[Vt]}e=t}}function tm(n,e){let t=n[ga],r=t.indexOf(e);t.splice(r,1)}function Lu(n,e){if(yi(e))return;let t=e[Fe];t.destroyNode&&Fu(n,e,t,3,null,null),nP(e)}function tg(n,e){if(yi(e))return;let t=J(null);try{e[ie]&=-129,e[ie]|=256,e[At]&&Js(e[At]),oP(n,e),iP(n,e),e[ee].type===1&&e[Fe].destroy();let r=e[di];if(r!==null&&Qt(e[We])){r!==e[We]&&tm(r,e);let i=e[fi];i!==null&&i.detachView(n)}lg(e)}finally{J(t)}}function IT(n,e,t,r){let i=n?.[pi];if(i?.enter?.has(e.index)&&ZM(t,i.enter.get(e.index).animateFns),i==null||i.leave==null||!i.leave.has(e.index))return r(!1);n&&_i.add(n[zn]),Rb(t,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),a=[];if(s){for(let l=0;l<s.animateFns.length;l++){let u=s.animateFns[l],{promise:h}=u();a.push(h)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),rP(n,r)}else n&&_i.delete(n[zn]),r(!1)},i)}function rP(n,e){let t=n[pi]?.running;if(t){t.then(()=>{n[pi].running=void 0,_i.delete(n[zn]),e(!0)});return}e(!1)}function iP(n,e){let t=n.cleanup,r=e[To];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[To]=null);let i=e[Bn];if(i!==null){e[Bn]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[fa];if(o!==null){e[fa]=null;for(let s of o)s.destroy()}}function oP(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Ta)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];Te(pe.LifecycleHookStart,a,l);try{l.call(a)}finally{Te(pe.LifecycleHookEnd,a,l)}}else{Te(pe.LifecycleHookStart,i,o);try{o.call(i)}finally{Te(pe.LifecycleHookEnd,i,o)}}}}}function sP(n,e,t){return aP(n,e.parent,t)}function aP(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Kt];if(gi(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Zt.None||i===Zt.Emulated)return null}return gn(r,t)}function cP(n,e,t){return uP(n,e,t)}function lP(n,e,t){return n.type&40?gn(n,t):null}var uP=lP,wT;function nm(n,e,t,r){let i=sP(n,r,e),o=e[Fe],s=r.parent||e[jt],a=cP(s,r,e);if(i!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)yT(o,i,t[l],a,!1);else yT(o,i,t,a,!1);wT!==void 0&&wT(o,r,e,t,i)}function Ia(n,e){if(e!==null){let t=e.type;if(t&3)return gn(e,n);if(t&4)return Ig(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Ia(n,r);{let i=n[e.index];return Qt(i)?Ig(-1,i):Ut(i)}}else{if(t&128)return Ia(n,e.next);if(t&32)return Xg(e,n)()||Ut(n[e.index]);{let r=Nb(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Tr(n[Dt]);return Ia(i,r)}else return Ia(n,e.next)}}}return null}function Nb(n,e){if(e!==null){let r=n[Dt][jt],i=e.projection;return r.projection[i]}return null}function Ig(n,e){let t=ke+n+1;if(t<e.length){let r=e[t],i=r[ee].firstChild;if(i!==null)return Ia(r,i)}return e[Dr]}function rm(n,e,t,r,i,o,s){for(;t!=null;){let a=r[qn];if(t.type===128){t=t.next;continue}let l=r[t.index],u=t.type;if(s&&e===0&&(l&&Mo(Ut(l),r),t.flags|=2),!$g(t))if(u&8)rm(n,e,t.child,r,i,o,!1),xo(e,n,a,i,l,t,o,r);else if(u&32){let h=Xg(t,r),f;for(;f=h();)xo(e,n,a,i,f,t,o,r);xo(e,n,a,i,l,t,o,r)}else u&16?dP(n,e,r,t,i,o):xo(e,n,a,i,l,t,o,r);t=s?t.projectionNext:t.next}}function Fu(n,e,t,r,i,o){rm(t,r,n.firstChild,e,i,o,!1)}function dP(n,e,t,r,i,o){let s=t[Dt],l=s[jt].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++){let h=l[u];xo(e,n,t[qn],i,h,r,o,t)}else{let u=l,h=s[We];ZT(r)&&(u.flags|=128),rm(n,e,u,h,i,o,!0)}}function hP(n,e,t,r,i,o,s){let a=r[Dr],l=Ut(r);a!==l&&xo(e,n,t,o,a,i,s);for(let u=ke;u<r.length;u++){let h=r[u];Fu(h[ee],h,n,e,o,a)}}function fP(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Yn.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Yn.Important),n.setStyle(t,r,i,o))}}function Mb(n,e,t,r,i){let o=_n(),s=r&2;try{Ar(-1),s&&e.length>et&&Db(n,e,et,!1);let a=s?pe.TemplateUpdateStart:pe.TemplateCreateStart;Te(a,i,t),t(r,i)}finally{Ar(o);let a=s?pe.TemplateUpdateEnd:pe.TemplateCreateEnd;Te(a,i,t)}}function Pb(n,e,t){vP(n,e,t),(t.flags&64)===64&&_P(n,e,t)}function im(n,e,t=gn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function pP(n,e,t,r){let o=r.get(cb,ab)||t===Zt.ShadowDom||t===Zt.ExperimentalIsolatedShadowDom,s=n.selectRootElement(e,o);return gP(s),s}function gP(n){mP(n)}var mP=()=>null;function yP(n,e,t,r,i,o){if(n.type&3){let s=gn(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function vP(n,e,t){let r=t.directiveStart,i=t.directiveEnd;gi(t)&&QM(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||zT(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],l=ag(e,n,s,t);if(Mo(l,e),o!==null&&wP(e,s-r,l,a,t,o),mi(a)){let u=mn(t.index,e);u[Pe]=ag(e,n,s,t)}}}function _P(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=qw();try{Ar(o);for(let a=r;a<i;a++){let l=n.data[a],u=e[a];Zl(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&EP(l,u)}}finally{Ar(-1),Zl(s)}}function EP(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function IP(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];BM(e,o.selectors,!1)&&(r??=[],mi(o)?r.unshift(o):r.push(o))}return r}function wP(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],u=s[a+1];Eg(r,t,l,u)}}function kb(n,e,t,r,i){let o=et+t,s=e[ee],a=i(s,e,n,r,t);e[o]=a,Ao(n,!0);let l=n.type===2;return l?(Ib(e[Fe],a,n),(kw()===0||Ql(n))&&Mo(a,e),Ow()):Mo(a,e),nu()&&(!l||!$g(n))&&nm(s,e,a,n),n}function Ob(n){let e=n;return Up()?jw():(e=e.parent,Ao(e,!1)),e}function TP(n,e){let t=n[qn];if(!t)return;let r;try{r=t.get(Jt,null)}catch{r=null}r?.(e)}function Lb(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let l=0;l<s.length;l+=2){let u=s[l],h=s[l+1],f=e.data[u];Eg(f,t[u],h,i),a=!0}if(o)for(let l of o){let u=t[l],h=e.data[l];Eg(h,u,r,i),a=!0}return a}function bP(n,e){let t=mn(e,n),r=t[ee];SP(r,t);let i=t[Kt];i!==null&&t[wo]===null&&(t[wo]=lb(i,t[qn])),Te(pe.ComponentStart);try{om(r,t,t[Pe])}finally{Te(pe.ComponentEnd,t[Pe])}}function SP(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function om(n,e,t){eu(e);try{let r=n.viewQuery;r!==null&&dg(1,r,t);let i=n.template;i!==null&&Mb(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[fi]?.finishViewCreation(n),n.staticContentQueries&&ub(n,e),n.staticViewQueries&&dg(2,n.viewQuery,t);let o=n.components;o!==null&&CP(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ie]&=-5,tu()}}function CP(n,e){for(let t=0;t<e.length;t++)bP(n,e[t])}function sm(n,e,t,r){let i=J(null);try{let o=e.tView,a=n[ie]&4096?4096:16,l=Yg(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=n[e.index];l[di]=u;let h=n[fi];return h!==null&&(l[fi]=h.createEmbeddedView(o)),om(o,l,t),l}finally{J(i)}}function ba(n,e){return!e||e.firstChild===null||ZT(n)}function Sa(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Ut(o)),Qt(o)&&Fb(o,r);let s=t.type;if(s&8)Sa(n,e,t.child,r);else if(s&32){let a=Xg(t,e),l;for(;l=a();)r.push(l)}else if(s&16){let a=Nb(e,t);if(Array.isArray(a))r.push(...a);else{let l=Tr(e[Dt]);Sa(l[ee],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function Fb(n,e){for(let t=ke;t<n.length;t++){let r=n[t],i=r[ee].firstChild;i!==null&&Sa(r[ee],r,i,e)}n[Dr]!==n[Kt]&&e.push(n[Dr])}function Vb(n){if(n[Kl]!==null){for(let e of n[Kl])e.impl.addSequence(e);n[Kl].length=0}}var jb=[];function DP(n){return n[At]??AP(n)}function AP(n){let e=jb.pop()??Object.create(xP);return e.lView=n,e}function RP(n){n.lView[At]!==n&&(n.lView=null,jb.push(n))}var xP=me($({},Ks),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{va(n.lView)},consumerOnSignalRead(){this.lView[At]=this}});function NP(n){let e=n[At]??Object.create(MP);return e.lView=n,e}var MP=me($({},Ks),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Tr(n.lView);for(;e&&!Ub(e[ee]);)e=Tr(e);e&&kp(e)},consumerOnSignalRead(){this.lView[At]=this}});function Ub(n){return n.type!==2}function Bb(n){if(n[fa]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[fa])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[ie]&8192)}}var PP=100;function $b(n,e=0){let r=n[pn].rendererFactory,i=!1;i||r.begin?.();try{kP(n,e)}finally{i||r.end?.()}}function kP(n,e){let t=Bp();try{$p(!0),wg(n,e);let r=0;for(;ya(n);){if(r===PP)throw new q(103,!1);r++,wg(n,1)}}finally{$p(t)}}function OP(n,e,t,r){if(yi(e))return;let i=e[ie],o=!1,s=!1;eu(e);let a=!0,l=null,u=null;o||(Ub(n)?(u=DP(e),l=Ys(u)):al()===null?(a=!1,u=NP(e),l=Ys(u)):e[At]&&(Js(e[At]),e[At]=null));try{Pp(e),Bw(n.bindingStartIndex),t!==null&&Mb(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let y=n.preOrderCheckHooks;y!==null&&lu(e,y,null)}else{let y=n.preOrderHooks;y!==null&&uu(e,y,0,null),Zp(e,0)}if(s||LP(e),Bb(e),Hb(e,0),n.contentQueries!==null&&ub(n,e),!o)if(h){let y=n.contentCheckHooks;y!==null&&lu(e,y)}else{let y=n.contentHooks;y!==null&&uu(e,y,1),Zp(e,1)}VP(n,e);let f=n.components;f!==null&&zb(e,f,0);let m=n.viewQuery;if(m!==null&&dg(2,m,r),!o)if(h){let y=n.viewCheckHooks;y!==null&&lu(e,y)}else{let y=n.viewHooks;y!==null&&uu(e,y,2),Zp(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Wl]){for(let y of e[Wl])y();e[Wl]=null}o||(Vb(e),e[ie]&=-73)}catch(h){throw o||va(e),h}finally{u!==null&&(cl(u,l),a&&RP(u)),tu()}}function Hb(n,e){for(let t=tb(n);t!==null;t=nb(t))for(let r=ke;r<t.length;r++){let i=t[r];qb(i,e)}}function LP(n){for(let e=tb(n);e!==null;e=nb(e)){if(!(e[ie]&2))continue;let t=e[ga];for(let r=0;r<t.length;r++){let i=t[r];kp(i)}}}function FP(n,e,t){Te(pe.ComponentStart);let r=mn(e,n);try{qb(r,t)}finally{Te(pe.ComponentEnd,r[Pe])}}function qb(n,e){Yl(n)&&wg(n,e)}function wg(n,e){let r=n[ee],i=n[ie],o=n[At],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&ll(o)),s||=!1,o&&(o.dirty=!1),n[ie]&=-9217,s)OP(r,n,r.template,n[Pe]);else if(i&8192){let a=J(null);try{Bb(n),Hb(n,1);let l=r.components;l!==null&&zb(n,l,1),Vb(n)}finally{J(a)}}}function zb(n,e,t){for(let r=0;r<e.length;r++)FP(n,e[r],t)}function VP(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Ar(~i);else{let o=i,s=t[++r],a=t[++r];Hw(s,o);let l=e[o];Te(pe.HostBindingsUpdateStart,l);try{a(2,l)}finally{Te(pe.HostBindingsUpdateEnd,l)}}}}finally{Ar(-1)}}function am(n,e){let t=Bp()?64:1088;for(n[pn].changeDetectionScheduler?.notify(e);n;){n[ie]|=t;let r=Tr(n);if(So(n)&&!r)return n;n=r}return null}function Gb(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function Wb(n,e){let t=ke+e;if(t<n.length)return n[t]}function Vu(n,e,t,r=!0){let i=e[ee];if(jP(i,e,n,t),r){let s=Ig(t,n),a=e[Fe],l=a.parentNode(n[Dr]);l!==null&&tP(i,n[jt],a,e,l,s)}let o=e[wo];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Kb(n,e){let t=Ca(n,e);return t!==void 0&&Lu(t[ee],t),t}function Ca(n,e){if(n.length<=ke)return;let t=ke+e,r=n[t];if(r){let i=r[di];i!==null&&i!==n&&tm(i,r),e>0&&(n[t-1][Vt]=r[Vt]);let o=ua(n,ke+e);eP(r[ee],r);let s=o[fi];s!==null&&s.detachView(o[ee]),r[We]=null,r[Vt]=null,r[ie]&=-129}return r}function jP(n,e,t,r){let i=ke+r,o=t.length;r>0&&(t[i-1][Vt]=e),r<o-ke?(e[Vt]=t[i],wp(t,ke+r,e)):(t.push(e),e[Vt]=null),e[We]=t;let s=e[di];s!==null&&t!==s&&Qb(s,e);let a=e[fi];a!==null&&a.insertView(n),Jl(e),e[ie]|=128}function Qb(n,e){let t=n[ga],r=e[We];if(Gn(r))n[ie]|=2;else{let i=r[We][Dt];e[Dt]!==i&&(n[ie]|=2)}t===null?n[ga]=[e]:t.push(e)}var Ei=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[ee];return Sa(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[Pe]}set context(e){this._lView[Pe]=e}get destroyed(){return yi(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[We];if(Qt(e)){let t=e[pa],r=t?t.indexOf(this):-1;r>-1&&(Ca(e,r),ua(t,r))}this._attachedToViewContainer=!1}Lu(this._lView[ee],this._lView)}onDestroy(e){Op(this._lView,e)}markForCheck(){am(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ie]&=-129}reattach(){Jl(this._lView),this._lView[ie]|=128}detectChanges(){this._lView[ie]|=1024,$b(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=So(this._lView),t=this._lView[di];t!==null&&!e&&tm(t,this._lView),xb(this._lView[ee],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new q(902,!1);this._appRef=e;let t=So(this._lView),r=this._lView[di];r!==null&&!t&&Qb(r,this._lView),Jl(this._lView)}};function ju(n,e,t,r,i){let o=n.data[e];if(o===null)o=UP(n,e,t,r,i),$w()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=Vw();o.injectorIndex=s===null?-1:s.injectorIndex}return Ao(o,!0),o}function UP(n,e,t,r,i){let o=jp(),s=Up(),a=s?o:o&&o.parent,l=n.data[e]=$P(n,a,t,e,r,i);return BP(n,l,o,s),l}function BP(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function $P(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Fw()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function HP(n){let e=n[xp]??[],r=n[We][Fe],i=[];for(let o of e)o.data[sb]!==void 0?i.push(o):qP(o,r);n[xp]=i}function qP(n,e){let t=0,r=n.firstChild;if(r){let i=n.data[ob];for(;t<i;){let o=r.nextSibling;Eb(e,r,!1),r=o,t++}}}var zP=()=>null,GP=()=>null;function Tg(n,e){return zP(n,e)}function Yb(n,e,t){return GP(n,e,t)}var Jb=class{},Uu=class{},bg=class{resolveComponentFactory(e){throw new q(917,!1)}},ka=class{static NULL=new bg},Ii=class{};var Xb=(()=>{class n{static \u0275prov=Q({token:n,providedIn:"root",factory:()=>null})}return n})();var du={},Sg=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,du,r);return i!==du||t===du?i:this.parentInjector.get(e,t,r)}};function mu(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Ul(i,a);else if(o==2){let l=a,u=e[++s];r=Ul(r,l+": "+u+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Zb(n,e=0){let t=Ie();if(t===null)return re(n,e);let r=vn();return QT(r,t,It(n),e)}function WP(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a=s,l=null,u=null;for(let h of s)if(h.resolveHostDirectives!==null){[a,l,u]=h.resolveHostDirectives(s);break}YP(n,e,t,a,o,l,u)}o!==null&&r!==null&&KP(t,r,o)}function KP(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new q(-301,!1);r.push(e[i],o)}}function QP(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function YP(n,e,t,r,i,o,s){let a=r.length,l=null;for(let m=0;m<a;m++){let y=r[m];l===null&&mi(y)&&(l=y,QP(n,t,m)),eM(zT(t,e),n,y.type)}nk(t,n.data.length,a),l?.viewProvidersResolver&&l.viewProvidersResolver(l);for(let m=0;m<a;m++){let y=r[m];y.providersResolver&&y.providersResolver(y)}let u=!1,h=!1,f=Cb(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let m=0;m<a;m++){let y=r[m];if(t.mergedAttrs=Du(t.mergedAttrs,y.hostAttrs),XP(n,t,e,f,y),tk(f,y,i),s!==null&&s.has(y)){let[A,D]=s.get(y);t.directiveToIndex.set(y.type,[f,A+t.directiveStart,D+t.directiveStart])}else(o===null||!o.has(y))&&t.directiveToIndex.set(y.type,f);y.contentQueries!==null&&(t.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(t.flags|=64);let T=y.type.prototype;!u&&(T.ngOnChanges||T.ngOnInit||T.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),u=!0),!h&&(T.ngOnChanges||T.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),f++}JP(n,t,o)}function JP(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))TT(0,e,i,r),TT(1,e,i,r),ST(e,r,!1);else{let o=t.get(i);bT(0,e,o,r),bT(1,e,o,r),ST(e,r,!0)}}}function TT(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),eS(e,o)}}function bT(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),eS(e,s)}}function eS(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function ST(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||Kg(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!t&&i.hasOwnProperty(l)){let u=i[l];for(let h of u)if(h===e){s??=[],s.push(l,r[a+1]);break}}else if(t&&o.hasOwnProperty(l)){let u=o[l];for(let h=0;h<u.length;h+=2)if(u[h]===e){s??=[],s.push(u[h+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function XP(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=oi(i.type,!0)),s=new Ta(o,mi(i),Zb,null);n.blueprint[r]=s,t[r]=s,ZP(n,e,r,Cb(n,t,i.hostVars,Rt),i)}function ZP(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;ek(s)!=a&&s.push(a),s.push(t,r,o)}}function ek(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function tk(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;mi(e)&&(t[""]=n)}}function nk(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function tS(n,e,t,r,i,o,s,a){let l=e[ee],u=l.consts,h=yn(u,s),f=ju(l,n,t,r,h);return o&&WP(l,e,f,yn(u,a),i),f.mergedAttrs=Du(f.mergedAttrs,f.attrs),f.attrs!==null&&mu(f,f.attrs,!1),f.mergedAttrs!==null&&mu(f,f.mergedAttrs,!0),l.queries!==null&&l.queries.elementStart(l,f),f}function nS(n,e){HN(n,e),Np(e)&&n.queries.elementEnd(e)}function rk(n,e,t,r,i,o){let s=e.consts,a=yn(s,i),l=ju(e,n,t,r,a);if(l.mergedAttrs=Du(l.mergedAttrs,l.attrs),o!=null){let u=yn(s,o);l.localNames=[];for(let h=0;h<u.length;h+=2)l.localNames.push(u[h],-1)}return l.attrs!==null&&mu(l,l.attrs,!1),l.mergedAttrs!==null&&mu(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function Rr(n,e,t){if(t===Rt)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function ik(n,e,t,r){let i=Rr(n,e,t);return Rr(n,e+1,r)||i}function ok(n,e,t){return function r(i){let o=gi(n)?mn(n.index,e):e;am(o,5);let s=e[Pe],a=CT(e,s,t,i),l=r.__ngNextListenerFn__;for(;l;)a=CT(e,s,l,i)&&a,l=l.__ngNextListenerFn__;return a}}function CT(n,e,t,r){let i=J(null);try{return Te(pe.OutputStart,e,t),t(r)!==!1}catch(o){return TP(n,o),!1}finally{Te(pe.OutputEnd,e,t),J(i)}}function sk(n,e,t,r,i,o,s,a){let l=Ql(n),u=!1,h=null;if(!r&&l&&(h=ck(e,t,o,n.index)),h!==null){let f=h.__ngLastListenerFn__||h;f.__ngNextListenerFn__=s,h.__ngLastListenerFn__=s,u=!0}else{let f=gn(n,t),m=r?r(f):f;hM(t,m,o,a);let y=i.listen(m,o,a);if(!ak(o)){let T=r?A=>r(Ut(A[n.index])):n.index;lk(T,e,t,o,a,y,!1)}}return u}function ak(n){return n.startsWith("animation")||n.startsWith("transition")}function ck(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[To],l=i[o+2];return a&&a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function lk(n,e,t,r,i,o,s){let a=e.firstCreatePass?Pw(e):null,l=Mw(t),u=l.length;l.push(i,o),a&&a.push(r,n,u,(u+1)*(s?-1:1))}var Cg=Symbol("BINDING");var yu=class extends ka{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Sr(e);return new Po(t,this.ngModule)}};function uk(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&Ou.SignalBased)!==0};return i&&(o.transform=i),o})}function dk(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function hk(n,e,t){let r=e instanceof Ne?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new Sg(t,r):t}function fk(n){let e=n.get(Ii,null);if(e===null)throw new q(407,!1);let t=n.get(Xb,null),r=n.get(ai,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function pk(n,e){let t=rS(n);return vb(e,t,t==="svg"?Dw:t==="math"?Aw:null)}function rS(n){return(n.selectors[0][0]||"div").toLowerCase()}var Po=class extends Uu{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=uk(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=dk(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=zM(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){Te(pe.DynamicComponentStart);let a=J(null);try{let l=this.componentDef,u=gk(r,l,s,o),h=hk(l,i||this.ngModule,e),f=fk(h),m=f.rendererFactory.createRenderer(null,l),y=r?pP(m,r,l.encapsulation,h):pk(l,m),T=s?.some(DT)||o?.some(x=>typeof x!="function"&&x.bindings.some(DT)),A=Yg(null,u,null,512|Sb(l),null,null,f,m,h,null,lb(y,h,!0));A[et]=y,eu(A);let D=null;try{let x=tS(et,A,2,"#host",()=>u.directiveRegistry,!0,0);Ib(m,y,x),Mo(y,A),Pb(u,A,x),db(u,x,A),nS(u,x),t!==void 0&&yk(x,this.ngContentSelectors,t),D=mn(x.index,A),A[Pe]=D[Pe],om(u,A,null)}catch(x){throw D!==null&&lg(D),lg(A),x}finally{Te(pe.DynamicComponentEnd),tu()}return new vu(this.componentType,A,!!T)}finally{J(a)}}};function gk(n,e,t,r){let i=n?["ng-version","21.1.4"]:GM(e.selectors[0]),o=null,s=null,a=0;if(t)for(let h of t)a+=h[Cg].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let f=r[h];if(typeof f!="function")for(let m of f.bindings){a+=m[Cg].requiredVars;let y=h+1;m.create&&(m.targetIdx=y,(o??=[]).push(m)),m.update&&(m.targetIdx=y,(s??=[]).push(m))}}let l=[e];if(r)for(let h of r){let f=typeof h=="function"?h:h.type,m=_p(f);l.push(m)}return Qg(0,null,mk(o,s),1,a,l,null,null,null,[i],null)}function mk(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function DT(n){let e=n[Cg].kind;return e==="input"||e==="twoWay"}var vu=class extends Jb{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=ma(t[ee],et),this.location=jg(this._tNode,t),this.instance=mn(this._tNode.index,t)[Pe],this.hostView=this.changeDetectorRef=new Ei(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=Lb(r,i[ee],i,e,t);this.previousInputValues.set(e,t);let s=mn(r.index,i);am(s,1)}get injector(){return new vi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function yk(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Bu=(()=>{class n{static __NG_ELEMENT_ID__=vk}return n})();function vk(){let n=vn();return Ek(n,Ie())}var _k=Bu,iS=class extends _k{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return jg(this._hostTNode,this._hostLView)}get injector(){return new vi(this._hostTNode,this._hostLView)}get parentInjector(){let e=Vg(this._hostTNode,this._hostLView);if($T(e)){let t=pu(e,this._hostLView),r=fu(e),i=t[ee].data[r+8];return new vi(i,t)}else return new vi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=AT(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-ke}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Tg(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,ba(this._hostTNode,s)),a}createComponent(e,t,r,i,o,s,a){let l=e&&!VN(e),u;if(l)u=t;else{let D=t||{};u=D.index,r=D.injector,i=D.projectableNodes,o=D.environmentInjector||D.ngModuleRef,s=D.directives,a=D.bindings}let h=l?e:new Po(Sr(e)),f=r||this.parentInjector;if(!o&&h.ngModule==null){let x=(l?f:this.parentInjector).get(Ne,null);x&&(o=x)}let m=Sr(h.componentType??{}),y=Tg(this._lContainer,m?.id??null),T=y?.firstChild??null,A=h.create(f,i,T,o,s,a);return this.insertImpl(A.hostView,u,ba(this._hostTNode,y)),A}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(Rw(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[We],u=new iS(l,l[jt],l[We]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return Vu(s,i,o,r),e.attachToViewContainerRef(),wp(ng(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=AT(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Ca(this._lContainer,t);r&&(ua(ng(this._lContainer),t),Lu(r[ee],r))}detach(e){let t=this._adjustIndex(e,-1),r=Ca(this._lContainer,t);return r&&ua(ng(this._lContainer),t)!=null?new Ei(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function AT(n){return n[pa]}function ng(n){return n[pa]||(n[pa]=[])}function Ek(n,e){let t,r=e[n.index];return Qt(r)?t=r:(t=Gb(r,e,null,n),e[n.index]=t,Jg(e,t)),wk(t,e,n,r),new iS(t,n,e)}function Ik(n,e){let t=n[Fe],r=t.createComment(""),i=gn(e,n),o=t.parentNode(i);return gu(t,o,r,t.nextSibling(i),!1),r}var wk=Sk,Tk=()=>!1;function bk(n,e,t){return Tk(n,e,t)}function Sk(n,e,t,r){if(n[Dr])return;let i;t.type&8?i=Ut(r):i=Ik(e,t),n[Dr]=i}var ko=class{},$u=class{};var _u=class extends ko{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new yu(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=vp(e);this._bootstrapComponents=Tb(o.bootstrap),this._r3Injector=Gp(e,t,[{provide:ko,useValue:this},{provide:ka,useValue:this.componentFactoryResolver},...r],$n(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Eu=class extends $u{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new _u(this.moduleType,e,[])}};var Da=class extends ko{injector;componentFactoryResolver=new yu(this);instance=null;constructor(e){super();let t=new si([...e.providers,{provide:ko,useValue:this},{provide:ka,useValue:this.componentFactoryResolver}],e.parent||ha(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Oa(n,e,t=null){return new Da({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var Ck=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Cp(!1,t.type),i=r.length>0?Oa([r],this._injector,""):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Q({token:n,providedIn:"environment",factory:()=>new n(re(Ne))})}return n})();function La(n){return Ra(()=>{let e=oS(n),t=me($({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Ug.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(Ck).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Zt.Emulated,styles:n.styles||fn,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&xr("NgStandalone"),sS(t);let r=n.dependencies;return t.directiveDefs=RT(r,Dk),t.pipeDefs=RT(r,pw),t.id=xk(t),t})}function Dk(n){return Sr(n)||_p(n)}function Ak(n,e){if(n==null)return li;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,l;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,l=i[3]||null):(o=i,s=i,a=Ou.None,l=null),t[o]=[r,a,l],e[o]=s}return t}function Rk(n){if(n==null)return li;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function cm(n){return Ra(()=>{let e=oS(n);return sS(e),e})}function oS(n){let e={};return{type:n.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||li,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||fn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:Ak(n.inputs,e),outputs:Rk(n.outputs),debugInfo:null}}function sS(n){n.features?.forEach(e=>e(n))}function RT(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function xk(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Nk(n,e,t,r,i,o,s,a){if(t.firstCreatePass){n.mergedAttrs=Du(n.mergedAttrs,n.attrs);let h=n.tView=Qg(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),h.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),Ao(n,!1);let l=Mk(t,e,n,r);nu()&&nm(t,e,l,n),Mo(l,e);let u=Gb(l,e,l,n);e[r+et]=u,Jg(e,u),bk(u,n,e)}function Iu(n,e,t,r,i,o,s,a,l,u,h){let f=t+et,m;if(e.firstCreatePass){if(m=ju(e,f,4,s||null,a||null),u!=null){let y=yn(e.consts,u);m.localNames=[];for(let T=0;T<y.length;T+=2)m.localNames.push(y[T],-1)}}else m=e.data[f];return Nk(m,n,e,t,r,i,o,l),u!=null&&im(n,m,h),m}var Mk=Pk;function Pk(n,e,t,r){return ru(!0),e[Fe].createComment("")}var Hu=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var lm=new G("");function Fa(n){return!!n&&typeof n.then=="function"}function aS(n){return!!n&&typeof n.subscribe=="function"}var cS=new G("");var um=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=P(cS,{optional:!0})??[];injector=P(Ze);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=Le(this.injector,i);if(Fa(o))t.push(o);else if(aS(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),qu=new G("");function lS(){Rf(()=>{let n="";throw new q(600,n)})}function uS(n){return n.isBoundToModule}var kk=10;var bi=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=P(Jt);afterRenderManager=P(Ab);zonelessEnabled=P(Ea);rootEffectScheduler=P(Xp);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new ct;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=P(Kn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Re(t=>!t))}constructor(){P(Pa,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=P(Ne);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Ze.NULL){return this._injector.get(Me).run(()=>{Te(pe.BootstrapComponentStart);let s=t instanceof Uu;if(!this._injector.get(um).done){let T="";throw new q(405,T)}let l;s?l=t:l=this._injector.get(ka).resolveComponentFactory(t),this.componentTypes.push(l.componentType);let u=uS(l)?void 0:this._injector.get(ko),h=r||l.selector,f=l.create(i,[],h,u),m=f.location.nativeElement,y=f.injector.get(lm,null);return y?.registerApplication(m),f.onDestroy(()=>{this.detachView(f.hostView),wa(this.components,f),y?.unregisterApplication(m)}),this._loadComponent(f),Te(pe.BootstrapComponentEnd,f),f})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Te(pe.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(Zg.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw Te(pe.ChangeDetectionEnd),new q(101,!1);let t=J(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,J(t),this.afterTick.next(),Te(pe.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Ii,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<kk;){Te(pe.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{Te(pe.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!ya(i))continue;let o=r&&!this.zonelessEnabled?0:1;$b(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>ya(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;wa(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(qu,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>wa(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new q(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function wa(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var o3=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var Dg=class{destroy(e){}updateValue(e,t){}swap(e,t){let r=Math.min(e,t),i=Math.max(e,t),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,t){this.attach(t,this.detach(e))}};function rg(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function Ok(n,e,t,r){let i,o,s=0,a=n.length-1,l=void 0;if(Array.isArray(e)){J(r);let u=e.length-1;for(J(null);s<=a&&s<=u;){let h=n.at(s),f=e[s],m=rg(s,h,s,f,t);if(m!==0){m<0&&n.updateValue(s,f),s++;continue}let y=n.at(a),T=e[u],A=rg(a,y,u,T,t);if(A!==0){A<0&&n.updateValue(a,T),a--,u--;continue}let D=t(s,h),x=t(a,y),k=t(s,f);if(Object.is(k,x)){let B=t(u,T);Object.is(B,D)?(n.swap(s,a),n.updateValue(a,T),u--,a--):n.move(a,s),n.updateValue(s,f),s++;continue}if(i??=new wu,o??=NT(n,s,a,t),Ag(n,i,s,k))n.updateValue(s,f),s++,a++;else if(o.has(k))i.set(D,n.detach(s)),a--;else{let B=n.create(s,e[s]);n.attach(s,B),s++,a++}}for(;s<=u;)xT(n,i,t,s,e[s]),s++}else if(e!=null){J(r);let u=e[Symbol.iterator]();J(null);let h=u.next();for(;!h.done&&s<=a;){let f=n.at(s),m=h.value,y=rg(s,f,s,m,t);if(y!==0)y<0&&n.updateValue(s,m),s++,h=u.next();else{i??=new wu,o??=NT(n,s,a,t);let T=t(s,m);if(Ag(n,i,s,T))n.updateValue(s,m),s++,a++,h=u.next();else if(!o.has(T))n.attach(s,n.create(s,m)),s++,a++,h=u.next();else{let A=t(s,f);i.set(A,n.detach(s)),a--}}}for(;!h.done;)xT(n,i,t,n.length,h.value),h=u.next()}for(;s<=a;)n.destroy(n.detach(a--));i?.forEach(u=>{n.destroy(u)})}function Ag(n,e,t,r){return e!==void 0&&e.has(r)?(n.attach(t,e.get(r)),e.delete(r),!0):!1}function xT(n,e,t,r,i){if(Ag(n,e,r,t(r,i)))n.updateValue(r,i);else{let o=n.create(r,i);n.attach(r,o)}}function NT(n,e,t,r){let i=new Set;for(let o=e;o<=t;o++)i.add(r(o,n.at(o)));return i}var wu=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}};function Tn(n,e,t,r,i,o,s,a){xr("NgControlFlow");let l=Ie(),u=Yt(),h=yn(u.consts,o);return Iu(l,u,n,e,t,r,i,h,256,s,a),dm}function dm(n,e,t,r,i,o,s,a){xr("NgControlFlow");let l=Ie(),u=Yt(),h=yn(u.consts,o);return Iu(l,u,n,e,t,r,i,h,512,s,a),dm}function bn(n,e){xr("NgControlFlow");let t=Ie(),r=_a(),i=t[r]!==Rt?t[r]:-1,o=i!==-1?Tu(t,et+i):void 0,s=0;if(Rr(t,r,n)){let a=J(null);try{if(o!==void 0&&Kb(o,s),n!==-1){let l=et+n,u=Tu(t,l),h=Mg(t[ee],l),f=Yb(u,h,t),m=sm(t,h,e,{dehydratedView:f});Vu(u,m,s,ba(h,f))}}finally{J(a)}}else if(o!==void 0){let a=Wb(o,s);a!==void 0&&(a[Pe]=e)}}var Rg=class{lContainer;$implicit;$index;constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-ke}};function Lo(n,e){return e}var xg=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}};function Fo(n,e,t,r,i,o,s,a,l,u,h,f,m){xr("NgControlFlow");let y=Ie(),T=Yt(),A=l!==void 0,D=Ie(),x=a?s.bind(D[Dt][Pe]):s,k=new xg(A,x);D[et+n]=k,Iu(y,T,n+1,e,t,r,i,yn(T.consts,o),256),A&&Iu(y,T,n+2,l,u,h,f,yn(T.consts,m),512)}var Ng=class extends Dg{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r}get length(){return this.lContainer.length-ke}at(e){return this.getLView(e)[Pe].$implicit}attach(e,t){let r=t[wo];this.needsIndexUpdate||=e!==this.length,Vu(this.lContainer,t,e,ba(this.templateTNode,r)),Lk(this.lContainer,e)}detach(e){return this.needsIndexUpdate||=e!==this.length-1,Fk(this.lContainer,e),Vk(this.lContainer,e)}create(e,t){let r=Tg(this.lContainer,this.templateTNode.tView.ssrId);return sm(this.hostLView,this.templateTNode,new Rg(this.lContainer,t,e),{dehydratedView:r})}destroy(e){Lu(e[ee],e)}updateValue(e,t){this.getLView(e)[Pe].$implicit=t}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Pe].$index=e}getLView(e){return jk(this.lContainer,e)}};function Vo(n){let e=J(null),t=_n();try{let r=Ie(),i=r[ee],o=r[t],s=t+1,a=Tu(r,s);if(o.liveCollection===void 0){let u=Mg(i,s);o.liveCollection=new Ng(a,r,u)}else o.liveCollection.reset();let l=o.liveCollection;if(Ok(l,n,o.trackByFn,e),l.updateIndexes(),o.hasEmptyBlock){let u=_a(),h=l.length===0;if(Rr(r,u,h)){let f=t+2,m=Tu(r,f);if(h){let y=Mg(i,f),T=Yb(m,y,r),A=sm(r,y,void 0,{dehydratedView:T});Vu(m,A,0,ba(y,T))}else i.firstUpdatePass&&HP(m),Kb(m,0)}}}finally{J(e)}}function Tu(n,e){return n[e]}function Lk(n,e){if(n.length<=ke)return;let t=ke+e,r=n[t],i=r?r[pi]:void 0;if(r&&i&&i.detachedLeaveAnimationFns&&i.detachedLeaveAnimationFns.length>0){let o=r[qn];JM(o,i),_i.delete(r[zn]),i.detachedLeaveAnimationFns=void 0}}function Fk(n,e){if(n.length<=ke)return;let t=ke+e,r=n[t],i=r?r[pi]:void 0;i&&i.leave&&i.leave.size>0&&(i.detachedLeaveAnimationFns=[])}function Vk(n,e){return Ca(n,e)}function jk(n,e){return Wb(n,e)}function Mg(n,e){return ma(n,e)}function Pg(n,e,t,r,i){Lb(e,n,t,i?"class":"style",r)}function hm(n,e,t,r){let i=Ie(),o=i[ee],s=n+et,a=o.firstCreatePass?tS(s,i,2,e,IP,Lw(),t,r):o.data[s];if(kb(a,i,n,e,dS),Ql(a)){let l=i[ee];Pb(l,i,a),db(l,a,i)}return r!=null&&im(i,a),hm}function fm(){let n=Yt(),e=vn(),t=Ob(e);return n.firstCreatePass&&nS(n,t),Fp(t)&&Vp(),Lp(),t.classesWithoutHost!=null&&zN(t)&&Pg(n,t,Ie(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&GN(t)&&Pg(n,t,Ie(),t.stylesWithoutHost,!1),fm}function zu(n,e,t,r){return hm(n,e,t,r),fm(),zu}function L(n,e,t,r){let i=Ie(),o=i[ee],s=n+et,a=o.firstCreatePass?rk(s,o,2,e,t,r):o.data[s];return kb(a,i,n,e,dS),r!=null&&im(i,a),L}function F(){let n=vn(),e=Ob(n);return Fp(e)&&Vp(),Lp(),F}function tn(n,e,t,r){return L(n,e,t,r),F(),tn}var dS=(n,e,t,r,i)=>(ru(!0),vb(e[Fe],r,Jw()));function Va(){return Ie()}function Zn(n,e,t){let r=Ie(),i=_a();if(Rr(r,i,e)){let o=Yt(),s=Yw();yP(s,r,n,e,r[Fe],t)}return Zn}var ja="en-US";var Uk=ja;function hS(n){typeof n=="string"&&(Uk=n.toLowerCase().replace(/_/g,"-"))}function wt(n,e,t){let r=Ie(),i=Yt(),o=vn();return(o.type&3||t)&&sk(o,i,r,t,r[Fe],n,e,ok(o,r,e)),wt}function xt(n=1){return Qw(n)}function cu(n,e){return n<<17|e<<2}function wi(n){return n>>17&32767}function Bk(n){return(n&2)==2}function $k(n,e){return n&131071|e<<17}function kg(n){return n|2}function Oo(n){return(n&131068)>>2}function ig(n,e){return n&-131069|e<<2}function Hk(n){return(n&1)===1}function Og(n){return n|1}function qk(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=wi(s),l=Oo(s);n[r]=t;let u=!1,h;if(Array.isArray(t)){let f=t;h=f[1],(h===null||Io(f,h)>0)&&(u=!0)}else h=t;if(i)if(l!==0){let m=wi(n[a+1]);n[r+1]=cu(m,a),m!==0&&(n[m+1]=ig(n[m+1],r)),n[a+1]=$k(n[a+1],r)}else n[r+1]=cu(a,0),a!==0&&(n[a+1]=ig(n[a+1],r)),a=r;else n[r+1]=cu(l,0),a===0?a=r:n[l+1]=ig(n[l+1],r),l=r;u&&(n[r+1]=kg(n[r+1])),MT(n,h,r,!0),MT(n,h,r,!1),zk(e,h,n,r,o),s=cu(a,l),o?e.classBindings=s:e.styleBindings=s}function zk(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Io(o,e)>=0&&(t[r+1]=Og(t[r+1]))}function MT(n,e,t,r){let i=n[t+1],o=e===null,s=r?wi(i):Oo(i),a=!1;for(;s!==0&&(a===!1||o);){let l=n[s],u=n[s+1];Gk(l,e)&&(a=!0,n[s+1]=r?Og(u):kg(u)),s=r?wi(u):Oo(u)}a&&(n[t+1]=r?kg(i):Og(i))}function Gk(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Io(n,e)>=0:!1}var mt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Wk(n){return n.substring(mt.key,mt.keyEnd)}function Kk(n){return n.substring(mt.value,mt.valueEnd)}function Qk(n){return Yk(n),fS(n,bu(n,0,mt.textEnd))}function fS(n,e){let t=mt.textEnd,r=mt.key=bu(n,e,t);return t===r?-1:(r=mt.keyEnd=Jk(n,r,t),r=PT(n,r,t,58),r=mt.value=bu(n,r,t),r=mt.valueEnd=Xk(n,r,t),PT(n,r,t,59))}function Yk(n){mt.key=0,mt.keyEnd=0,mt.value=0,mt.valueEnd=0,mt.textEnd=n.length}function bu(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function Jk(n,e,t){let r;for(;e<t&&((r=n.charCodeAt(e))===45||r===95||(r&-33)>=65&&(r&-33)<=90||r>=48&&r<=57);)e++;return e}function PT(n,e,t,r){return e=bu(n,e,t),e<t&&e++,e}function Xk(n,e,t){let r=-1,i=-1,o=-1,s=e,a=s;for(;s<t;){let l=n.charCodeAt(s++);if(l===59)return a;l===34||l===39?a=s=kT(n,l,s,t):e===s-4&&o===85&&i===82&&r===76&&l===40?a=s=kT(n,41,s,t):l>32&&(a=s),o=i,i=r,r=l&-33}return a}function kT(n,e,t,r){let i=-1,o=t;for(;o<r;){let s=n.charCodeAt(o++);if(s==e&&i!==92)return o;s==92&&i===92?i=0:i=s}throw new Error}function Nt(n,e){return eO(n,e,null,!0),Nt}function Ua(n){tO(mS,Zk,n,!1)}function Zk(n,e){for(let t=Qk(e);t>=0;t=fS(e,t))mS(n,Wk(e),Kk(e))}function eO(n,e,t,r){let i=Ie(),o=Yt(),s=Xl(2);if(o.firstUpdatePass&&gS(o,n,s,r),e!==Rt&&Rr(i,s,e)){let a=o.data[_n()];yS(o,a,i,i[Fe],n,i[s+1]=cO(e,t),r,s)}}function tO(n,e,t,r){let i=Yt(),o=Xl(2);i.firstUpdatePass&&gS(i,null,o,r);let s=Ie();if(t!==Rt&&Rr(s,o,t)){let a=i.data[_n()];if(vS(a,r)&&!pS(i,o)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(t=Ul(l,t||"")),Pg(i,a,s,t,r)}else aO(i,a,s,s[Fe],s[o+1],s[o+1]=sO(n,e,t),r,o)}}function pS(n,e){return e>=n.expandoStartIndex}function gS(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[_n()],s=pS(n,t);vS(o,r)&&e===null&&!s&&(e=!1),e=nO(i,o,e,r),qk(i,o,e,t,s,r)}}function nO(n,e,t,r){let i=zw(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=og(null,n,e,t,r),t=Aa(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=og(i,n,e,t,r),o===null){let l=rO(n,e,r);l!==void 0&&Array.isArray(l)&&(l=og(null,n,e,l[1],r),l=Aa(l,e.attrs,r),iO(n,e,r,l))}else o=oO(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function rO(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Oo(r)!==0)return n[wi(r)]}function iO(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[wi(i)]=r}function oO(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Aa(r,s,t)}return Aa(r,e.attrs,t)}function og(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=Aa(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Aa(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),Tp(n,s,t?!0:e[++o]))}return n===void 0?null:n}function sO(n,e,t){if(t==null||t==="")return fn;let r=[],i=Bt(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(i instanceof Set)for(let o of i)n(r,o,!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function mS(n,e,t){Tp(n,e,Bt(t))}function aO(n,e,t,r,i,o,s,a){i===Rt&&(i=fn);let l=0,u=0,h=0<i.length?i[0]:null,f=0<o.length?o[0]:null;for(;h!==null||f!==null;){let m=l<i.length?i[l+1]:void 0,y=u<o.length?o[u+1]:void 0,T=null,A;h===f?(l+=2,u+=2,m!==y&&(T=f,A=y)):f===null||h!==null&&h<f?(l+=2,T=h):(u+=2,T=f,A=y),T!==null&&yS(n,e,t,r,T,A,s,a),h=l<i.length?i[l]:null,f=u<o.length?o[u]:null}}function yS(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let l=n.data,u=l[a+1],h=Hk(u)?OT(l,e,t,i,Oo(u),s):void 0;if(!Su(h)){Su(o)||Bk(u)&&(o=OT(l,null,t,i,a,s));let f=Mp(_n(),t);fP(r,s,f,i,o)}}function OT(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let l=n[i],u=Array.isArray(l),h=u?l[1]:l,f=h===null,m=t[i+1];m===Rt&&(m=f?fn:void 0);let y=f?Gl(m,r):h===r?m:void 0;if(u&&!Su(y)&&(y=Gl(l,r)),Su(y)&&(a=y,s))return a;let T=n[i+1];i=s?wi(T):Oo(T)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=Gl(l,r))}return a}function Su(n){return n!==void 0}function cO(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=$n(Bt(n)))),n}function vS(n,e){return(n.flags&(e?8:16))!==0}function j(n,e=""){let t=Ie(),r=Yt(),i=n+et,o=r.firstCreatePass?ju(r,i,1,e,null):r.data[i],s=lO(r,t,o,e);t[i]=s,nu()&&nm(r,t,s,o),Ao(o,!1)}var lO=(n,e,t,r)=>(ru(!0),MM(e[Fe],r));function _S(n,e,t,r=""){return Rr(n,_a(),t)?e+Eo(t)+r:Rt}function uO(n,e,t,r,i,o=""){let s=Uw(),a=ik(n,s,t,i);return Xl(2),a?e+Eo(t)+r+Eo(i)+o:Rt}function Tt(n){return jo("",n),Tt}function jo(n,e,t){let r=Ie(),i=_S(r,n,e,t);return i!==Rt&&ES(r,_n(),i),jo}function Gu(n,e,t,r,i){let o=Ie(),s=uO(o,n,e,t,r,i);return s!==Rt&&ES(o,_n(),s),Gu}function ES(n,e,t){let r=Mp(e,n);PM(n[Fe],r,t)}function Ba(n,e,t=""){return _S(Ie(),n,e,t)}var Cu=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},pm=(()=>{class n{compileModuleSync(t){return new Eu(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=vp(t),o=Tb(i.declarations).reduce((s,a)=>{let l=Sr(a);return l&&s.push(new Po(l)),s},[]);return new Cu(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var IS=(()=>{class n{applicationErrorHandler=P(Jt);appRef=P(bi);taskService=P(Kn);ngZone=P(Me);zonelessEnabled=P(Ea);tracing=P(Pa,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new qe;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(aa):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(P(Jp,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{let t=this.taskService.add();if(!this.runningTick&&(this.cleanup(),!this.zonelessEnabled||this.appRef.includeAllTestViews)){this.taskService.remove(t);return}this.switchToMicrotaskScheduler(),this.taskService.remove(t)})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}switchToMicrotaskScheduler(){this.ngZone.runOutsideAngular(()=>{let t=this.taskService.add();this.useMicrotaskScheduler=!0,queueMicrotask(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})})}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?tT:Wp;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(aa+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.applicationErrorHandler(r)}finally{this.taskService.remove(t),this.cleanup()}}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function gm(){return xr("NgZoneless"),Ft([...mm(),[]])}function mm(){return[{provide:ai,useExisting:IS},{provide:Me,useClass:ca},{provide:Ea,useValue:!0}]}function dO(){return typeof $localize<"u"&&$localize.locale||ja}var ym=new G("",{factory:()=>P(ym,{optional:!0,skipSelf:!0})||dO()});function er(n,e){return ul(n,e?.equal)}var CS=Symbol("InputSignalNode#UNSET"),wO=me($({},dl),{transformFn:void 0,applyValueToInputSignal(n,e){Xs(n,e)}});function DS(n,e){let t=Object.create(wO);t.value=n,t.transformFn=e?.transform;function r(){if(Qs(t),t.value===CS){let i=null;throw new q(-950,i)}return t.value}return r[_t]=t,r}function wS(n,e){return DS(n,e)}function TO(n){return DS(CS,n)}var AS=(wS.required=TO,wS);var vm=new G(""),bO=new G("");function $a(n){return!n.moduleRef}function SO(n){let e=$a(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Me);return t.run(()=>{$a(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Jt),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),$a(n)){let o=()=>e.destroy(),s=n.platformInjector.get(vm);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(vm);s.add(o),n.moduleRef.onDestroy(()=>{wa(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return DO(r,t,()=>{let o=e.get(Kn),s=o.add(),a=e.get(um);return a.runInitializers(),a.donePromise.then(()=>{let l=e.get(ym,ja);if(hS(l||ja),!e.get(bO,!0))return $a(n)?e.get(bi):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if($a(n)){let h=e.get(bi);return n.rootComponent!==void 0&&h.bootstrap(n.rootComponent),h}else return CO?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>{o.remove(s)})})})}var CO;function DO(n,e,t){try{let r=t();return Fa(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var Wu=null;function AO(n=[],e){return Ze.create({name:e,providers:[{provide:da,useValue:"platform"},{provide:vm,useValue:new Set([()=>Wu=null])},...n]})}function RO(n=[]){if(Wu)return Wu;let e=AO(n);return Wu=e,lS(),xO(e),e}function xO(n){let e=n.get(xu,null);Le(n,()=>{e?.forEach(t=>t())})}function _m(){return!1}var NO=1e4;var FK=NO-1e3;var RS=(()=>{class n{static __NG_ELEMENT_ID__=MO}return n})();function MO(n){return PO(vn(),Ie(),(n&16)===16)}function PO(n,e,t){if(gi(n)&&!t){let r=mn(n.index,e);return new Ei(r,r)}else if(n.type&175){let r=e[Dt];return new Ei(r,e)}return null}function xS(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;Te(pe.BootstrapApplicationStart);try{let o=i?.injector??RO(r),s=[mm(),rT,...t||[]],a=new Da({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return SO({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{Te(pe.BootstrapApplicationEnd)}}var NS=null;function nr(){return NS}function Em(n){NS??=n}var Ha=class{},Ku=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Q({token:n,factory:()=>P(MS),providedIn:"platform"})}return n})();var MS=(()=>{class n extends Ku{_location;_history;_doc=P(Ve);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return nr().getBaseHref(this._doc)}onPopState(t){let r=nr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=nr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Q({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function OS(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function PS(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Nr(n){return n&&n[0]!=="?"?`?${n}`:n}var Qu=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Q({token:n,factory:()=>P(OO),providedIn:"root"})}return n})(),kO=new G(""),OO=(()=>{class n extends Qu{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??P(Ve).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return OS(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Nr(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Nr(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Nr(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(re(Ku),re(kO,8))};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Uo=(()=>{class n{_subject=new ct;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=VO(PS(kS(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Nr(r))}normalize(t){return n.stripTrailingSlash(FO(this._basePath,kS(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Nr(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Nr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Nr;static joinWithSlash=OS;static stripTrailingSlash=PS;static \u0275fac=function(r){return new(r||n)(re(Qu))};static \u0275prov=Q({token:n,factory:()=>LO(),providedIn:"root"})}return n})();function LO(){return new Uo(re(Qu))}function FO(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function kS(n){return n.replace(/\/index.html$/,"")}function VO(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function Im(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var qa=class{};var LS="browser";var za=class{_doc;constructor(e){this._doc=e}manager},Yu=(()=>{class n extends za{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(re(Ve))};static \u0275prov=Q({token:n,factory:n.\u0275fac})}return n})(),Zu=new G(""),Sm=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(s=>{s.manager=this});let i=t.filter(s=>!(s instanceof Yu));this._plugins=i.slice().reverse();let o=t.find(s=>s instanceof Yu);o&&this._plugins.push(o)}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new q(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(re(Zu),re(Me))};static \u0275prov=Q({token:n,factory:n.\u0275fac})}return n})(),wm="ng-app-id";function FS(n){for(let e of n)e.remove()}function VS(n,e){let t=e.createElement("style");return t.textContent=n,t}function jO(n,e,t,r){let i=n.head?.querySelectorAll(`style[${wm}="${e}"],link[${wm}="${e}"]`);if(i)for(let o of i)o.removeAttribute(wm),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function bm(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var Cm=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,jO(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,VS);r?.forEach(i=>this.addUsage(i,this.external,bm))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(FS(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])FS(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,VS(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,bm(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(re(Ve),re(Ru),re(Nu,8),re(Ti))};static \u0275prov=Q({token:n,factory:n.\u0275fac})}return n})(),Tm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Dm=/%COMP%/g;var US="%COMP%",UO=`_nghost-${US}`,BO=`_ngcontent-${US}`,$O=!0,HO=new G("",{factory:()=>$O});function qO(n){return BO.replace(Dm,n)}function zO(n){return UO.replace(Dm,n)}function BS(n,e){return e.map(t=>t.replace(Dm,n))}var Am=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(t,r,i,o,s,a,l=null,u=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=l,this.tracingService=u,this.defaultRenderer=new Ga(t,s,a,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof Xu?i.applyToHost(t):i instanceof Wa&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,f=this.tracingService;switch(r.encapsulation){case Zt.Emulated:o=new Xu(l,u,r,this.appId,h,s,a,f);break;case Zt.ShadowDom:return new Ju(l,t,r,s,a,this.nonce,f,u);case Zt.ExperimentalIsolatedShadowDom:return new Ju(l,t,r,s,a,this.nonce,f);default:o=new Wa(l,u,r,h,s,a,f);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(re(Sm),re(Cm),re(Ru),re(HO),re(Ve),re(Me),re(Nu),re(Pa,8))};static \u0275prov=Q({token:n,factory:n.\u0275fac})}return n})(),Ga=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.tracingService=i}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(Tm[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(jS(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(jS(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new q(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=Tm[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Tm[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Yn.DashCase|Yn.Important)?e.style.setProperty(t,r,i&Yn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Yn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=nr().getGlobalEventTarget(this.doc,e),!e))throw new q(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function jS(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Ju=class extends Ga{hostEl;sharedStylesHost;shadowRoot;constructor(e,t,r,i,o,s,a,l){super(e,i,o,a),this.hostEl=t,this.sharedStylesHost=l,this.shadowRoot=t.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let u=r.styles;u=BS(r.id,u);for(let f of u){let m=document.createElement("style");s&&m.setAttribute("nonce",s),m.textContent=f,this.shadowRoot.appendChild(m)}let h=r.getExternalStyles?.();if(h)for(let f of h){let m=bm(f,i);s&&m.setAttribute("nonce",s),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},Wa=class extends Ga{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=l?BS(l,u):u,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&_i.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Xu=class extends Wa{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,l){let u=i+"-"+r.id;super(e,t,r,o,s,a,l,u),this.contentAttr=qO(u),this.hostAttr=zO(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var ed=class n extends Ha{supportsDOMEvents=!0;static makeCurrent(){Em(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=GO();return t==null?null:WO(t)}resetBaseElement(){Ka=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Im(document.cookie,e)}},Ka=null;function GO(){return Ka=Ka||document.head.querySelector("base"),Ka?Ka.getAttribute("href"):null}function WO(n){return new URL(n,document.baseURI).pathname}var KO=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Q({token:n,factory:n.\u0275fac})}return n})(),$S=["alt","control","meta","shift"],QO={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},YO={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},HS=(()=>{class n extends za{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>nr().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),$S.forEach(u=>{let h=r.indexOf(u);h>-1&&(r.splice(h,1),s+=u+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(t,r){let i=QO[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),$S.forEach(s=>{if(s!==i){let a=YO[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(re(Ve))};static \u0275prov=Q({token:n,factory:n.\u0275fac})}return n})();async function Rm(n,e,t){let r=$({rootComponent:n},JO(e,t));return xS(r)}function JO(n,e){return{platformRef:e?.platformRef,appProviders:[...n1,...n?.providers??[]],platformProviders:t1}}function XO(){ed.makeCurrent()}function ZO(){return new Hn}function e1(){return Bg(document),document}var t1=[{provide:Ti,useValue:LS},{provide:xu,useValue:XO,multi:!0},{provide:Ve,useFactory:e1}];var n1=[{provide:da,useValue:"root"},{provide:Hn,useFactory:ZO},{provide:Zu,useClass:Yu,multi:!0},{provide:Zu,useClass:HS,multi:!0},Am,Cm,Sm,{provide:Ii,useExisting:Am},{provide:qa,useClass:KO},[]];var qS=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(re(Ve))};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var xm=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=Q({token:n,factory:function(r){let i=null;return r?i=new(r||n):i=re(r1),i},providedIn:"root"})}return n})(),r1=(()=>{class n extends xm{_doc;constructor(t){super(),this._doc=t}sanitize(t,r){if(r==null)return null;switch(t){case en.NONE:return r;case en.HTML:return Jn(r,"HTML")?Bt(r):Pu(this._doc,String(r)).toString();case en.STYLE:return Jn(r,"Style")?Bt(r):r;case en.SCRIPT:if(Jn(r,"Script"))return Bt(r);throw new q(5200,!1);case en.URL:return Jn(r,"URL")?Bt(r):xa(String(r));case en.RESOURCE_URL:if(Jn(r,"ResourceURL"))return Bt(r);throw new q(5201,!1);default:throw new q(5202,!1)}}bypassSecurityTrustHtml(t){return Hg(t)}bypassSecurityTrustStyle(t){return qg(t)}bypassSecurityTrustScript(t){return zg(t)}bypassSecurityTrustUrl(t){return Gg(t)}bypassSecurityTrustResourceUrl(t){return Wg(t)}static \u0275fac=function(r){return new(r||n)(re(Ve))};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var te="primary",oc=Symbol("RouteTitle"),Om=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function zo(n){return new Om(n)}function Nm(n,e,t){for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(i[0]===":")t[i.substring(1)]=o;else if(i!==o.path)return!1}return!0}function o1(n,e,t){let r=t.path.split("/"),i=r.indexOf("**");if(i===-1){if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let l={},u=n.slice(0,r.length);return Nm(r,u,l)?{consumed:u,posParams:l}:null}if(i!==r.lastIndexOf("**"))return null;let o=r.slice(0,i),s=r.slice(i+1);if(o.length+s.length>n.length||t.pathMatch==="full"&&e.hasChildren()&&t.path!=="**")return null;let a={};return!Nm(o,n.slice(0,o.length),a)||!Nm(s,n.slice(n.length-s.length),a)?null:{consumed:n,posParams:a}}function sd(n){return new Promise((e,t)=>{n.pipe(jn()).subscribe({next:r=>e(r),error:r=>t(r)})})}function s1(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Sn(n[t],e[t]))return!1;return!0}function Sn(n,e){let t=n?Lm(n):void 0,r=e?Lm(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!e0(n[i],e[i]))return!1;return!0}function Lm(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function e0(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function a1(n){return n.length>0?n[n.length-1]:null}function Ri(n){return xl(n)?n:Fa(n)?Ge(Promise.resolve(n)):de(n)}function t0(n){return xl(n)?sd(n):Promise.resolve(n)}var c1={exact:r0,subset:i0},n0={exact:l1,subset:u1,ignored:()=>!0};function zS(n,e,t){return c1[t.paths](n.root,e.root,t.matrixParams)&&n0[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function l1(n,e){return Sn(n,e)}function r0(n,e,t){if(!Ci(n.segments,e.segments)||!rd(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!r0(n.children[r],e.children[r],t))return!1;return!0}function u1(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>e0(n[t],e[t]))}function i0(n,e,t){return o0(n,e,e.segments,t)}function o0(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Ci(i,t)||e.hasChildren()||!rd(i,t,r))}else if(n.segments.length===t.length){if(!Ci(n.segments,t)||!rd(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!i0(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Ci(n.segments,i)||!rd(n.segments,i,r)||!n.children[te]?!1:o0(n.children[te],e,o,r)}}function rd(n,e,t){return e.every((r,i)=>n0[t](n[i].parameters,r.parameters))}var Cn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new _e([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=zo(this.queryParams),this._queryParamMap}toString(){return f1.serialize(this)}},_e=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return id(this)}},Si=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=zo(this.parameters),this._parameterMap}toString(){return a0(this)}};function d1(n,e){return Ci(n,e)&&n.every((t,r)=>Sn(t.parameters,e[r].parameters))}function Ci(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function h1(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===te&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==te&&(t=t.concat(e(i,r)))}),t}var md=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=Q({token:n,factory:()=>new Di,providedIn:"root"})}return n})(),Di=class{parse(e){let t=new Vm(e);return new Cn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Qa(e.root,!0)}`,r=m1(e.queryParams),i=typeof e.fragment=="string"?`#${p1(e.fragment)}`:"";return`${t}${r}${i}`}},f1=new Di;function id(n){return n.segments.map(e=>a0(e)).join("/")}function Qa(n,e){if(!n.hasChildren())return id(n);if(e){let t=n.children[te]?Qa(n.children[te],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==te&&r.push(`${i}:${Qa(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=h1(n,(r,i)=>i===te?[Qa(n.children[te],!1)]:[`${i}:${Qa(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[te]!=null?`${id(n)}/${t[0]}`:`${id(n)}/(${t.join("//")})`}}function s0(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function td(n){return s0(n).replace(/%3B/gi,";")}function p1(n){return encodeURI(n)}function Fm(n){return s0(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function od(n){return decodeURIComponent(n)}function GS(n){return od(n.replace(/\+/g,"%20"))}function a0(n){return`${Fm(n.path)}${g1(n.parameters)}`}function g1(n){return Object.entries(n).map(([e,t])=>`;${Fm(e)}=${Fm(t)}`).join("")}function m1(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${td(t)}=${td(i)}`).join("&"):`${td(t)}=${td(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var y1=/^[^\/()?;#]+/;function Mm(n){let e=n.match(y1);return e?e[0]:""}var v1=/^[^\/()?;=#]+/;function _1(n){let e=n.match(v1);return e?e[0]:""}var E1=/^[^=?&#]+/;function I1(n){let e=n.match(E1);return e?e[0]:""}var w1=/^[^&#]+/;function T1(n){let e=n.match(w1);return e?e[0]:""}var Vm=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new _e([],{}):new _e([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(e=0){if(e>50)throw new q(4010,!1);if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0,e));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1,e)),(t.length>0||Object.keys(r).length>0)&&(i[te]=new _e(t,r)),i}parseSegment(){let e=Mm(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new q(4009,!1);return this.capture(e),new Si(od(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=_1(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Mm(this.remaining);i&&(r=i,this.capture(r))}e[od(t)]=od(r)}parseQueryParam(e){let t=I1(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=T1(this.remaining);s&&(r=s,this.capture(r))}let i=GS(t),o=GS(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e,t){let r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=Mm(this.remaining),o=this.remaining[i.length];if(o!=="/"&&o!==")"&&o!==";")throw new q(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=te);let a=this.parseChildren(t+1);r[s??te]=Object.keys(a).length===1&&a[te]?a[te]:new _e([],a),this.consumeOptional("//")}return r}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new q(4011,!1)}};function c0(n){return n.segments.length>0?new _e([],{[te]:n}):n}function l0(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=l0(i);if(r===te&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new _e(n.segments,e);return b1(t)}function b1(n){if(n.numberOfChildren===1&&n.children[te]){let e=n.children[te];return new _e(n.segments.concat(e.segments),e.children)}return n}function Go(n){return n instanceof Cn}function S1(n,e,t=null,r=null,i=new Di){let o=u0(n);return d0(o,e,t,r,i)}function u0(n){let e;function t(o){let s={};for(let l of o.children){let u=t(l);s[l.outlet]=u}let a=new _e(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=c0(r);return e??i}function d0(n,e,t,r,i){let o=n;for(;o.parent;)o=o.parent;if(e.length===0)return Pm(o,o,o,t,r,i);let s=C1(e);if(s.toRoot())return Pm(o,o,new _e([],{}),t,r,i);let a=D1(s,o,n),l=a.processChildren?Ja(a.segmentGroup,a.index,s.commands):f0(a.segmentGroup,a.index,s.commands);return Pm(o,a.segmentGroup,l,t,r,i)}function ad(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function ec(n){return typeof n=="object"&&n!=null&&n.outlets}function WS(n,e,t){n||="\u0275";let r=new Cn;return r.queryParams={[n]:e},t.parse(t.serialize(r)).queryParams[n]}function Pm(n,e,t,r,i,o){let s={};for(let[u,h]of Object.entries(r??{}))s[u]=Array.isArray(h)?h.map(f=>WS(u,f,o)):WS(u,h,o);let a;n===e?a=t:a=h0(n,e,t);let l=c0(l0(a));return new Cn(l,s,i)}function h0(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=h0(o,e,t)}),new _e(n.segments,r)}var cd=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&ad(r[0]))throw new q(4003,!1);let i=r.find(ec);if(i&&i!==a1(r))throw new q(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function C1(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new cd(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,u])=>{a[l]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new cd(t,e,r)}var $o=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function D1(n,e,t){if(n.isAbsolute)return new $o(e,!0,0);if(!t)return new $o(e,!1,NaN);if(t.parent===null)return new $o(t,!0,0);let r=ad(n.commands[0])?0:1,i=t.segments.length-1+r;return A1(t,i,n.numberOfDoubleDots)}function A1(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new q(4005,!1);i=r.segments.length}return new $o(r,!1,i-o)}function R1(n){return ec(n[0])?n[0].outlets:{[te]:n}}function f0(n,e,t){if(n??=new _e([],{}),n.segments.length===0&&n.hasChildren())return Ja(n,e,t);let r=x1(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new _e(n.segments.slice(0,r.pathIndex),{});return o.children[te]=new _e(n.segments.slice(r.pathIndex),n.children),Ja(o,0,i)}else return r.match&&i.length===0?new _e(n.segments,{}):r.match&&!n.hasChildren()?jm(n,e,t):r.match?Ja(n,0,i):jm(n,e,t)}function Ja(n,e,t){if(t.length===0)return new _e(n.segments,{});{let r=R1(t),i={};if(Object.keys(r).some(o=>o!==te)&&n.children[te]&&n.numberOfChildren===1&&n.children[te].segments.length===0){let o=Ja(n.children[te],e,t);return new _e(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=f0(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new _e(n.segments,i)}}function x1(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(ec(a))break;let l=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&l===void 0)break;if(l&&u&&typeof u=="object"&&u.outlets===void 0){if(!QS(l,u,s))return o;r+=2}else{if(!QS(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function jm(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(ec(o)){let l=N1(o.outlets);return new _e(r,l)}if(i===0&&ad(t[0])){let l=n.segments[e];r.push(new Si(l.path,KS(t[0]))),i++;continue}let s=ec(o)?o.outlets[te]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&ad(a)?(r.push(new Si(s,KS(a))),i+=2):(r.push(new Si(s,{})),i++)}return new _e(r,{})}function N1(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=jm(new _e([],{}),0,r))}),e}function KS(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function QS(n,e,t){return n==t.path&&Sn(e,t.parameters)}var Xa="imperative",tt=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(tt||{}),$t=class{id;url;constructor(e,t){this.id=e,this.url=t}},Wo=class extends $t{type=tt.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Mr=class extends $t{urlAfterRedirects;type=tt.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},yt=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(yt||{}),ld=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(ld||{}),rn=class extends $t{reason;code;type=tt.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}};function p0(n){return n instanceof rn&&(n.code===yt.Redirect||n.code===yt.SupersededByNewNavigation)}var Pr=class extends $t{reason;code;type=tt.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Ko=class extends $t{error;target;type=tt.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},tc=class extends $t{urlAfterRedirects;state;type=tt.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Um=class extends $t{urlAfterRedirects;state;type=tt.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Bm=class extends $t{urlAfterRedirects;state;shouldActivate;type=tt.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},$m=class extends $t{urlAfterRedirects;state;type=tt.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hm=class extends $t{urlAfterRedirects;state;type=tt.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qm=class{route;type=tt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},zm=class{route;type=tt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Gm=class{snapshot;type=tt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Wm=class{snapshot;type=tt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Km=class{snapshot;type=tt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Qm=class{snapshot;type=tt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Qo=class{},Yo=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function M1(n){return!(n instanceof Qo)&&!(n instanceof Yo)}var Ym=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return this.route?.snapshot._environmentInjector??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new sc(this.rootInjector)}},sc=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Ym(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(re(Ne))};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ud=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Jm(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Jm(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Xm(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Xm(e,this._root).map(t=>t.value)}};function Jm(n,e){if(n===e.value)return e;for(let t of e.children){let r=Jm(n,t);if(r)return r}return null}function Xm(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Xm(n,t);if(r.length)return r.unshift(e),r}return[]}var Mt=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Bo(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var dd=class extends ud{snapshot;constructor(e,t){super(e),this.snapshot=t,ay(this,e)}toString(){return this.snapshot.toString()}};function g0(n,e){let t=P1(n,e),r=new Je([new Si("",{})]),i=new Je({}),o=new Je({}),s=new Je({}),a=new Je(""),l=new Ai(r,i,s,a,o,te,n,t.root);return l.snapshot=t.root,new dd(new Mt(l,[]),t)}function P1(n,e){let t={},r={},i={},s=new Ho([],t,i,"",r,te,n,null,{},e);return new fd("",new Mt(s,[]))}var Ai=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Re(u=>u[oc]))??de(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Re(e=>zo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Re(e=>zo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function hd(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:$($({},e.params),n.params),data:$($({},e.data),n.data),resolve:$($($($({},n.data),e.data),i?.data),n._resolvedData)}:r={params:$({},n.params),data:$({},n.data),resolve:$($({},n.data),n._resolvedData??{})},i&&y0(i)&&(r.resolve[oc]=i.title),r}var Ho=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;_environmentInjector;get title(){return this.data?.[oc]}constructor(e,t,r,i,o,s,a,l,u,h){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=u,this._environmentInjector=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=zo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=zo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},fd=class extends ud{url;constructor(e,t){super(t),this.url=e,ay(this,t)}toString(){return m0(this._root)}};function ay(n,e){e.value._routerState=n,e.children.forEach(t=>ay(n,t))}function m0(n){let e=n.children.length>0?` { ${n.children.map(m0).join(", ")} } `:"";return`${n.value}${e}`}function km(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Sn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Sn(e.params,t.params)||n.paramsSubject.next(t.params),s1(e.url,t.url)||n.urlSubject.next(t.url),Sn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Zm(n,e){let t=Sn(n.params,e.params)&&d1(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Zm(n.parent,e.parent))}function y0(n){return typeof n.title=="string"||n.title===null}var k1=new G(""),v0=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=te;activateEvents=new pt;deactivateEvents=new pt;attachEvents=new pt;detachEvents=new pt;routerOutletData=AS();parentContexts=P(sc);location=P(Bu);changeDetector=P(RS);inputBinder=P(yd,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new q(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new q(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new q(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new q(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new ey(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=cm({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Fg]})}return n})(),ey=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Ai?this.route:e===sc?this.childContexts:e===k1?this.outletData:this.parent.get(e,t)}},yd=new G("");var _0=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=La({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&zu(0,"router-outlet")},dependencies:[v0],encapsulation:2})}return n})();function cy(n){let e=n.children&&n.children.map(cy),t=e?me($({},n),{children:e}):$({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==te&&(t.component=_0),t}function O1(n,e,t){let r=nc(n,e._root,t?t._root:void 0);return new dd(r,e)}function nc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=L1(n,e,t);return new Mt(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>nc(n,a)),s}}let r=F1(e.value),i=e.children.map(o=>nc(n,o));return new Mt(r,i)}}function L1(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return nc(n,r,i);return nc(n,r)})}function F1(n){return new Ai(new Je(n.url),new Je(n.params),new Je(n.queryParams),new Je(n.fragment),new Je(n.data),n.outlet,n.component,n)}var rc=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},E0="ngNavigationCancelingError";function pd(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Go(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=I0(!1,yt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function I0(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[E0]=!0,t.cancellationCode=e,t}function V1(n){return w0(n)&&Go(n.url)}function w0(n){return!!n&&n[E0]}var ty=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),km(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Bo(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Bo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Bo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Bo(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Qm(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Wm(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(km(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),km(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},gd=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},qo=class{component;route;constructor(e,t){this.component=e,this.route=t}};function j1(n,e,t){let r=n._root,i=e?e._root:null;return Ya(r,i,t,[r.value])}function U1(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Xo(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!hp(n)?n:e.get(n):r}function Ya(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Bo(e);return n.children.forEach(s=>{B1(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Za(a,t.getContext(s),i)),i}function B1(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=$1(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new gd(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ya(n,e,a?a.children:null,r,i):Ya(n,e,t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new qo(a.outlet.component,s))}else s&&Za(e,a,i),i.canActivateChecks.push(new gd(r)),o.component?Ya(n,null,a?a.children:null,r,i):Ya(n,null,t,r,i);return i}function $1(n,e,t){if(typeof t=="function")return Le(e._environmentInjector,()=>t(n,e));switch(t){case"pathParamsChange":return!Ci(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ci(n.url,e.url)||!Sn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Zm(n,e)||!Sn(n.queryParams,e.queryParams);default:return!Zm(n,e)}}function Za(n,e,t){let r=Bo(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Za(s,e.children.getContext(o),t):Za(s,null,t):Za(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new qo(e.outlet.component,i)):t.canDeactivateChecks.push(new qo(null,i)):t.canDeactivateChecks.push(new qo(null,i))}function ac(n){return typeof n=="function"}function H1(n){return typeof n=="boolean"}function q1(n){return n&&ac(n.canLoad)}function z1(n){return n&&ac(n.canActivate)}function G1(n){return n&&ac(n.canActivateChild)}function W1(n){return n&&ac(n.canDeactivate)}function K1(n){return n&&ac(n.canMatch)}function T0(n){return n instanceof ti||n?.name==="EmptyError"}var nd=Symbol("INITIAL_VALUE");function Jo(){return Un(n=>zf(n.map(e=>e.pipe(Vn(1),Wf(nd)))).pipe(Re(e=>{for(let t of e)if(t!==!0){if(t===nd)return nd;if(t===!1||Q1(t))return t}return!0}),Fn(e=>e!==nd),Vn(1)))}function Q1(n){return Go(n)||n instanceof rc}function b0(n){return n.aborted?de(void 0).pipe(Vn(1)):new le(e=>{let t=()=>{e.next(),e.complete()};return n.addEventListener("abort",t),()=>n.removeEventListener("abort",t)})}function S0(n){return ra(b0(n))}function Y1(n){return ft(e=>{let{targetSnapshot:t,currentSnapshot:r,guards:{canActivateChecks:i,canDeactivateChecks:o}}=e;return o.length===0&&i.length===0?de(me($({},e),{guardsResult:!0})):J1(o,t,r).pipe(ft(s=>s&&H1(s)?X1(t,i,n):de(s)),Re(s=>me($({},e),{guardsResult:s})))})}function J1(n,e,t){return Ge(n).pipe(ft(r=>rL(r.component,r.route,t,e)),jn(r=>r!==!0,!0))}function X1(n,e,t){return Ge(e).pipe(Nl(r=>mo(eL(r.route.parent,t),Z1(r.route,t),nL(n,r.path),tL(n,r.route))),jn(r=>r!==!0,!0))}function Z1(n,e){return n!==null&&e&&e(new Km(n)),de(!0)}function eL(n,e){return n!==null&&e&&e(new Gm(n)),de(!0)}function tL(n,e){let t=e.routeConfig?e.routeConfig.canActivate:null;if(!t||t.length===0)return de(!0);let r=t.map(i=>ta(()=>{let o=e._environmentInjector,s=Xo(i,o),a=z1(s)?s.canActivate(e,n):Le(o,()=>s(e,n));return Ri(a).pipe(jn())}));return de(r).pipe(Jo())}function nL(n,e){let t=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(o=>U1(o)).filter(o=>o!==null).map(o=>ta(()=>{let s=o.guards.map(a=>{let l=o.node._environmentInjector,u=Xo(a,l),h=G1(u)?u.canActivateChild(t,n):Le(l,()=>u(t,n));return Ri(h).pipe(jn())});return de(s).pipe(Jo())}));return de(i).pipe(Jo())}function rL(n,e,t,r){let i=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!i||i.length===0)return de(!0);let o=i.map(s=>{let a=e._environmentInjector,l=Xo(s,a),u=W1(l)?l.canDeactivate(n,e,t,r):Le(a,()=>l(n,e,t,r));return Ri(u).pipe(jn())});return de(o).pipe(Jo())}function iL(n,e,t,r,i){let o=e.canLoad;if(o===void 0||o.length===0)return de(!0);let s=o.map(a=>{let l=Xo(a,n),u=q1(l)?l.canLoad(e,t):Le(n,()=>l(e,t)),h=Ri(u);return i?h.pipe(S0(i)):h});return de(s).pipe(Jo(),C0(r))}function C0(n){return Ff(dn(e=>{if(typeof e!="boolean")throw pd(n,e)}),Re(e=>e===!0))}function oL(n,e,t,r,i){let o=e.canMatch;if(!o||o.length===0)return de(!0);let s=o.map(a=>{let l=Xo(a,n),u=K1(l)?l.canMatch(e,t):Le(n,()=>l(e,t));return Ri(u).pipe(S0(i))});return de(s).pipe(Jo(),C0(r))}var rr=class n extends Error{segmentGroup;constructor(e){super(),this.segmentGroup=e||null,Object.setPrototypeOf(this,n.prototype)}},ic=class n extends Error{urlTree;constructor(e){super(),this.urlTree=e,Object.setPrototypeOf(this,n.prototype)}};function sL(n){throw new q(4e3,!1)}function aL(n){throw I0(!1,yt.GuardRejected)}var ny=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}async lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return r;if(i.numberOfChildren>1||!i.children[te])throw sL(`${e.redirectTo}`);i=i.children[te]}}async applyRedirectCommands(e,t,r,i,o){let s=await cL(t,i,o);if(s instanceof Cn)throw new ic(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new ic(a);return a}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Cn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,i)}),new _e(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new q(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function cL(n,e,t){if(typeof n=="string")return Promise.resolve(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:l,params:u,data:h,title:f,paramMap:m,queryParamMap:y}=e;return sd(Ri(Le(t,()=>r({params:u,data:h,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:l,title:f,paramMap:m,queryParamMap:y}))))}function lL(n,e){return n.providers&&!n._injector&&(n._injector=Oa(n.providers,e,`Route: ${n.path}`)),n._injector??e}function nn(n){return n.outlet||te}function uL(n,e){let t=n.filter(r=>nn(r)===e);return t.push(...n.filter(r=>nn(r)!==e)),t}var ry={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function dL(n,e,t,r,i,o){let s=D0(n,e,t);return s.matched?(r=lL(e,r),oL(r,e,t,i,o).pipe(Re(a=>a===!0?s:$({},ry)))):de(s)}function D0(n,e,t){if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?$({},ry):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||o1)(t,n,e);if(!i)return $({},ry);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?$($({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function YS(n,e,t,r){return t.length>0&&pL(n,t,r)?{segmentGroup:new _e(e,fL(r,new _e(t,n.children))),slicedSegments:[]}:t.length===0&&gL(n,t,r)?{segmentGroup:new _e(n.segments,hL(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new _e(n.segments,n.children),slicedSegments:t}}function hL(n,e,t,r){let i={};for(let o of t)if(vd(n,e,o)&&!r[nn(o)]){let s=new _e([],{});i[nn(o)]=s}return $($({},r),i)}function fL(n,e){let t={};t[te]=e;for(let r of n)if(r.path===""&&nn(r)!==te){let i=new _e([],{});t[nn(r)]=i}return t}function pL(n,e,t){return t.some(r=>vd(n,e,r)&&nn(r)!==te)}function gL(n,e,t){return t.some(r=>vd(n,e,r))}function vd(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function mL(n,e,t){return e.length===0&&!n.children[t]}var iy=class{};async function yL(n,e,t,r,i,o,s="emptyOnly",a){return new oy(n,e,t,r,i,s,o,a).recognize()}var vL=31,oy=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a,l){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.abortSignal=l,this.applyRedirects=new ny(this.urlSerializer,this.urlTree)}noMatchError(e){return new q(4002,`'${e.segmentGroup}'`)}async recognize(){let e=YS(this.urlTree.root,[],[],this.config).segmentGroup,{children:t,rootSnapshot:r}=await this.match(e),i=new Mt(r,t),o=new fd("",i),s=S1(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}async match(e){let t=new Ho([],Object.freeze({}),Object.freeze($({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),te,this.rootComponentType,null,{},this.injector);try{return{children:await this.processSegmentGroup(this.injector,this.config,e,te,t),rootSnapshot:t}}catch(r){if(r instanceof ic)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof rr?this.noMatchError(r):r}}async processSegmentGroup(e,t,r,i,o){if(r.segments.length===0&&r.hasChildren())return this.processChildren(e,t,r,o);let s=await this.processSegment(e,t,r,r.segments,i,!0,o);return s instanceof Mt?[s]:[]}async processChildren(e,t,r,i){let o=[];for(let l of Object.keys(r.children))l==="primary"?o.unshift(l):o.push(l);let s=[];for(let l of o){let u=r.children[l],h=uL(t,l),f=await this.processSegmentGroup(e,h,u,l,i);s.push(...f)}let a=A0(s);return _L(a),a}async processSegment(e,t,r,i,o,s,a){for(let l of t)try{return await this.processSegmentAgainstRoute(l._injector??e,t,l,r,i,o,s,a)}catch(u){if(u instanceof rr||T0(u))continue;throw u}if(mL(r,i,o))return new iy;throw new rr(r)}async processSegmentAgainstRoute(e,t,r,i,o,s,a,l){if(nn(r)!==s&&(s===te||!vd(i,o,r)))throw new rr(i);if(r.redirectTo===void 0)return this.matchSegmentAgainstRoute(e,i,r,o,s,l);if(this.allowRedirects&&a)return this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,l);throw new rr(i)}async expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:l,parameters:u,consumedSegments:h,positionalParamSegments:f,remainingSegments:m}=D0(t,i,o);if(!l)throw new rr(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>vL&&(this.allowRedirects=!1));let y=new Ho(o,u,Object.freeze($({},this.urlTree.queryParams)),this.urlTree.fragment,JS(i),nn(i),i.component??i._loadedComponent??null,i,XS(i),e),T=hd(y,a,this.paramsInheritanceStrategy);if(y.params=Object.freeze(T.params),y.data=Object.freeze(T.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let A=await this.applyRedirects.applyRedirectCommands(h,i.redirectTo,f,y,e),D=await this.applyRedirects.lineralizeSegments(i,A);return this.processSegment(e,r,t,D.concat(m),s,!1,a)}async matchSegmentAgainstRoute(e,t,r,i,o,s){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let a=await sd(dL(t,r,i,e,this.urlSerializer,this.abortSignal));if(r.path==="**"&&(t.children={}),!a?.matched)throw new rr(t);e=r._injector??e;let{routes:l}=await this.getChildConfig(e,r,i),u=r._loadedInjector??e,{parameters:h,consumedSegments:f,remainingSegments:m}=a,y=new Ho(f,h,Object.freeze($({},this.urlTree.queryParams)),this.urlTree.fragment,JS(r),nn(r),r.component??r._loadedComponent??null,r,XS(r),e),T=hd(y,s,this.paramsInheritanceStrategy);y.params=Object.freeze(T.params),y.data=Object.freeze(T.data);let{segmentGroup:A,slicedSegments:D}=YS(t,f,m,l);if(D.length===0&&A.hasChildren()){let B=await this.processChildren(u,l,A,y);return new Mt(y,B)}if(l.length===0&&D.length===0)return new Mt(y,[]);let x=nn(r)===o,k=await this.processSegment(u,l,A,D,x?te:o,!0,y);return new Mt(y,k instanceof Mt?[k]:[])}async getChildConfig(e,t,r){if(t.children)return{routes:t.children,injector:e};if(t.loadChildren){if(t._loadedRoutes!==void 0){let o=t._loadedNgModuleFactory;return o&&!t._loadedInjector&&(t._loadedInjector=o.create(e).injector),{routes:t._loadedRoutes,injector:t._loadedInjector}}if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(await sd(iL(e,t,r,this.urlSerializer,this.abortSignal))){let o=await this.configLoader.loadChildren(e,t);return t._loadedRoutes=o.routes,t._loadedInjector=o.injector,t._loadedNgModuleFactory=o.factory,o}throw aL(t)}return{routes:[],injector:e}}};function _L(n){n.sort((e,t)=>e.value.outlet===te?-1:t.value.outlet===te?1:e.value.outlet.localeCompare(t.value.outlet))}function EL(n){let e=n.value.routeConfig;return e&&e.path===""}function A0(n){let e=[],t=new Set;for(let r of n){if(!EL(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=A0(r.children);e.push(new Mt(r.value,i))}return e.filter(r=>!t.has(r))}function JS(n){return n.data||{}}function XS(n){return n.resolve||{}}function IL(n,e,t,r,i,o,s){return ft(async a=>{let{state:l,tree:u}=await yL(n,e,t,r,a.extractedUrl,i,o,s);return me($({},a),{targetSnapshot:l,urlAfterRedirects:u})})}function wL(n){return ft(e=>{let{targetSnapshot:t,guards:{canActivateChecks:r}}=e;if(!r.length)return de(e);let i=new Set(r.map(a=>a.route)),o=new Set;for(let a of i)if(!o.has(a))for(let l of R0(a))o.add(l);let s=0;return Ge(o).pipe(Nl(a=>i.has(a)?TL(a,t,n):(a.data=hd(a,a.parent,n).resolve,de(void 0))),dn(()=>s++),Ml(1),ft(a=>s===o.size?de(e):Xe))})}function R0(n){let e=n.children.map(t=>R0(t)).flat();return[n,...e]}function TL(n,e,t){let r=n.routeConfig,i=n._resolve;return r?.title!==void 0&&!y0(r)&&(i[oc]=r.title),ta(()=>(n.data=hd(n,n.parent,t).resolve,bL(i,n,e).pipe(Re(o=>(n._resolvedData=o,n.data=$($({},n.data),o),null)))))}function bL(n,e,t){let r=Lm(n);if(r.length===0)return de({});let i={};return Ge(r).pipe(ft(o=>SL(n[o],e,t).pipe(jn(),dn(s=>{if(s instanceof rc)throw pd(new Di,s);i[o]=s}))),Ml(1),Re(()=>i),na(o=>T0(o)?Xe:qf(o)))}function SL(n,e,t){let r=e._environmentInjector,i=Xo(n,r),o=i.resolve?i.resolve(e,t):Le(r,()=>i(e,t));return Ri(o)}function ZS(n){return Un(e=>{let t=n(e);return t?Ge(t).pipe(Re(()=>e)):de(e)})}var x0=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===te);return r}getResolvedTitleForRoute(t){return t.data[oc]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Q({token:n,factory:()=>P(CL),providedIn:"root"})}return n})(),CL=(()=>{class n extends x0{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(re(qS))};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_d=new G("",{factory:()=>({})}),Ed=new G(""),N0=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=P(pm);async loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Promise.resolve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await t0(Le(t,()=>r.loadComponent())),s=await P0(M0(o));return this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s,s}finally{this.componentLoaders.delete(r)}})();return this.componentLoaders.set(r,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Promise.resolve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await DL(r,this.compiler,t,this.onLoadEndListener);return r._loadedRoutes=o.routes,r._loadedInjector=o.injector,r._loadedNgModuleFactory=o.factory,o}finally{this.childrenLoaders.delete(r)}})();return this.childrenLoaders.set(r,i),i}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();async function DL(n,e,t,r){let i=await t0(Le(t,()=>n.loadChildren())),o=await P0(M0(i)),s;o instanceof $u||Array.isArray(o)?s=o:s=await e.compileModuleAsync(o),r&&r(n);let a,l,u=!1,h;return Array.isArray(s)?(l=s,u=!0):(a=s.create(t).injector,h=s,l=a.get(Ed,[],{optional:!0,self:!0}).flat()),{routes:l.map(cy),injector:a,factory:h}}function AL(n){return n&&typeof n=="object"&&"default"in n}function M0(n){return AL(n)?n.default:n}async function P0(n){return n}var ly=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=Q({token:n,factory:()=>P(RL),providedIn:"root"})}return n})(),RL=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),k0=new G("");var xL=()=>{},O0=new G(""),L0=(()=>{class n{currentNavigation=gt(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=gt(null);events=new ct;transitionAbortWithErrorSubject=new ct;configLoader=P(N0);environmentInjector=P(Ne);destroyRef=P(Wn);urlSerializer=P(md);rootContexts=P(sc);location=P(Uo);inputBindingEnabled=P(yd,{optional:!0})!==null;titleStrategy=P(x0);options=P(_d,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=P(ly);createViewTransition=P(k0,{optional:!0});navigationErrorHandler=P(O0,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>de(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new qm(i)),r=i=>this.events.next(new zm(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;En(()=>{this.transitions?.next(me($({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))})}setupNavigations(t){return this.transitions=new Je(null),this.transitions.pipe(Fn(r=>r!==null),Un(r=>{let i=!1,o=new AbortController,s=()=>!i&&this.currentTransition?.id===r.id;return de(r).pipe(Un(a=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",yt.SupersededByNewNavigation),Xe;this.currentTransition=r;let l=this.lastSuccessfulNavigation();this.currentNavigation.set({id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,targetBrowserUrl:typeof a.extras.browserUrl=="string"?this.urlSerializer.parse(a.extras.browserUrl):a.extras.browserUrl,trigger:a.source,extras:a.extras,previousNavigation:l?me($({},l),{previousNavigation:null}):null,abort:()=>o.abort()});let u=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=a.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!u&&h!=="reload")return this.events.next(new Pr(a.id,this.urlSerializer.serialize(a.rawUrl),"",ld.IgnoredSameUrlNavigation)),a.resolve(!1),Xe;if(this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return de(a).pipe(Un(f=>(this.events.next(new Wo(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),f.id!==this.navigationId?Xe:Promise.resolve(f))),IL(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy,o.signal),dn(f=>{r.targetSnapshot=f.targetSnapshot,r.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation.update(y=>(y.finalUrl=f.urlAfterRedirects,y));let m=new tc(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(m)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(a.currentRawUrl)){let{id:f,extractedUrl:m,source:y,restoredState:T,extras:A}=a,D=new Wo(f,this.urlSerializer.serialize(m),y,T);this.events.next(D);let x=g0(this.rootComponentType,this.environmentInjector).snapshot;return this.currentTransition=r=me($({},a),{targetSnapshot:x,urlAfterRedirects:m,extras:me($({},A),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(k=>(k.finalUrl=m,k)),de(r)}else return this.events.next(new Pr(a.id,this.urlSerializer.serialize(a.extractedUrl),"",ld.IgnoredByUrlHandlingStrategy)),a.resolve(!1),Xe}),Re(a=>{let l=new Um(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);return this.events.next(l),this.currentTransition=r=me($({},a),{guards:j1(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),r}),Y1(a=>this.events.next(a)),Un(a=>{if(r.guardsResult=a.guardsResult,a.guardsResult&&typeof a.guardsResult!="boolean")throw pd(this.urlSerializer,a.guardsResult);let l=new Bm(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);if(this.events.next(l),!s())return Xe;if(!a.guardsResult)return this.cancelNavigationTransition(a,"",yt.GuardRejected),Xe;if(a.guards.canActivateChecks.length===0)return de(a);let u=new $m(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);if(this.events.next(u),!s())return Xe;let h=!1;return de(a).pipe(wL(this.paramsInheritanceStrategy),dn({next:()=>{h=!0;let f=new Hm(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(f)},complete:()=>{h||this.cancelNavigationTransition(a,"",yt.NoDataFromResolver)}}))}),ZS(a=>{let l=h=>{let f=[];if(h.routeConfig?._loadedComponent)h.component=h.routeConfig?._loadedComponent;else if(h.routeConfig?.loadComponent){let m=h._environmentInjector;f.push(this.configLoader.loadComponent(m,h.routeConfig).then(y=>{h.component=y}))}for(let m of h.children)f.push(...l(m));return f},u=l(a.targetSnapshot.root);return u.length===0?de(a):Ge(Promise.all(u).then(()=>a))}),ZS(()=>this.afterPreactivation()),Un(()=>{let{currentSnapshot:a,targetSnapshot:l}=r,u=this.createViewTransition?.(this.environmentInjector,a.root,l.root);return u?Ge(u).pipe(Re(()=>r)):de(r)}),Vn(1),Re(a=>{let l=O1(t.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);this.currentTransition=r=a=me($({},a),{targetRouterState:l}),this.currentNavigation.update(u=>(u.targetRouterState=l,u)),this.events.next(new Qo),s()&&(new ty(t.routeReuseStrategy,r.targetRouterState,r.currentRouterState,u=>this.events.next(u),this.inputBindingEnabled).activate(this.rootContexts),s()&&(i=!0,this.currentNavigation.update(u=>(u.abort=xL,u)),this.lastSuccessfulNavigation.set(En(this.currentNavigation)),this.events.next(new Mr(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects))),this.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)))}),ra(b0(o.signal).pipe(Fn(()=>!i&&!r.targetRouterState),dn(()=>{this.cancelNavigationTransition(r,o.signal.reason+"",yt.Aborted)}))),dn({complete:()=>{i=!0}}),ra(this.transitionAbortWithErrorSubject.pipe(dn(a=>{throw a}))),Gf(()=>{o.abort(),i||this.cancelNavigationTransition(r,"",yt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),na(a=>{if(i=!0,this.destroyed)return r.resolve(!1),Xe;if(w0(a))this.events.next(new rn(r.id,this.urlSerializer.serialize(r.extractedUrl),a.message,a.cancellationCode)),V1(a)?this.events.next(new Yo(a.url,a.navigationBehaviorOptions)):r.resolve(!1);else{let l=new Ko(r.id,this.urlSerializer.serialize(r.extractedUrl),a,r.targetSnapshot??void 0);try{let u=Le(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(u instanceof rc){let{message:h,cancellationCode:f}=pd(this.urlSerializer,u);this.events.next(new rn(r.id,this.urlSerializer.serialize(r.extractedUrl),h,f)),this.events.next(new Yo(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(l),a}catch(u){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(u)}}return Xe}))}))}cancelNavigationTransition(t,r,i){let o=new rn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=En(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function NL(n){return n!==Xa}var F0=new G("");var ML=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=Q({token:n,factory:()=>P(PL),providedIn:"root"})}return n})(),sy=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}shouldDestroyInjector(e){return!0}},PL=(()=>{class n extends sy{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Au(n)))(i||n)}})();static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),uy=(()=>{class n{urlSerializer=P(md);options=P(_d,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=P(Uo);urlHandlingStrategy=P(ly);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Cn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof Cn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=g0(null,P(Ne));getRouterState(){return this.routerState}_stateMemento=this.createStateMemento();get stateMemento(){return this._stateMemento}updateStateMemento(){this._stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}restoredState(){return this.location.getState()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Q({token:n,factory:()=>P(kL),providedIn:"root"})}return n})(),kL=(()=>{class n extends uy{currentPageId=0;lastSuccessfulId=-1;get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Wo?this.updateStateMemento():t instanceof Pr?this.commitTransition(r):t instanceof tc?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Qo?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof rn&&!p0(t)?this.restoreHistory(r):t instanceof Ko?this.restoreHistory(r,!0):t instanceof Mr&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,l=$($({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",l)}else{let a=$($({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Au(n)))(i||n)}})();static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function V0(n,e){n.events.pipe(Fn(t=>t instanceof Mr||t instanceof rn||t instanceof Ko||t instanceof Pr),Re(t=>t instanceof Mr||t instanceof Pr?0:(t instanceof rn?t.code===yt.Redirect||t.code===yt.SupersededByNewNavigation:!1)?2:1),Fn(t=>t!==2),Vn(1)).subscribe(()=>{e()})}var j0={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},U0={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},dy=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=P(Hu);stateManager=P(uy);options=P(_d,{optional:!0})||{};pendingTasks=P(Kn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=P(L0);urlSerializer=P(md);location=P(Uo);urlHandlingStrategy=P(ly);injector=P(Ne);_events=new ct;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=P(ML);injectorCleanup=P(F0,{optional:!0});onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=P(Ed,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!P(yd,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{}}),this.subscribeToNavigationEvents()}eventsSubscription=new qe;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=En(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof rn&&r.code!==yt.Redirect&&r.code!==yt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Mr)this.navigated=!0,this.injectorCleanup?.(this.routeReuseStrategy,this.routerState,this.config);else if(r instanceof Yo){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=$({scroll:i.extras.scroll,browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||NL(i.source)},s);this.scheduleNavigation(a,Xa,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}M1(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Xa,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=$({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(l=>{this.disposed||this.injector.get(Jt)(l)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return En(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(cy),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription?.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0,this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,u=l?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=$($({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let f;try{let m=i?i.snapshot:this.routerState.snapshot.root;f=u0(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),f=this.currentUrlTree.root}return d0(f,t,h,u??null,this.urlSerializer)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Go(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Xa,null,r)}navigate(t,r={skipLocationChange:!1}){return OL(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.console.warn(_o(4018,!1)),this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=$({},j0):r===!1?i=$({},U0):i=r,Go(t))return zS(this.currentUrlTree,t,i);let o=this.parseUrl(t);return zS(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,u;s?(a=s.resolve,l=s.reject,u=s.promise):u=new Promise((f,m)=>{a=f,l=m});let h=this.pendingTasks.add();return V0(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(Promise.reject.bind(Promise))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function OL(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new q(4008,!1)}var LL=new G("");function hy(n,...e){return Ft([{provide:Ed,multi:!0,useValue:n},[],{provide:Ai,useFactory:FL},{provide:qu,multi:!0,useFactory:VL},e.map(t=>t.\u0275providers)])}function FL(){return P(dy).routerState.root}function VL(){let n=P(Ze);return e=>{let t=n.get(bi);if(e!==t.components[0])return;let r=n.get(dy),i=n.get(jL);n.get(UL)===1&&r.initialNavigation(),n.get(BL,null,{optional:!0})?.setUpPreloading(),n.get(LL,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var jL=new G("",{factory:()=>new ct}),UL=new G("",{factory:()=>1});var BL=new G("");var B0=()=>{};var q0=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},HL=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Id={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,l=i+2<n.length,u=l?n[i+2]:0,h=o>>2,f=(o&3)<<4|a>>4,m=(a&15)<<2|u>>6,y=u&63;l||(y=64,s||(m=64)),r.push(t[h],t[f],t[m],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(q0(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):HL(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let u=i<n.length?t[n.charAt(i)]:64;++i;let f=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||u==null||f==null)throw new py;let m=o<<2|a>>4;if(r.push(m),u!==64){let y=a<<4&240|u>>2;if(r.push(y),f!==64){let T=u<<6&192|f;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},py=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},qL=function(n){let e=q0(n);return Id.encodeByteArray(e,!0)},lc=function(n){return qL(n).replace(/\./g,"")},wd=function(n){try{return Id.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function my(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var zL=()=>my().__FIREBASE_DEFAULTS__,GL=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},WL=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&wd(n[1]);return e&&JSON.parse(e)},Td=()=>{try{return B0()||zL()||GL()||WL()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},z0=n=>{var e,t;return(t=(e=Td())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},G0=n=>{let e=z0(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},yy=()=>{var n;return(n=Td())===null||n===void 0?void 0:n.config},W0=n=>{var e;return(e=Td())===null||e===void 0?void 0:e[`_${n}`]};var xi=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Ni(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function vy(n){return(await fetch(n,{credentials:"include"})).ok}function K0(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[lc(JSON.stringify(t)),lc(JSON.stringify(s)),""].join(".")}var cc={};function KL(){let n={prod:[],emulator:[]};for(let e of Object.keys(cc))cc[e]?n.emulator.push(e):n.prod.push(e);return n}function QL(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var $0=!1;function _y(n,e){if(typeof window>"u"||typeof document>"u"||!Ni(window.location.host)||cc[n]===e||cc[n]||$0)return;cc[n]=e;function t(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=KL().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function l(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function u(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{$0=!0,s()},m}function h(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){let m=QL(r),y=t("text"),T=document.getElementById(y)||document.createElement("span"),A=t("learnmore"),D=document.getElementById(A)||document.createElement("a"),x=t("preprendIcon"),k=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let B=m.element;a(B),h(D,A);let H=u();l(k,x),B.append(k,T,D,H),document.body.appendChild(B)}o?(T.innerText="Preview backend disconnected.",k.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(k.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}function Pt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Q0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pt())}function YL(){var n;let e=(n=Td())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Y0(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function J0(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function X0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Z0(){return!YL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function uc(){try{return typeof indexedDB=="object"}catch{return!1}}function eC(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var JL="FirebaseError",Ht=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=JL,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,on.prototype.create)}},on=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?XL(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Ht(i,a,r)}};function XL(n,e){return n.replace(ZL,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var ZL=/\{\$([^}]+)}/g;function Mi(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(H0(o)&&H0(s)){if(!Mi(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function H0(n){return n!==null&&typeof n=="object"}function Ey(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function tC(n,e){let t=new gy(n,e);return t.subscribe.bind(t)}var gy=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");eF(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=fy),i.error===void 0&&(i.error=fy),i.complete===void 0&&(i.complete=fy);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function eF(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function fy(){}var ZY=14400*1e3;function bt(n){return n&&n._delegate?n._delegate:n}var vt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Pi="[DEFAULT]";var Iy=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new xi;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nF(e))try{this.getOrInitializeService({instanceIdentifier:Pi})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Pi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Pi){return this.instances.has(e)}getOptions(e=Pi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:tF(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Pi){return this.component?this.component.multipleInstances?e:Pi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function tF(n){return n===Pi?void 0:n}function nF(n){return n.instantiationMode==="EAGER"}var bd=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Iy(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var rF=[],ce=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(ce||{}),iF={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},oF=ce.INFO,sF={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},aF=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=sF[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Dn=class{constructor(e){this.name=e,this._logLevel=oF,this._logHandler=aF,this._userLogHandler=null,rF.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?iF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}};var cF=(n,e)=>e.some(t=>n instanceof t),nC,rC;function lF(){return nC||(nC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uF(){return rC||(rC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var iC=new WeakMap,Ty=new WeakMap,oC=new WeakMap,wy=new WeakMap,Sy=new WeakMap;function dF(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(An(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&iC.set(t,n)}).catch(()=>{}),Sy.set(e,n),e}function hF(n){if(Ty.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Ty.set(n,e)}var by={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Ty.get(n);if(e==="objectStoreNames")return n.objectStoreNames||oC.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return An(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function sC(n){by=n(by)}function fF(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Sd(this),e,...t);return oC.set(r,e.sort?e.sort():[e]),An(r)}:uF().includes(n)?function(...e){return n.apply(Sd(this),e),An(iC.get(this))}:function(...e){return An(n.apply(Sd(this),e))}}function pF(n){return typeof n=="function"?fF(n):(n instanceof IDBTransaction&&hF(n),cF(n,lF())?new Proxy(n,by):n)}function An(n){if(n instanceof IDBRequest)return dF(n);if(wy.has(n))return wy.get(n);let e=pF(n);return e!==n&&(wy.set(n,e),Sy.set(e,n)),e}var Sd=n=>Sy.get(n);function cC(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=An(s);return r&&s.addEventListener("upgradeneeded",l=>{r(An(s.result),l.oldVersion,l.newVersion,An(s.transaction),l)}),t&&s.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var gF=["get","getKey","getAll","getAllKeys","count"],mF=["put","add","delete","clear"],Cy=new Map;function aC(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Cy.get(e))return Cy.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=mF.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||gF.includes(t)))return;let o=async function(s,...a){let l=this.transaction(s,i?"readwrite":"readonly"),u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[t](...a),i&&l.done]))[0]};return Cy.set(e,o),o}sC(n=>me($({},n),{get:(e,t,r)=>aC(e,t)||n.get(e,t,r),has:(e,t)=>!!aC(e,t)||n.has(e,t)}));var Ay=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(yF(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function yF(n){let e=n.getComponent();return e?.type==="VERSION"}var Ry="@firebase/app",lC="0.13.2";var ir=new Dn("@firebase/app"),vF="@firebase/app-compat",_F="@firebase/analytics-compat",EF="@firebase/analytics",IF="@firebase/app-check-compat",wF="@firebase/app-check",TF="@firebase/auth",bF="@firebase/auth-compat",SF="@firebase/database",CF="@firebase/data-connect",DF="@firebase/database-compat",AF="@firebase/functions",RF="@firebase/functions-compat",xF="@firebase/installations",NF="@firebase/installations-compat",MF="@firebase/messaging",PF="@firebase/messaging-compat",kF="@firebase/performance",OF="@firebase/performance-compat",LF="@firebase/remote-config",FF="@firebase/remote-config-compat",VF="@firebase/storage",jF="@firebase/storage-compat",UF="@firebase/firestore",BF="@firebase/ai",$F="@firebase/firestore-compat",HF="firebase",qF="11.10.0";var xy="[DEFAULT]",zF={[Ry]:"fire-core",[vF]:"fire-core-compat",[EF]:"fire-analytics",[_F]:"fire-analytics-compat",[wF]:"fire-app-check",[IF]:"fire-app-check-compat",[TF]:"fire-auth",[bF]:"fire-auth-compat",[SF]:"fire-rtdb",[CF]:"fire-data-connect",[DF]:"fire-rtdb-compat",[AF]:"fire-fn",[RF]:"fire-fn-compat",[xF]:"fire-iid",[NF]:"fire-iid-compat",[MF]:"fire-fcm",[PF]:"fire-fcm-compat",[kF]:"fire-perf",[OF]:"fire-perf-compat",[LF]:"fire-rc",[FF]:"fire-rc-compat",[VF]:"fire-gcs",[jF]:"fire-gcs-compat",[UF]:"fire-fst",[$F]:"fire-fst-compat",[BF]:"fire-vertex","fire-js":"fire-js",[HF]:"fire-js-all"};var dc=new Map,GF=new Map,Ny=new Map;function uC(n,e){try{n.container.addComponent(e)}catch(t){ir.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function sn(n){let e=n.name;if(Ny.has(e))return ir.debug(`There were multiple attempts to register component ${e}.`),!1;Ny.set(e,n);for(let t of dc.values())uC(t,n);for(let t of GF.values())uC(t,n);return!0}function Cd(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function or(n){return n==null?!1:n.settings!==void 0}var WF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},kr=new on("app","Firebase",WF);var My=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new vt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw kr.create("app-deleted",{appName:this._name})}};var Zo=qF;function Oy(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:xy,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw kr.create("bad-app-name",{appName:String(i)});if(t||(t=yy()),!t)throw kr.create("no-options");let o=dc.get(i);if(o){if(Mi(t,o.options)&&Mi(r,o.config))return o;throw kr.create("duplicate-app",{appName:i})}let s=new bd(i);for(let l of Ny.values())s.addComponent(l);let a=new My(t,r,s);return dc.set(i,a),a}function es(n=xy){let e=dc.get(n);if(!e&&n===xy&&yy())return Oy();if(!e)throw kr.create("no-app",{appName:n});return e}function Dd(){return Array.from(dc.values())}function Oe(n,e,t){var r;let i=(r=zF[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ir.warn(a.join(" "));return}sn(new vt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var KF="firebase-heartbeat-database",QF=1,hc="firebase-heartbeat-store",Dy=null;function pC(){return Dy||(Dy=cC(KF,QF,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(hc)}catch(t){console.warn(t)}}}}).catch(n=>{throw kr.create("idb-open",{originalErrorMessage:n.message})})),Dy}async function YF(n){try{let t=(await pC()).transaction(hc),r=await t.objectStore(hc).get(gC(n));return await t.done,r}catch(e){if(e instanceof Ht)ir.warn(e.message);else{let t=kr.create("idb-get",{originalErrorMessage:e?.message});ir.warn(t.message)}}}async function dC(n,e){try{let r=(await pC()).transaction(hc,"readwrite");await r.objectStore(hc).put(e,gC(n)),await r.done}catch(t){if(t instanceof Ht)ir.warn(t.message);else{let r=kr.create("idb-set",{originalErrorMessage:t?.message});ir.warn(r.message)}}}function gC(n){return`${n.name}!${n.options.appId}`}var JF=1024,XF=30,Py=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new ky(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=hC();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>XF){let s=eV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ir.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=hC(),{heartbeatsToSend:r,unsentEntries:i}=ZF(this._heartbeatsCache.heartbeats),o=lc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ir.warn(t),""}}};function hC(){return new Date().toISOString().substring(0,10)}function ZF(n,e=JF){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),fC(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),fC(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var ky=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uc()?eC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let t=await YF(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){let i=await this.read();return dC(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){let i=await this.read();return dC(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}};function fC(n){return lc(JSON.stringify({version:2,heartbeats:n})).length}function eV(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function tV(n){sn(new vt("platform-logger",e=>new Ay(e),"PRIVATE")),sn(new vt("heartbeat",e=>new Py(e),"PRIVATE")),Oe(Ry,lC,n),Oe(Ry,lC,"esm2017"),Oe("fire-js","")}tV("");var nV="firebase",rV="11.10.0";Oe(nV,rV,"app");function mC(n){n===void 0&&(n=P(Ze));let e=n.get(Ro);return t=>new le(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:l=>{r.next(l),s()},complete:()=>{r.complete(),s()},error:l=>{r.error(l),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Oi=new ri("ANGULARFIRE2_VERSION");function Rd(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var ns=(n,e)=>{let t=e?[e]:Dd(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},ts=(function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n})(ts||{}),yC=_m()&&typeof Zone<"u"?ts.WARN:ts.SILENT;var Ad=class{zone;delegate;constructor(e,t=$f){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},Li=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=P(Me);this.outsideAngular=t.runOutsideAngular(()=>new Ad(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new Ad(typeof Zone>"u"?void 0:Zone.current,Bf))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),vC=!1;function iV(n,e){!vC&&(yC>ts.SILENT||_m())&&(vC=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),yC>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function oV(n){let e=P(Me,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function ki(n){let e=P(Me,{optional:!0});return e?e.run(()=>n()):n()}var sV=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),Le(t,()=>ki(()=>n.apply(void 0,r)))),kt=(n,e,t)=>(t||=e?ts.WARN:ts.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=P(Li),s=P(Ro),a=P(Ne)}catch{return iV(n,t),n.apply(this,i)}for(let u=0;u<arguments.length;u++)typeof i[u]=="function"&&(e&&(r||=ki(()=>s.add())),i[u]=sV(i[u],r,a));let l=oV(()=>n.apply(this,i));return e?l instanceof le?l.pipe(wr(o.outsideAngular),Ir(o.insideAngular),mC(a)):l instanceof Promise?ki(()=>{let u=s.add();return new Promise((h,f)=>{l.then(m=>Le(a,()=>ki(()=>h(m))),m=>Le(a,()=>ki(()=>f(m)))).finally(u)})}):typeof l=="function"&&r?function(){return setTimeout(r,0),l.apply(this,arguments)}:ki(()=>l):l instanceof le?l.pipe(wr(o.outsideAngular),Ir(o.insideAngular)):ki(()=>l)});var Fi=class{constructor(e){return e}},fc=class{constructor(){return Dd()}};function aV(n){return n&&n.length===1?n[0]:new Fi(es())}var Ly=new G("angularfire2._apps"),cV={provide:Fi,useFactory:aV,deps:[[new wn,Ly]]},lV={provide:fc,deps:[[new wn,Ly]]};function uV(n){return(e,t)=>{let r=t.get(Ti);Oe("angularfire",Oi.full,"core"),Oe("angularfire",Oi.full,"app"),Oe("angular",up.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Fi(i)}}function _C(n,...e){return Ft([cV,lV,{provide:Ly,useFactory:uV(n),multi:!0,deps:[Me,Ze,Li,...e]}])}var EC=kt(Oy,!0);var dV=new Map,hV={activated:!1,tokenObservers:[]},fV={initialized:!1,enabled:!1};function an(n){return dV.get(n)||Object.assign({},hV)}function bC(){return fV}var pV="https://content-firebaseappcheck.googleapis.com/v1";var gV="exchangeDebugToken",IC={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},ZJ=1440*60*1e3;var jy=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new xi,this.pending.promise.catch(t=>{}),await mV(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new xi,this.pending.promise.catch(t=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function mV(n){return new Promise(e=>{setTimeout(e,n)})}var yV={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Or=new on("appCheck","AppCheck",yV);function SC(n){if(!an(n).activated)throw Or.create("use-before-activation",{appName:n.name})}async function CC({url:n,body:e},t){let r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){let f=await i.getHeartbeatsHeader();f&&(r["X-Firebase-Client"]=f)}let o={method:"POST",body:JSON.stringify(e),headers:r},s;try{s=await fetch(n,o)}catch(f){throw Or.create("fetch-network-error",{originalErrorMessage:f?.message})}if(s.status!==200)throw Or.create("fetch-status-error",{httpStatus:s.status});let a;try{a=await s.json()}catch(f){throw Or.create("fetch-parse-error",{originalErrorMessage:f?.message})}let l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw Or.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});let u=Number(l[1])*1e3,h=Date.now();return{token:a.token,expireTimeMillis:h+u,issuedAtTimeMillis:h}}function DC(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${pV}/projects/${t}/apps/${r}:${gV}?key=${i}`,body:{debug_token:e}}}var vV="firebase-app-check-database",_V=1,Uy="firebase-app-check-store";var xd=null;function EV(){return xd||(xd=new Promise((n,e)=>{try{let t=indexedDB.open(vV,_V);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Or.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;r.oldVersion===0&&i.createObjectStore(Uy,{keyPath:"compositeKey"})}}catch(t){e(Or.create("storage-open",{originalErrorMessage:t?.message}))}}),xd)}function IV(n,e){return wV(TV(n),e)}async function wV(n,e){let r=(await EV()).transaction(Uy,"readwrite"),o=r.objectStore(Uy).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=l=>{s()},r.onerror=l=>{var u;a(Or.create("storage-set",{originalErrorMessage:(u=l.target.error)===null||u===void 0?void 0:u.message}))}})}function TV(n){return`${n.options.appId}-${n.name}`}var pc=new Dn("@firebase/app-check");function Fy(n,e){return uc()?IV(n,e).catch(t=>{pc.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function AC(){return bC().enabled}async function RC(){let n=bC();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}var bV={error:"UNKNOWN_ERROR"};function SV(n){return Id.encodeString(JSON.stringify(n),!1)}async function By(n,e=!1,t=!1){let r=n.app;SC(r);let i=an(r),o=i.token,s;if(o&&!gc(o)&&(i.token=void 0,o=void 0),!o){let u=await i.cachedTokenPromise;u&&(gc(u)?o=u:await Fy(r,void 0))}if(!e&&o&&gc(o))return{token:o.token};let a=!1;if(AC())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=CC(DC(r,await RC()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let u=await i.exchangeTokenPromise;return await Fy(r,u),i.token=u,{token:u.token}}catch(u){return u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?pc.warn(u.message):t&&pc.error(u),Vy(u)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=await an(r).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?pc.warn(u.message):t&&pc.error(u),s=u}let l;return o?s?gc(o)?l={token:o.token,internalError:s}:l=Vy(s):(l={token:o.token},i.token=o,await Fy(r,o)):l=Vy(s),a&&RV(r,l),l}async function CV(n){let e=n.app;SC(e);let{provider:t}=an(e);if(AC()){let r=await RC(),{token:i}=await CC(DC(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=await t.getToken();return{token:r}}}function DV(n,e,t,r){let{app:i}=n,o=an(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&gc(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),wC(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>wC(n))}function xC(n,e){let t=an(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function wC(n){let{app:e}=n,t=an(e),r=t.tokenRefresher;r||(r=AV(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function AV(n){let{app:e}=n;return new jy(async()=>{let t=an(e),r;if(t.token?r=await By(n,!0):r=await By(n),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{let t=an(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},IC.RETRIAL_MIN_WAIT,IC.RETRIAL_MAX_WAIT)}function RV(n,e){let t=an(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function gc(n){return n.expireTimeMillis-Date.now()>0}function Vy(n){return{token:SV(bV),error:n}}var $y=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=an(this.app);for(let t of e)xC(this.app,t.next);return Promise.resolve()}};function xV(n,e){return new $y(n,e)}function NV(n){return{getToken:e=>By(n,e),getLimitedUseToken:()=>CV(n),addTokenListener:e=>DV(n,"INTERNAL",e),removeTokenListener:e=>xC(n.app,e)}}var MV="@firebase/app-check",PV="0.10.1";var kV="app-check",TC="app-check-internal";function OV(){sn(new vt(kV,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return xV(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(TC).initialize()})),sn(new vt(TC,n=>{let e=n.getProvider("app-check").getImmediate();return NV(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Oe(MV,PV)}OV();var LV="app-check";var Nd=class{constructor(){return ns(LV)}};var FV=["localhost","0.0.0.0","127.0.0.1"],dX=typeof window<"u"&&FV.includes(window.location.hostname);function VC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var jC=VC,UC=new on("auth","Firebase",VC());var Od=new Dn("@firebase/auth");function VV(n,...e){Od.logLevel<=ce.WARN&&Od.warn(`Auth (${Zo}): ${n}`,...e)}function Pd(n,...e){Od.logLevel<=ce.ERROR&&Od.error(`Auth (${Zo}): ${n}`,...e)}function NC(n,...e){throw ev(n,...e)}function Zy(n,...e){return ev(n,...e)}function BC(n,e,t){let r=Object.assign(Object.assign({},jC()),{[e]:t});return new on("auth","Firebase",r).create(e,{appName:n.name})}function kd(n){return BC(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ev(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return UC.create(n,...e)}function ge(n,e,...t){if(!n)throw ev(e,...t)}function mc(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Pd(e),new Error(e)}function Ld(n,e){n||mc(e)}function jV(){return MC()==="http:"||MC()==="https:"}function MC(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function UV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jV()||J0()||"connection"in navigator)?navigator.onLine:!0}function BV(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Ui=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ld(t>e,"Short delay should be less than long delay!"),this.isMobile=Q0()||X0()}get(){return UV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function $V(n,e){Ld(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Fd=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;mc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;mc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;mc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var HV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var qV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],zV=new Ui(3e4,6e4);function $C(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function $d(n,e,t,r,i={}){return HC(n,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});let a=Ey(Object.assign({key:n.config.apiKey},s)).slice(1),l=await n._getAdditionalHeaders();l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode);let u=Object.assign({method:e,headers:l},o);return Y0()||(u.referrerPolicy="no-referrer"),n.emulatorConfig&&Ni(n.emulatorConfig.host)&&(u.credentials="include"),Fd.fetch()(await qC(n,n.config.apiHost,t,a),u)})}async function HC(n,e,t){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},HV),e);try{let i=new zy(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=await o.json();if("needConfirmation"in s)throw Md(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Md(n,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Md(n,"email-already-in-use",s);if(l==="USER_DISABLED")throw Md(n,"user-disabled",s);let h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw BC(n,h,u);NC(n,h)}}catch(i){if(i instanceof Ht)throw i;NC(n,"network-request-failed",{message:String(i)})}}async function qC(n,e,t,r){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?$V(n.config,i):`${n.config.apiScheme}://${i}`;return qV.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}var zy=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Zy(this.auth,"network-request-failed")),zV.get())})}};function Md(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Zy(n,e,r);return i.customData._tokenResponse=t,i}async function GV(n,e){return $d(n,"POST","/v1/accounts:delete",e)}async function Vd(n,e){return $d(n,"POST","/v1/accounts:lookup",e)}function yc(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function tv(n,e=!1){let t=bt(n),r=await t.getIdToken(e),i=zC(r);ge(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:yc(Hy(i.auth_time)),issuedAtTime:yc(Hy(i.iat)),expirationTime:yc(Hy(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Hy(n){return Number(n)*1e3}function zC(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Pd("JWT malformed, contained fewer than 3 sections"),null;try{let i=wd(t);return i?JSON.parse(i):(Pd("Failed to decode base64 JWT payload"),null)}catch(i){return Pd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function PC(n){let e=zC(n);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Gy(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Ht&&WV(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function WV({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Wy=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var _c=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=yc(this.lastLoginAt),this.creationTime=yc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function jd(n){var e;let t=n.auth,r=await n.getIdToken(),i=await Gy(n,Vd(t,{idToken:r}));ge(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?GC(o.providerUserInfo):[],a=KV(n.providerData,s),l=n.isAnonymous,u=!(n.email&&o.passwordHash)&&!a?.length,h=l?u:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new _c(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,f)}async function nv(n){let e=bt(n);await jd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function KV(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function GC(n){return n.map(e=>{var{providerId:t}=e,r=Hf(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}async function QV(n,e){let t=await HC(n,{},async()=>{let r=Ey({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=await qC(n,i,"/v1/token",`key=${o}`),a=await n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let l={method:"POST",headers:a,body:r};return n.emulatorConfig&&Ni(n.emulatorConfig.host)&&(l.credentials="include"),Fd.fetch()(s,l)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function YV(n,e){return $d(n,"POST","/v2/accounts:revokeToken",$C(n,e))}var vc=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):PC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ge(e.length!==0,"internal-error");let t=PC(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:r,refreshToken:i,expiresIn:o}=await QV(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(ge(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ge(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ge(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return mc("not implemented")}};function Lr(n,e){ge(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Vi=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Hf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Wy(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new _c(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){let t=await Gy(this,this.stsTokenManager.getToken(this.auth,e));return ge(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return tv(this,e)}reload(){return nv(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await jd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(or(this.auth.app))return Promise.reject(kd(this.auth));let e=await this.getIdToken();return await Gy(this,GV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,l,u,h;let f=(r=t.displayName)!==null&&r!==void 0?r:void 0,m=(i=t.email)!==null&&i!==void 0?i:void 0,y=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,T=(s=t.photoURL)!==null&&s!==void 0?s:void 0,A=(a=t.tenantId)!==null&&a!==void 0?a:void 0,D=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,x=(u=t.createdAt)!==null&&u!==void 0?u:void 0,k=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:B,emailVerified:H,isAnonymous:z,providerData:K,stsTokenManager:I}=t;ge(B&&I,e,"internal-error");let v=vc.fromJSON(this.name,I);ge(typeof B=="string",e,"internal-error"),Lr(f,e.name),Lr(m,e.name),ge(typeof H=="boolean",e,"internal-error"),ge(typeof z=="boolean",e,"internal-error"),Lr(y,e.name),Lr(T,e.name),Lr(A,e.name),Lr(D,e.name),Lr(x,e.name),Lr(k,e.name);let _=new n({uid:B,auth:e,email:m,emailVerified:H,displayName:f,isAnonymous:z,photoURL:T,phoneNumber:y,tenantId:A,stsTokenManager:v,createdAt:x,lastLoginAt:k});return K&&Array.isArray(K)&&(_.providerData=K.map(w=>Object.assign({},w))),D&&(_._redirectEventId=D),_}static async _fromIdTokenResponse(e,t,r=!1){let i=new vc;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await jd(o),o}static async _fromGetAccountInfoResponse(e,t,r){let i=t.users[0];ge(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?GC(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new vc;a.updateFromIdToken(r);let l=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new _c(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(l,u),l}};var kC=new Map;function ji(n){Ld(n instanceof Function,"Expected a class definition");let e=kC.get(n);return e?(Ld(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,kC.set(n,e),e)}var JV=(()=>{class n{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){let r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),Ky=JV;function qy(n,e,t){return`firebase:${n}:${e}:${t}`}var Ud=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=qy(this.userKey,i.apiKey,o),this.fullPersistenceKey=qy("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=await Vd(this.auth,{idToken:e}).catch(()=>{});return t?Vi._fromGetAccountInfoResponse(this.auth,t,e):null}return Vi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new n(ji(Ky),e,r);let i=(await Promise.all(t.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u),o=i[0]||ji(Ky),s=qy(r,e.config.apiKey,e.name),a=null;for(let u of t)try{let h=await u._get(s);if(h){let f;if(typeof h=="string"){let m=await Vd(e,{idToken:h}).catch(()=>{});if(!m)break;f=await Vi._fromGetAccountInfoResponse(e,m,h)}else f=Vi._fromJSON(e,h);u!==o&&(a=f),o=u;break}}catch{}let l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new n(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(t.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new n(o,e,r))}};function OC(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(t2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(XV(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(r2(e))return"Blackberry";if(i2(e))return"Webos";if(ZV(e))return"Safari";if((e.includes("chrome/")||e2(e))&&!e.includes("edge/"))return"Chrome";if(n2(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function XV(n=Pt()){return/firefox\//i.test(n)}function ZV(n=Pt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function e2(n=Pt()){return/crios\//i.test(n)}function t2(n=Pt()){return/iemobile/i.test(n)}function n2(n=Pt()){return/android/i.test(n)}function r2(n=Pt()){return/blackberry/i.test(n)}function i2(n=Pt()){return/webos/i.test(n)}function WC(n,e=[]){let t;switch(n){case"Browser":t=OC(Pt());break;case"Worker":t=`${OC(Pt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Zo}/${r}`}var Qy=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let l=e(o);s(l)}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};async function o2(n,e={}){return $d(n,"GET","/v2/passwordPolicy",$C(n,e))}var s2=6,Yy=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:s2,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Jy=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bd(this),this.idTokenSubscription=new Bd(this),this.beforeStateQueue=new Qy(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=UC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ji(t)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await Ud.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let t=await Vd(this,{idToken:e}),r=await Vi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(or(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=await this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&l?.user&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await jd(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=BV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(or(this.app))return Promise.reject(kd(this));let t=e?bt(e):null;return t&&ge(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return or(this.app)?Promise.reject(kd(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return or(this.app)?Promise.reject(kd(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ji(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=await o2(this),t=new Yy(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new on("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await YV(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){let r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&ji(e)||this._popupRedirectResolver;ge(t,this,"argument-error"),this.redirectPersistenceManager=await Ud.create(this,[ji(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let l=e.addObserver(t,r,i);return()=>{s=!0,l()}}else{let l=e.addObserver(t);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=WC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);let i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(or(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&VV(`Error while retrieving App Check token: ${t.error}`),t?.token}};function a2(n){return bt(n)}var Bd=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=tC(t=>this.observer=t)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var c2={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function l2(n){c2=n}function u2(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function d2(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ji);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}var TX=u2("rcb"),bX=new Ui(3e4,6e4);var SX=new Ui(2e3,1e4);var CX=600*1e3;var DX=new Ui(3e4,6e4);var AX=new Ui(5e3,15e3);var RX=encodeURIComponent("fac");var LC="@firebase/auth",FC="1.10.8";var Xy=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function h2(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function f2(n){sn(new vt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ge(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let l={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:WC(n)},u=new Jy(r,i,o,l);return d2(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),sn(new vt("auth-internal",e=>{let t=a2(e.getProvider("auth").getImmediate());return(r=>new Xy(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Oe(LC,FC,h2(n)),Oe(LC,FC,"esm2017")}var p2=300,xX=W0("authIdTokenMaxAge")||p2;function g2(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}l2({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=Zy("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",g2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});f2("Browser");var fj="auth";var Hd=class{constructor(){return ns(fj)}};var KC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},QC={};var sr,rv;(function(){var n;function e(I,v){function _(){}_.prototype=v.prototype,I.D=v.prototype,I.prototype=new _,I.prototype.constructor=I,I.C=function(w,b,C){for(var E=Array(arguments.length-2),Lt=2;Lt<arguments.length;Lt++)E[Lt-2]=arguments[Lt];return v.prototype[b].apply(w,E)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,v,_){_||(_=0);var w=Array(16);if(typeof v=="string")for(var b=0;16>b;++b)w[b]=v.charCodeAt(_++)|v.charCodeAt(_++)<<8|v.charCodeAt(_++)<<16|v.charCodeAt(_++)<<24;else for(b=0;16>b;++b)w[b]=v[_++]|v[_++]<<8|v[_++]<<16|v[_++]<<24;v=I.g[0],_=I.g[1],b=I.g[2];var C=I.g[3],E=v+(C^_&(b^C))+w[0]+3614090360&4294967295;v=_+(E<<7&4294967295|E>>>25),E=C+(b^v&(_^b))+w[1]+3905402710&4294967295,C=v+(E<<12&4294967295|E>>>20),E=b+(_^C&(v^_))+w[2]+606105819&4294967295,b=C+(E<<17&4294967295|E>>>15),E=_+(v^b&(C^v))+w[3]+3250441966&4294967295,_=b+(E<<22&4294967295|E>>>10),E=v+(C^_&(b^C))+w[4]+4118548399&4294967295,v=_+(E<<7&4294967295|E>>>25),E=C+(b^v&(_^b))+w[5]+1200080426&4294967295,C=v+(E<<12&4294967295|E>>>20),E=b+(_^C&(v^_))+w[6]+2821735955&4294967295,b=C+(E<<17&4294967295|E>>>15),E=_+(v^b&(C^v))+w[7]+4249261313&4294967295,_=b+(E<<22&4294967295|E>>>10),E=v+(C^_&(b^C))+w[8]+1770035416&4294967295,v=_+(E<<7&4294967295|E>>>25),E=C+(b^v&(_^b))+w[9]+2336552879&4294967295,C=v+(E<<12&4294967295|E>>>20),E=b+(_^C&(v^_))+w[10]+4294925233&4294967295,b=C+(E<<17&4294967295|E>>>15),E=_+(v^b&(C^v))+w[11]+2304563134&4294967295,_=b+(E<<22&4294967295|E>>>10),E=v+(C^_&(b^C))+w[12]+1804603682&4294967295,v=_+(E<<7&4294967295|E>>>25),E=C+(b^v&(_^b))+w[13]+4254626195&4294967295,C=v+(E<<12&4294967295|E>>>20),E=b+(_^C&(v^_))+w[14]+2792965006&4294967295,b=C+(E<<17&4294967295|E>>>15),E=_+(v^b&(C^v))+w[15]+1236535329&4294967295,_=b+(E<<22&4294967295|E>>>10),E=v+(b^C&(_^b))+w[1]+4129170786&4294967295,v=_+(E<<5&4294967295|E>>>27),E=C+(_^b&(v^_))+w[6]+3225465664&4294967295,C=v+(E<<9&4294967295|E>>>23),E=b+(v^_&(C^v))+w[11]+643717713&4294967295,b=C+(E<<14&4294967295|E>>>18),E=_+(C^v&(b^C))+w[0]+3921069994&4294967295,_=b+(E<<20&4294967295|E>>>12),E=v+(b^C&(_^b))+w[5]+3593408605&4294967295,v=_+(E<<5&4294967295|E>>>27),E=C+(_^b&(v^_))+w[10]+38016083&4294967295,C=v+(E<<9&4294967295|E>>>23),E=b+(v^_&(C^v))+w[15]+3634488961&4294967295,b=C+(E<<14&4294967295|E>>>18),E=_+(C^v&(b^C))+w[4]+3889429448&4294967295,_=b+(E<<20&4294967295|E>>>12),E=v+(b^C&(_^b))+w[9]+568446438&4294967295,v=_+(E<<5&4294967295|E>>>27),E=C+(_^b&(v^_))+w[14]+3275163606&4294967295,C=v+(E<<9&4294967295|E>>>23),E=b+(v^_&(C^v))+w[3]+4107603335&4294967295,b=C+(E<<14&4294967295|E>>>18),E=_+(C^v&(b^C))+w[8]+1163531501&4294967295,_=b+(E<<20&4294967295|E>>>12),E=v+(b^C&(_^b))+w[13]+2850285829&4294967295,v=_+(E<<5&4294967295|E>>>27),E=C+(_^b&(v^_))+w[2]+4243563512&4294967295,C=v+(E<<9&4294967295|E>>>23),E=b+(v^_&(C^v))+w[7]+1735328473&4294967295,b=C+(E<<14&4294967295|E>>>18),E=_+(C^v&(b^C))+w[12]+2368359562&4294967295,_=b+(E<<20&4294967295|E>>>12),E=v+(_^b^C)+w[5]+4294588738&4294967295,v=_+(E<<4&4294967295|E>>>28),E=C+(v^_^b)+w[8]+2272392833&4294967295,C=v+(E<<11&4294967295|E>>>21),E=b+(C^v^_)+w[11]+1839030562&4294967295,b=C+(E<<16&4294967295|E>>>16),E=_+(b^C^v)+w[14]+4259657740&4294967295,_=b+(E<<23&4294967295|E>>>9),E=v+(_^b^C)+w[1]+2763975236&4294967295,v=_+(E<<4&4294967295|E>>>28),E=C+(v^_^b)+w[4]+1272893353&4294967295,C=v+(E<<11&4294967295|E>>>21),E=b+(C^v^_)+w[7]+4139469664&4294967295,b=C+(E<<16&4294967295|E>>>16),E=_+(b^C^v)+w[10]+3200236656&4294967295,_=b+(E<<23&4294967295|E>>>9),E=v+(_^b^C)+w[13]+681279174&4294967295,v=_+(E<<4&4294967295|E>>>28),E=C+(v^_^b)+w[0]+3936430074&4294967295,C=v+(E<<11&4294967295|E>>>21),E=b+(C^v^_)+w[3]+3572445317&4294967295,b=C+(E<<16&4294967295|E>>>16),E=_+(b^C^v)+w[6]+76029189&4294967295,_=b+(E<<23&4294967295|E>>>9),E=v+(_^b^C)+w[9]+3654602809&4294967295,v=_+(E<<4&4294967295|E>>>28),E=C+(v^_^b)+w[12]+3873151461&4294967295,C=v+(E<<11&4294967295|E>>>21),E=b+(C^v^_)+w[15]+530742520&4294967295,b=C+(E<<16&4294967295|E>>>16),E=_+(b^C^v)+w[2]+3299628645&4294967295,_=b+(E<<23&4294967295|E>>>9),E=v+(b^(_|~C))+w[0]+4096336452&4294967295,v=_+(E<<6&4294967295|E>>>26),E=C+(_^(v|~b))+w[7]+1126891415&4294967295,C=v+(E<<10&4294967295|E>>>22),E=b+(v^(C|~_))+w[14]+2878612391&4294967295,b=C+(E<<15&4294967295|E>>>17),E=_+(C^(b|~v))+w[5]+4237533241&4294967295,_=b+(E<<21&4294967295|E>>>11),E=v+(b^(_|~C))+w[12]+1700485571&4294967295,v=_+(E<<6&4294967295|E>>>26),E=C+(_^(v|~b))+w[3]+2399980690&4294967295,C=v+(E<<10&4294967295|E>>>22),E=b+(v^(C|~_))+w[10]+4293915773&4294967295,b=C+(E<<15&4294967295|E>>>17),E=_+(C^(b|~v))+w[1]+2240044497&4294967295,_=b+(E<<21&4294967295|E>>>11),E=v+(b^(_|~C))+w[8]+1873313359&4294967295,v=_+(E<<6&4294967295|E>>>26),E=C+(_^(v|~b))+w[15]+4264355552&4294967295,C=v+(E<<10&4294967295|E>>>22),E=b+(v^(C|~_))+w[6]+2734768916&4294967295,b=C+(E<<15&4294967295|E>>>17),E=_+(C^(b|~v))+w[13]+1309151649&4294967295,_=b+(E<<21&4294967295|E>>>11),E=v+(b^(_|~C))+w[4]+4149444226&4294967295,v=_+(E<<6&4294967295|E>>>26),E=C+(_^(v|~b))+w[11]+3174756917&4294967295,C=v+(E<<10&4294967295|E>>>22),E=b+(v^(C|~_))+w[2]+718787259&4294967295,b=C+(E<<15&4294967295|E>>>17),E=_+(C^(b|~v))+w[9]+3951481745&4294967295,I.g[0]=I.g[0]+v&4294967295,I.g[1]=I.g[1]+(b+(E<<21&4294967295|E>>>11))&4294967295,I.g[2]=I.g[2]+b&4294967295,I.g[3]=I.g[3]+C&4294967295}r.prototype.u=function(I,v){v===void 0&&(v=I.length);for(var _=v-this.blockSize,w=this.B,b=this.h,C=0;C<v;){if(b==0)for(;C<=_;)i(this,I,C),C+=this.blockSize;if(typeof I=="string"){for(;C<v;)if(w[b++]=I.charCodeAt(C++),b==this.blockSize){i(this,w),b=0;break}}else for(;C<v;)if(w[b++]=I[C++],b==this.blockSize){i(this,w),b=0;break}}this.h=b,this.o+=v},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var v=1;v<I.length-8;++v)I[v]=0;var _=8*this.o;for(v=I.length-8;v<I.length;++v)I[v]=_&255,_/=256;for(this.u(I),I=Array(16),v=_=0;4>v;++v)for(var w=0;32>w;w+=8)I[_++]=this.g[v]>>>w&255;return I};function o(I,v){var _=a;return Object.prototype.hasOwnProperty.call(_,I)?_[I]:_[I]=v(I)}function s(I,v){this.h=v;for(var _=[],w=!0,b=I.length-1;0<=b;b--){var C=I[b]|0;w&&C==v||(_[b]=C,w=!1)}this.g=_}var a={};function l(I){return-128<=I&&128>I?o(I,function(v){return new s([v|0],0>v?-1:0)}):new s([I|0],0>I?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return f;if(0>I)return D(u(-I));for(var v=[],_=1,w=0;I>=_;w++)v[w]=I/_|0,_*=4294967296;return new s(v,0)}function h(I,v){if(I.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(I.charAt(0)=="-")return D(h(I.substring(1),v));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=u(Math.pow(v,8)),w=f,b=0;b<I.length;b+=8){var C=Math.min(8,I.length-b),E=parseInt(I.substring(b,b+C),v);8>C?(C=u(Math.pow(v,C)),w=w.j(C).add(u(E))):(w=w.j(_),w=w.add(u(E)))}return w}var f=l(0),m=l(1),y=l(16777216);n=s.prototype,n.m=function(){if(A(this))return-D(this).m();for(var I=0,v=1,_=0;_<this.g.length;_++){var w=this.i(_);I+=(0<=w?w:4294967296+w)*v,v*=4294967296}return I},n.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(T(this))return"0";if(A(this))return"-"+D(this).toString(I);for(var v=u(Math.pow(I,6)),_=this,w="";;){var b=H(_,v).g;_=x(_,b.j(v));var C=((0<_.g.length?_.g[0]:_.h)>>>0).toString(I);if(_=b,T(_))return C+w;for(;6>C.length;)C="0"+C;w=C+w}},n.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function T(I){if(I.h!=0)return!1;for(var v=0;v<I.g.length;v++)if(I.g[v]!=0)return!1;return!0}function A(I){return I.h==-1}n.l=function(I){return I=x(this,I),A(I)?-1:T(I)?0:1};function D(I){for(var v=I.g.length,_=[],w=0;w<v;w++)_[w]=~I.g[w];return new s(_,~I.h).add(m)}n.abs=function(){return A(this)?D(this):this},n.add=function(I){for(var v=Math.max(this.g.length,I.g.length),_=[],w=0,b=0;b<=v;b++){var C=w+(this.i(b)&65535)+(I.i(b)&65535),E=(C>>>16)+(this.i(b)>>>16)+(I.i(b)>>>16);w=E>>>16,C&=65535,E&=65535,_[b]=E<<16|C}return new s(_,_[_.length-1]&-2147483648?-1:0)};function x(I,v){return I.add(D(v))}n.j=function(I){if(T(this)||T(I))return f;if(A(this))return A(I)?D(this).j(D(I)):D(D(this).j(I));if(A(I))return D(this.j(D(I)));if(0>this.l(y)&&0>I.l(y))return u(this.m()*I.m());for(var v=this.g.length+I.g.length,_=[],w=0;w<2*v;w++)_[w]=0;for(w=0;w<this.g.length;w++)for(var b=0;b<I.g.length;b++){var C=this.i(w)>>>16,E=this.i(w)&65535,Lt=I.i(b)>>>16,Rs=I.i(b)&65535;_[2*w+2*b]+=E*Rs,k(_,2*w+2*b),_[2*w+2*b+1]+=C*Rs,k(_,2*w+2*b+1),_[2*w+2*b+1]+=E*Lt,k(_,2*w+2*b+1),_[2*w+2*b+2]+=C*Lt,k(_,2*w+2*b+2)}for(w=0;w<v;w++)_[w]=_[2*w+1]<<16|_[2*w];for(w=v;w<2*v;w++)_[w]=0;return new s(_,0)};function k(I,v){for(;(I[v]&65535)!=I[v];)I[v+1]+=I[v]>>>16,I[v]&=65535,v++}function B(I,v){this.g=I,this.h=v}function H(I,v){if(T(v))throw Error("division by zero");if(T(I))return new B(f,f);if(A(I))return v=H(D(I),v),new B(D(v.g),D(v.h));if(A(v))return v=H(I,D(v)),new B(D(v.g),v.h);if(30<I.g.length){if(A(I)||A(v))throw Error("slowDivide_ only works with positive integers.");for(var _=m,w=v;0>=w.l(I);)_=z(_),w=z(w);var b=K(_,1),C=K(w,1);for(w=K(w,2),_=K(_,2);!T(w);){var E=C.add(w);0>=E.l(I)&&(b=b.add(_),C=E),w=K(w,1),_=K(_,1)}return v=x(I,b.j(v)),new B(b,v)}for(b=f;0<=I.l(v);){for(_=Math.max(1,Math.floor(I.m()/v.m())),w=Math.ceil(Math.log(_)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),C=u(_),E=C.j(v);A(E)||0<E.l(I);)_-=w,C=u(_),E=C.j(v);T(C)&&(C=m),b=b.add(C),I=x(I,E)}return new B(b,I)}n.A=function(I){return H(this,I).h},n.and=function(I){for(var v=Math.max(this.g.length,I.g.length),_=[],w=0;w<v;w++)_[w]=this.i(w)&I.i(w);return new s(_,this.h&I.h)},n.or=function(I){for(var v=Math.max(this.g.length,I.g.length),_=[],w=0;w<v;w++)_[w]=this.i(w)|I.i(w);return new s(_,this.h|I.h)},n.xor=function(I){for(var v=Math.max(this.g.length,I.g.length),_=[],w=0;w<v;w++)_[w]=this.i(w)^I.i(w);return new s(_,this.h^I.h)};function z(I){for(var v=I.g.length+1,_=[],w=0;w<v;w++)_[w]=I.i(w)<<1|I.i(w-1)>>>31;return new s(_,I.h)}function K(I,v){var _=v>>5;v%=32;for(var w=I.g.length-_,b=[],C=0;C<w;C++)b[C]=0<v?I.i(C+_)>>>v|I.i(C+_+1)<<32-v:I.i(C+_);return new s(b,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,rv=QC.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=h,sr=QC.Integer=s}).apply(typeof KC<"u"?KC:typeof self<"u"?self:typeof window<"u"?window:{});var qd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ar={};var iv,pj,rs,ov,Ec,zd,sv,av,cv;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,p){return c==Array.prototype||c==Object.prototype||(c[d]=p.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof qd=="object"&&qd];for(var d=0;d<c.length;++d){var p=c[d];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var p=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var S=c[g];if(!(S in p))break e;p=p[S]}c=c[c.length-1],g=p[c],d=d(g),d!=g&&d!=null&&e(p,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var p=0,g=!1,S={next:function(){if(!g&&p<c.length){var R=p++;return{value:d(R,c[R]),done:!1}}return g=!0,{done:!0,value:void 0}}};return S[Symbol.iterator]=function(){return S},S}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,p){return p})}});var s=s||{},a=this||self;function l(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function u(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,p){return c.call.apply(c.bind,arguments)}function f(c,d,p){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var S=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(S,g),c.apply(d,S)}}return function(){return c.apply(d,arguments)}}function m(c,d,p){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,m.apply(null,arguments)}function y(c,d){var p=Array.prototype.slice.call(arguments,1);return function(){var g=p.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function T(c,d){function p(){}p.prototype=d.prototype,c.aa=d.prototype,c.prototype=new p,c.prototype.constructor=c,c.Qb=function(g,S,R){for(var O=Array(arguments.length-2),be=2;be<arguments.length;be++)O[be-2]=arguments[be];return d.prototype[S].apply(g,O)}}function A(c){let d=c.length;if(0<d){let p=Array(d);for(let g=0;g<d;g++)p[g]=c[g];return p}return[]}function D(c,d){for(let p=1;p<arguments.length;p++){let g=arguments[p];if(l(g)){let S=c.length||0,R=g.length||0;c.length=S+R;for(let O=0;O<R;O++)c[S+O]=g[O]}else c.push(g)}}class x{constructor(d,p){this.i=d,this.j=p,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function k(c){return/^[\s\xa0]*$/.test(c)}function B(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function H(c){return H[" "](c),c}H[" "]=function(){};var z=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function K(c,d,p){for(let g in c)d.call(p,c[g],g,c)}function I(c,d){for(let p in c)d.call(void 0,c[p],p,c)}function v(c){let d={};for(let p in c)d[p]=c[p];return d}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(c,d){let p,g;for(let S=1;S<arguments.length;S++){g=arguments[S];for(p in g)c[p]=g[p];for(let R=0;R<_.length;R++)p=_[R],Object.prototype.hasOwnProperty.call(g,p)&&(c[p]=g[p])}}function b(c){var d=1;c=c.split(":");let p=[];for(;0<d&&c.length;)p.push(c.shift()),d--;return c.length&&p.push(c.join(":")),p}function C(c){a.setTimeout(()=>{throw c},0)}function E(){var c=Wh;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Lt{constructor(){this.h=this.g=null}add(d,p){let g=Rs.get();g.set(d,p),this.h?this.h.next=g:this.g=g,this.h=g}}var Rs=new x(()=>new BR,c=>c.reset());class BR{constructor(){this.next=this.g=this.h=null}set(d,p){this.h=d,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let xs,Ns=!1,Wh=new Lt,bE=()=>{let c=a.Promise.resolve(void 0);xs=()=>{c.then($R)}};var $R=()=>{for(var c;c=E();){try{c.h.call(c.g)}catch(p){C(p)}var d=Rs;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Ns=!1};function mr(){this.s=this.s,this.C=this.C}mr.prototype.s=!1,mr.prototype.ma=function(){this.s||(this.s=!0,this.N())},mr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function rt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}rt.prototype.h=function(){this.defaultPrevented=!0};var HR=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let p=()=>{};a.addEventListener("test",p,d),a.removeEventListener("test",p,d)}catch{}return c})();function Ms(c,d){if(rt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var p=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(z){e:{try{H(d.nodeName);var S=!0;break e}catch{}S=!1}S||(d=null)}}else p=="mouseover"?d=c.fromElement:p=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:qR[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ms.aa.h.call(this)}}T(Ms,rt);var qR={2:"touch",3:"pen",4:"mouse"};Ms.prototype.h=function(){Ms.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ps="closure_listenable_"+(1e6*Math.random()|0),zR=0;function GR(c,d,p,g,S){this.listener=c,this.proxy=null,this.src=d,this.type=p,this.capture=!!g,this.ha=S,this.key=++zR,this.da=this.fa=!1}function $c(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Hc(c){this.src=c,this.g={},this.h=0}Hc.prototype.add=function(c,d,p,g,S){var R=c.toString();c=this.g[R],c||(c=this.g[R]=[],this.h++);var O=Qh(c,d,g,S);return-1<O?(d=c[O],p||(d.fa=!1)):(d=new GR(d,this.src,R,!!g,S),d.fa=p,c.push(d)),d};function Kh(c,d){var p=d.type;if(p in c.g){var g=c.g[p],S=Array.prototype.indexOf.call(g,d,void 0),R;(R=0<=S)&&Array.prototype.splice.call(g,S,1),R&&($c(d),c.g[p].length==0&&(delete c.g[p],c.h--))}}function Qh(c,d,p,g){for(var S=0;S<c.length;++S){var R=c[S];if(!R.da&&R.listener==d&&R.capture==!!p&&R.ha==g)return S}return-1}var Yh="closure_lm_"+(1e6*Math.random()|0),Jh={};function SE(c,d,p,g,S){if(g&&g.once)return DE(c,d,p,g,S);if(Array.isArray(d)){for(var R=0;R<d.length;R++)SE(c,d[R],p,g,S);return null}return p=tf(p),c&&c[Ps]?c.K(d,p,u(g)?!!g.capture:!!g,S):CE(c,d,p,!1,g,S)}function CE(c,d,p,g,S,R){if(!d)throw Error("Invalid event type");var O=u(S)?!!S.capture:!!S,be=Zh(c);if(be||(c[Yh]=be=new Hc(c)),p=be.add(d,p,g,O,R),p.proxy)return p;if(g=WR(),p.proxy=g,g.src=c,g.listener=p,c.addEventListener)HR||(S=O),S===void 0&&(S=!1),c.addEventListener(d.toString(),g,S);else if(c.attachEvent)c.attachEvent(RE(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return p}function WR(){function c(p){return d.call(c.src,c.listener,p)}let d=KR;return c}function DE(c,d,p,g,S){if(Array.isArray(d)){for(var R=0;R<d.length;R++)DE(c,d[R],p,g,S);return null}return p=tf(p),c&&c[Ps]?c.L(d,p,u(g)?!!g.capture:!!g,S):CE(c,d,p,!0,g,S)}function AE(c,d,p,g,S){if(Array.isArray(d))for(var R=0;R<d.length;R++)AE(c,d[R],p,g,S);else g=u(g)?!!g.capture:!!g,p=tf(p),c&&c[Ps]?(c=c.i,d=String(d).toString(),d in c.g&&(R=c.g[d],p=Qh(R,p,g,S),-1<p&&($c(R[p]),Array.prototype.splice.call(R,p,1),R.length==0&&(delete c.g[d],c.h--)))):c&&(c=Zh(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Qh(d,p,g,S)),(p=-1<c?d[c]:null)&&Xh(p))}function Xh(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Ps])Kh(d.i,c);else{var p=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(p,g,c.capture):d.detachEvent?d.detachEvent(RE(p),g):d.addListener&&d.removeListener&&d.removeListener(g),(p=Zh(d))?(Kh(p,c),p.h==0&&(p.src=null,d[Yh]=null)):$c(c)}}}function RE(c){return c in Jh?Jh[c]:Jh[c]="on"+c}function KR(c,d){if(c.da)c=!0;else{d=new Ms(d,this);var p=c.listener,g=c.ha||c.src;c.fa&&Xh(c),c=p.call(g,d)}return c}function Zh(c){return c=c[Yh],c instanceof Hc?c:null}var ef="__closure_events_fn_"+(1e9*Math.random()>>>0);function tf(c){return typeof c=="function"?c:(c[ef]||(c[ef]=function(d){return c.handleEvent(d)}),c[ef])}function it(){mr.call(this),this.i=new Hc(this),this.M=this,this.F=null}T(it,mr),it.prototype[Ps]=!0,it.prototype.removeEventListener=function(c,d,p,g){AE(this,c,d,p,g)};function dt(c,d){var p,g=c.F;if(g)for(p=[];g;g=g.F)p.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new rt(d,c);else if(d instanceof rt)d.target=d.target||c;else{var S=d;d=new rt(g,c),w(d,S)}if(S=!0,p)for(var R=p.length-1;0<=R;R--){var O=d.g=p[R];S=qc(O,g,!0,d)&&S}if(O=d.g=c,S=qc(O,g,!0,d)&&S,S=qc(O,g,!1,d)&&S,p)for(R=0;R<p.length;R++)O=d.g=p[R],S=qc(O,g,!1,d)&&S}it.prototype.N=function(){if(it.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var p=c.g[d],g=0;g<p.length;g++)$c(p[g]);delete c.g[d],c.h--}}this.F=null},it.prototype.K=function(c,d,p,g){return this.i.add(String(c),d,!1,p,g)},it.prototype.L=function(c,d,p,g){return this.i.add(String(c),d,!0,p,g)};function qc(c,d,p,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var S=!0,R=0;R<d.length;++R){var O=d[R];if(O&&!O.da&&O.capture==p){var be=O.listener,Ye=O.ha||O.src;O.fa&&Kh(c.i,O),S=be.call(Ye,g)!==!1&&S}}return S&&!g.defaultPrevented}function xE(c,d,p){if(typeof c=="function")p&&(c=m(c,p));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function NE(c){c.g=xE(()=>{c.g=null,c.i&&(c.i=!1,NE(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class QR extends mr{constructor(d,p){super(),this.m=d,this.l=p,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:NE(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ks(c){mr.call(this),this.h=c,this.g={}}T(ks,mr);var ME=[];function PE(c){K(c.g,function(d,p){this.g.hasOwnProperty(p)&&Xh(d)},c),c.g={}}ks.prototype.N=function(){ks.aa.N.call(this),PE(this)},ks.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var nf=a.JSON.stringify,YR=a.JSON.parse,JR=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function rf(){}rf.prototype.h=null;function kE(c){return c.h||(c.h=c.i())}function OE(){}var Os={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function of(){rt.call(this,"d")}T(of,rt);function sf(){rt.call(this,"c")}T(sf,rt);var Wr={},LE=null;function zc(){return LE=LE||new it}Wr.La="serverreachability";function FE(c){rt.call(this,Wr.La,c)}T(FE,rt);function Ls(c){let d=zc();dt(d,new FE(d))}Wr.STAT_EVENT="statevent";function VE(c,d){rt.call(this,Wr.STAT_EVENT,c),this.stat=d}T(VE,rt);function ht(c){let d=zc();dt(d,new VE(d,c))}Wr.Ma="timingevent";function jE(c,d){rt.call(this,Wr.Ma,c),this.size=d}T(jE,rt);function Fs(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Vs(){this.g=!0}Vs.prototype.xa=function(){this.g=!1};function XR(c,d,p,g,S,R){c.info(function(){if(c.g)if(R)for(var O="",be=R.split("&"),Ye=0;Ye<be.length;Ye++){var fe=be[Ye].split("=");if(1<fe.length){var ot=fe[0];fe=fe[1];var st=ot.split("_");O=2<=st.length&&st[1]=="type"?O+(ot+"="+fe+"&"):O+(ot+"=redacted&")}}else O=null;else O=R;return"XMLHTTP REQ ("+g+") [attempt "+S+"]: "+d+`
`+p+`
`+O})}function ZR(c,d,p,g,S,R,O){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+S+"]: "+d+`
`+p+`
`+R+" "+O})}function no(c,d,p,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+tx(c,p)+(g?" "+g:"")})}function ex(c,d){c.info(function(){return"TIMEOUT: "+d})}Vs.prototype.info=function(){};function tx(c,d){if(!c.g)return d;if(!d)return null;try{var p=JSON.parse(d);if(p){for(c=0;c<p.length;c++)if(Array.isArray(p[c])){var g=p[c];if(!(2>g.length)){var S=g[1];if(Array.isArray(S)&&!(1>S.length)){var R=S[0];if(R!="noop"&&R!="stop"&&R!="close")for(var O=1;O<S.length;O++)S[O]=""}}}}return nf(p)}catch{return d}}var Gc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},UE={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},af;function Wc(){}T(Wc,rf),Wc.prototype.g=function(){return new XMLHttpRequest},Wc.prototype.i=function(){return{}},af=new Wc;function yr(c,d,p,g){this.j=c,this.i=d,this.l=p,this.R=g||1,this.U=new ks(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new BE}function BE(){this.i=null,this.g="",this.h=!1}var $E={},cf={};function lf(c,d,p){c.L=1,c.v=Jc(On(d)),c.m=p,c.P=!0,HE(c,null)}function HE(c,d){c.F=Date.now(),Kc(c),c.A=On(c.v);var p=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),rI(p.i,"t",g),c.C=0,p=c.j.J,c.h=new BE,c.g=II(c.j,p?d:null,!c.m),0<c.O&&(c.M=new QR(m(c.Y,c,c.g),c.O)),d=c.U,p=c.g,g=c.ca;var S="readystatechange";Array.isArray(S)||(S&&(ME[0]=S.toString()),S=ME);for(var R=0;R<S.length;R++){var O=SE(p,S[R],g||d.handleEvent,!1,d.h||d);if(!O)break;d.g[O.key]=O}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Ls(),XR(c.i,c.u,c.A,c.l,c.R,c.m)}yr.prototype.ca=function(c){c=c.target;let d=this.M;d&&Ln(c)==3?d.j():this.Y(c)},yr.prototype.Y=function(c){try{if(c==this.g)e:{let st=Ln(this.g);var d=this.g.Ba();let oo=this.g.Z();if(!(3>st)&&(st!=3||this.g&&(this.h.h||this.g.oa()||uI(this.g)))){this.J||st!=4||d==7||(d==8||0>=oo?Ls(3):Ls(2)),uf(this);var p=this.g.Z();this.X=p;t:if(qE(this)){var g=uI(this.g);c="";var S=g.length,R=Ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Kr(this),js(this);var O="";break t}this.h.i=new a.TextDecoder}for(d=0;d<S;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(R&&d==S-1)});g.length=0,this.h.g+=c,this.C=0,O=this.h.g}else O=this.g.oa();if(this.o=p==200,ZR(this.i,this.u,this.A,this.l,this.R,st,p),this.o){if(this.T&&!this.K){t:{if(this.g){var be,Ye=this.g;if((be=Ye.g?Ye.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(be)){var fe=be;break t}}fe=null}if(p=fe)no(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,df(this,p);else{this.o=!1,this.s=3,ht(12),Kr(this),js(this);break e}}if(this.P){p=!0;let zt;for(;!this.J&&this.C<O.length;)if(zt=nx(this,O),zt==cf){st==4&&(this.s=4,ht(14),p=!1),no(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==$E){this.s=4,ht(15),no(this.i,this.l,O,"[Invalid Chunk]"),p=!1;break}else no(this.i,this.l,zt,null),df(this,zt);if(qE(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),st!=4||O.length!=0||this.h.h||(this.s=1,ht(16),p=!1),this.o=this.o&&p,!p)no(this.i,this.l,O,"[Invalid Chunked Response]"),Kr(this),js(this);else if(0<O.length&&!this.W){this.W=!0;var ot=this.j;ot.g==this&&ot.ba&&!ot.M&&(ot.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),yf(ot),ot.M=!0,ht(11))}}else no(this.i,this.l,O,null),df(this,O);st==4&&Kr(this),this.o&&!this.J&&(st==4?yI(this.j,this):(this.o=!1,Kc(this)))}else _x(this.g),p==400&&0<O.indexOf("Unknown SID")?(this.s=3,ht(12)):(this.s=0,ht(13)),Kr(this),js(this)}}}catch{}};function qE(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function nx(c,d){var p=c.C,g=d.indexOf(`
`,p);return g==-1?cf:(p=Number(d.substring(p,g)),isNaN(p)?$E:(g+=1,g+p>d.length?cf:(d=d.slice(g,g+p),c.C=g+p,d)))}yr.prototype.cancel=function(){this.J=!0,Kr(this)};function Kc(c){c.S=Date.now()+c.I,zE(c,c.I)}function zE(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Fs(m(c.ba,c),d)}function uf(c){c.B&&(a.clearTimeout(c.B),c.B=null)}yr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(ex(this.i,this.A),this.L!=2&&(Ls(),ht(17)),Kr(this),this.s=2,js(this)):zE(this,this.S-c)};function js(c){c.j.G==0||c.J||yI(c.j,c)}function Kr(c){uf(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,PE(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function df(c,d){try{var p=c.j;if(p.G!=0&&(p.g==c||hf(p.h,c))){if(!c.K&&hf(p.h,c)&&p.G==3){try{var g=p.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var S=g;if(S[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<c.F)nl(p),el(p);else break e;mf(p),ht(18)}}else p.za=S[1],0<p.za-p.T&&37500>S[2]&&p.F&&p.v==0&&!p.C&&(p.C=Fs(m(p.Za,p),6e3));if(1>=KE(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else Yr(p,11)}else if((c.K||p.g==c)&&nl(p),!k(d))for(S=p.Da.g.parse(d),d=0;d<S.length;d++){let fe=S[d];if(p.T=fe[0],fe=fe[1],p.G==2)if(fe[0]=="c"){p.K=fe[1],p.ia=fe[2];let ot=fe[3];ot!=null&&(p.la=ot,p.j.info("VER="+p.la));let st=fe[4];st!=null&&(p.Aa=st,p.j.info("SVER="+p.Aa));let oo=fe[5];oo!=null&&typeof oo=="number"&&0<oo&&(g=1.5*oo,p.L=g,p.j.info("backChannelRequestTimeoutMs_="+g)),g=p;let zt=c.g;if(zt){let il=zt.g?zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(il){var R=g.h;R.g||il.indexOf("spdy")==-1&&il.indexOf("quic")==-1&&il.indexOf("h2")==-1||(R.j=R.l,R.g=new Set,R.h&&(ff(R,R.h),R.h=null))}if(g.D){let vf=zt.g?zt.g.getResponseHeader("X-HTTP-Session-Id"):null;vf&&(g.ya=vf,Se(g.I,g.D,vf))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-c.F,p.j.info("Handshake RTT: "+p.R+"ms")),g=p;var O=c;if(g.qa=EI(g,g.J?g.ia:null,g.W),O.K){QE(g.h,O);var be=O,Ye=g.L;Ye&&(be.I=Ye),be.B&&(uf(be),Kc(be)),g.g=O}else gI(g);0<p.i.length&&tl(p)}else fe[0]!="stop"&&fe[0]!="close"||Yr(p,7);else p.G==3&&(fe[0]=="stop"||fe[0]=="close"?fe[0]=="stop"?Yr(p,7):gf(p):fe[0]!="noop"&&p.l&&p.l.ta(fe),p.v=0)}}Ls(4)}catch{}}var rx=class{constructor(c,d){this.g=c,this.map=d}};function GE(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function WE(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function KE(c){return c.h?1:c.g?c.g.size:0}function hf(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function ff(c,d){c.g?c.g.add(d):c.h=d}function QE(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}GE.prototype.cancel=function(){if(this.i=YE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function YE(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let p of c.g.values())d=d.concat(p.D);return d}return A(c.i)}function ix(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var d=[],p=c.length,g=0;g<p;g++)d.push(c[g]);return d}d=[],p=0;for(g in c)d[p++]=c[g];return d}function ox(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var d=[];c=c.length;for(var p=0;p<c;p++)d.push(p);return d}d=[],p=0;for(let g in c)d[p++]=g;return d}}}function JE(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var p=ox(c),g=ix(c),S=g.length,R=0;R<S;R++)d.call(void 0,g[R],p&&p[R],c)}var XE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sx(c,d){if(c){c=c.split("&");for(var p=0;p<c.length;p++){var g=c[p].indexOf("="),S=null;if(0<=g){var R=c[p].substring(0,g);S=c[p].substring(g+1)}else R=c[p];d(R,S?decodeURIComponent(S.replace(/\+/g," ")):"")}}}function Qr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Qr){this.h=c.h,Qc(this,c.j),this.o=c.o,this.g=c.g,Yc(this,c.s),this.l=c.l;var d=c.i,p=new $s;p.i=d.i,d.g&&(p.g=new Map(d.g),p.h=d.h),ZE(this,p),this.m=c.m}else c&&(d=String(c).match(XE))?(this.h=!1,Qc(this,d[1]||"",!0),this.o=Us(d[2]||""),this.g=Us(d[3]||"",!0),Yc(this,d[4]),this.l=Us(d[5]||"",!0),ZE(this,d[6]||"",!0),this.m=Us(d[7]||"")):(this.h=!1,this.i=new $s(null,this.h))}Qr.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Bs(d,eI,!0),":");var p=this.g;return(p||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Bs(d,eI,!0),"@"),c.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&c.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&c.push("/"),c.push(Bs(p,p.charAt(0)=="/"?lx:cx,!0))),(p=this.i.toString())&&c.push("?",p),(p=this.m)&&c.push("#",Bs(p,dx)),c.join("")};function On(c){return new Qr(c)}function Qc(c,d,p){c.j=p?Us(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Yc(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function ZE(c,d,p){d instanceof $s?(c.i=d,hx(c.i,c.h)):(p||(d=Bs(d,ux)),c.i=new $s(d,c.h))}function Se(c,d,p){c.i.set(d,p)}function Jc(c){return Se(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Us(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Bs(c,d,p){return typeof c=="string"?(c=encodeURI(c).replace(d,ax),p&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ax(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var eI=/[#\/\?@]/g,cx=/[#\?:]/g,lx=/[#\?]/g,ux=/[#\?@]/g,dx=/#/g;function $s(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function vr(c){c.g||(c.g=new Map,c.h=0,c.i&&sx(c.i,function(d,p){c.add(decodeURIComponent(d.replace(/\+/g," ")),p)}))}n=$s.prototype,n.add=function(c,d){vr(this),this.i=null,c=ro(this,c);var p=this.g.get(c);return p||this.g.set(c,p=[]),p.push(d),this.h+=1,this};function tI(c,d){vr(c),d=ro(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function nI(c,d){return vr(c),d=ro(c,d),c.g.has(d)}n.forEach=function(c,d){vr(this),this.g.forEach(function(p,g){p.forEach(function(S){c.call(d,S,g,this)},this)},this)},n.na=function(){vr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),p=[];for(let g=0;g<d.length;g++){let S=c[g];for(let R=0;R<S.length;R++)p.push(d[g])}return p},n.V=function(c){vr(this);let d=[];if(typeof c=="string")nI(this,c)&&(d=d.concat(this.g.get(ro(this,c))));else{c=Array.from(this.g.values());for(let p=0;p<c.length;p++)d=d.concat(c[p])}return d},n.set=function(c,d){return vr(this),this.i=null,c=ro(this,c),nI(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function rI(c,d,p){tI(c,d),0<p.length&&(c.i=null,c.g.set(ro(c,d),A(p)),c.h+=p.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var p=0;p<d.length;p++){var g=d[p];let R=encodeURIComponent(String(g)),O=this.V(g);for(g=0;g<O.length;g++){var S=R;O[g]!==""&&(S+="="+encodeURIComponent(String(O[g]))),c.push(S)}}return this.i=c.join("&")};function ro(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function hx(c,d){d&&!c.j&&(vr(c),c.i=null,c.g.forEach(function(p,g){var S=g.toLowerCase();g!=S&&(tI(this,g),rI(this,S,p))},c)),c.j=d}function fx(c,d){let p=new Vs;if(a.Image){let g=new Image;g.onload=y(_r,p,"TestLoadImage: loaded",!0,d,g),g.onerror=y(_r,p,"TestLoadImage: error",!1,d,g),g.onabort=y(_r,p,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(_r,p,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function px(c,d){let p=new Vs,g=new AbortController,S=setTimeout(()=>{g.abort(),_r(p,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(R=>{clearTimeout(S),R.ok?_r(p,"TestPingServer: ok",!0,d):_r(p,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(S),_r(p,"TestPingServer: error",!1,d)})}function _r(c,d,p,g,S){try{S&&(S.onload=null,S.onerror=null,S.onabort=null,S.ontimeout=null),g(p)}catch{}}function gx(){this.g=new JR}function mx(c,d,p){let g=p||"";try{JE(c,function(S,R){let O=S;u(S)&&(O=nf(S)),d.push(g+R+"="+encodeURIComponent(O))})}catch(S){throw d.push(g+"type="+encodeURIComponent("_badmap")),S}}function Hs(c){this.l=c.Ub||null,this.j=c.eb||!1}T(Hs,rf),Hs.prototype.g=function(){return new Xc(this.l,this.j)},Hs.prototype.i=(function(c){return function(){return c}})({});function Xc(c,d){it.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Xc,it),n=Xc.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,zs(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qs(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,zs(this)),this.g&&(this.readyState=3,zs(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;iI(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function iI(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?qs(this):zs(this),this.readyState==3&&iI(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,qs(this))},n.Qa=function(c){this.g&&(this.response=c,qs(this))},n.ga=function(){this.g&&qs(this)};function qs(c){c.readyState=4,c.l=null,c.j=null,c.v=null,zs(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var p=d.next();!p.done;)p=p.value,c.push(p[0]+": "+p[1]),p=d.next();return c.join(`\r
`)};function zs(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Xc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function oI(c){let d="";return K(c,function(p,g){d+=g,d+=":",d+=p,d+=`\r
`}),d}function pf(c,d,p){e:{for(g in p){var g=!1;break e}g=!0}g||(p=oI(p),typeof c=="string"?p!=null&&encodeURIComponent(String(p)):Se(c,d,p))}function Ae(c){it.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Ae,it);var yx=/^https?$/i,vx=["POST","PUT"];n=Ae.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,p,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():af.g(),this.v=this.o?kE(this.o):kE(af),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(R){sI(this,R);return}if(c=p||"",p=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var S in g)p.set(S,g[S]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let R of g.keys())p.set(R,g.get(R));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(p.keys()).find(R=>R.toLowerCase()=="content-type"),S=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(vx,d,void 0))||g||S||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[R,O]of p)this.g.setRequestHeader(R,O);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{lI(this),this.u=!0,this.g.send(c),this.u=!1}catch(R){sI(this,R)}};function sI(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,aI(c),Zc(c)}function aI(c){c.A||(c.A=!0,dt(c,"complete"),dt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,dt(this,"complete"),dt(this,"abort"),Zc(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zc(this,!0)),Ae.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?cI(this):this.bb())},n.bb=function(){cI(this)};function cI(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Ln(c)!=4||c.Z()!=2)){if(c.u&&Ln(c)==4)xE(c.Ea,0,c);else if(dt(c,"readystatechange"),Ln(c)==4){c.h=!1;try{let O=c.Z();e:switch(O){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var p;if(!(p=d)){var g;if(g=O===0){var S=String(c.D).match(XE)[1]||null;!S&&a.self&&a.self.location&&(S=a.self.location.protocol.slice(0,-1)),g=!yx.test(S?S.toLowerCase():"")}p=g}if(p)dt(c,"complete"),dt(c,"success");else{c.m=6;try{var R=2<Ln(c)?c.g.statusText:""}catch{R=""}c.l=R+" ["+c.Z()+"]",aI(c)}}finally{Zc(c)}}}}function Zc(c,d){if(c.g){lI(c);let p=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||dt(c,"ready");try{p.onreadystatechange=g}catch{}}}function lI(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Ln(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Ln(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),YR(d)}};function uI(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function _x(c){let d={};c=(c.g&&2<=Ln(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(k(c[g]))continue;var p=b(c[g]);let S=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();let R=d[S]||[];d[S]=R,R.push(p)}I(d,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gs(c,d,p){return p&&p.internalChannelParams&&p.internalChannelParams[c]||d}function dI(c){this.Aa=0,this.i=[],this.j=new Vs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gs("baseRetryDelayMs",5e3,c),this.cb=Gs("retryDelaySeedMs",1e4,c),this.Wa=Gs("forwardChannelMaxRetries",2,c),this.wa=Gs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new GE(c&&c.concurrentRequestLimit),this.Da=new gx,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=dI.prototype,n.la=8,n.G=1,n.connect=function(c,d,p,g){ht(0),this.W=c,this.H=d||{},p&&g!==void 0&&(this.H.OSID=p,this.H.OAID=g),this.F=this.X,this.I=EI(this,null,this.W),tl(this)};function gf(c){if(hI(c),c.G==3){var d=c.U++,p=On(c.I);if(Se(p,"SID",c.K),Se(p,"RID",d),Se(p,"TYPE","terminate"),Ws(c,p),d=new yr(c,c.j,d),d.L=2,d.v=Jc(On(p)),p=!1,a.navigator&&a.navigator.sendBeacon)try{p=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!p&&a.Image&&(new Image().src=d.v,p=!0),p||(d.g=II(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Kc(d)}_I(c)}function el(c){c.g&&(yf(c),c.g.cancel(),c.g=null)}function hI(c){el(c),c.u&&(a.clearTimeout(c.u),c.u=null),nl(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function tl(c){if(!WE(c.h)&&!c.s){c.s=!0;var d=c.Ga;xs||bE(),Ns||(xs(),Ns=!0),Wh.add(d,c),c.B=0}}function Ex(c,d){return KE(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Fs(m(c.Ga,c,d),vI(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let S=new yr(this,this.j,c),R=this.o;if(this.S&&(R?(R=v(R),w(R,this.S)):R=this.S),this.m!==null||this.O||(S.H=R,R=null),this.P)e:{for(var d=0,p=0;p<this.i.length;p++){t:{var g=this.i[p];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=p;break e}if(d===4096||p===this.i.length-1){d=p+1;break e}}d=1e3}else d=1e3;d=pI(this,S,d),p=On(this.I),Se(p,"RID",c),Se(p,"CVER",22),this.D&&Se(p,"X-HTTP-Session-Id",this.D),Ws(this,p),R&&(this.O?d="headers="+encodeURIComponent(String(oI(R)))+"&"+d:this.m&&pf(p,this.m,R)),ff(this.h,S),this.Ua&&Se(p,"TYPE","init"),this.P?(Se(p,"$req",d),Se(p,"SID","null"),S.T=!0,lf(S,p,null)):lf(S,p,d),this.G=2}}else this.G==3&&(c?fI(this,c):this.i.length==0||WE(this.h)||fI(this))};function fI(c,d){var p;d?p=d.l:p=c.U++;let g=On(c.I);Se(g,"SID",c.K),Se(g,"RID",p),Se(g,"AID",c.T),Ws(c,g),c.m&&c.o&&pf(g,c.m,c.o),p=new yr(c,c.j,p,c.B+1),c.m===null&&(p.H=c.o),d&&(c.i=d.D.concat(c.i)),d=pI(c,p,1e3),p.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ff(c.h,p),lf(p,g,d)}function Ws(c,d){c.H&&K(c.H,function(p,g){Se(d,g,p)}),c.l&&JE({},function(p,g){Se(d,g,p)})}function pI(c,d,p){p=Math.min(c.i.length,p);var g=c.l?m(c.l.Na,c.l,c):null;e:{var S=c.i;let R=-1;for(;;){let O=["count="+p];R==-1?0<p?(R=S[0].g,O.push("ofs="+R)):R=0:O.push("ofs="+R);let be=!0;for(let Ye=0;Ye<p;Ye++){let fe=S[Ye].g,ot=S[Ye].map;if(fe-=R,0>fe)R=Math.max(0,S[Ye].g-100),be=!1;else try{mx(ot,O,"req"+fe+"_")}catch{g&&g(ot)}}if(be){g=O.join("&");break e}}}return c=c.i.splice(0,p),d.D=c,g}function gI(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;xs||bE(),Ns||(xs(),Ns=!0),Wh.add(d,c),c.v=0}}function mf(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Fs(m(c.Fa,c),vI(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,mI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Fs(m(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ht(10),el(this),mI(this))};function yf(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function mI(c){c.g=new yr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=On(c.qa);Se(d,"RID","rpc"),Se(d,"SID",c.K),Se(d,"AID",c.T),Se(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Se(d,"TO",c.ja),Se(d,"TYPE","xmlhttp"),Ws(c,d),c.m&&c.o&&pf(d,c.m,c.o),c.L&&(c.g.I=c.L);var p=c.g;c=c.ia,p.L=1,p.v=Jc(On(d)),p.m=null,p.P=!0,HE(p,c)}n.Za=function(){this.C!=null&&(this.C=null,el(this),mf(this),ht(19))};function nl(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function yI(c,d){var p=null;if(c.g==d){nl(c),yf(c),c.g=null;var g=2}else if(hf(c.h,d))p=d.D,QE(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){p=d.m?d.m.length:0,d=Date.now()-d.F;var S=c.B;g=zc(),dt(g,new jE(g,p)),tl(c)}else gI(c);else if(S=d.s,S==3||S==0&&0<d.X||!(g==1&&Ex(c,d)||g==2&&mf(c)))switch(p&&0<p.length&&(d=c.h,d.i=d.i.concat(p)),S){case 1:Yr(c,5);break;case 4:Yr(c,10);break;case 3:Yr(c,6);break;default:Yr(c,2)}}}function vI(c,d){let p=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(p*=2),p*d}function Yr(c,d){if(c.j.info("Error code "+d),d==2){var p=m(c.fb,c),g=c.Xa;let S=!g;g=new Qr(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Qc(g,"https"),Jc(g),S?fx(g.toString(),p):px(g.toString(),p)}else ht(2);c.G=0,c.l&&c.l.sa(d),_I(c),hI(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function _I(c){if(c.G=0,c.ka=[],c.l){let d=YE(c.h);(d.length!=0||c.i.length!=0)&&(D(c.ka,d),D(c.ka,c.i),c.h.i.length=0,A(c.i),c.i.length=0),c.l.ra()}}function EI(c,d,p){var g=p instanceof Qr?On(p):new Qr(p);if(g.g!="")d&&(g.g=d+"."+g.g),Yc(g,g.s);else{var S=a.location;g=S.protocol,d=d?d+"."+S.hostname:S.hostname,S=+S.port;var R=new Qr(null);g&&Qc(R,g),d&&(R.g=d),S&&Yc(R,S),p&&(R.l=p),g=R}return p=c.D,d=c.ya,p&&d&&Se(g,p,d),Se(g,"VER",c.la),Ws(c,g),g}function II(c,d,p){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Ae(new Hs({eb:p})):new Ae(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function wI(){}n=wI.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function rl(){}rl.prototype.g=function(c,d){return new St(c,d)};function St(c,d){it.call(this),this.g=new dI(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!k(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!k(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new io(this)}T(St,it),St.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},St.prototype.close=function(){gf(this.g)},St.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var p={};p.__data__=c,c=p}else this.u&&(p={},p.__data__=nf(c),c=p);d.i.push(new rx(d.Ya++,c)),d.G==3&&tl(d)},St.prototype.N=function(){this.g.l=null,delete this.j,gf(this.g),delete this.g,St.aa.N.call(this)};function TI(c){of.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let p in d){c=p;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}T(TI,of);function bI(){sf.call(this),this.status=1}T(bI,sf);function io(c){this.g=c}T(io,wI),io.prototype.ua=function(){dt(this.g,"a")},io.prototype.ta=function(c){dt(this.g,new TI(c))},io.prototype.sa=function(c){dt(this.g,new bI)},io.prototype.ra=function(){dt(this.g,"b")},rl.prototype.createWebChannel=rl.prototype.g,St.prototype.send=St.prototype.o,St.prototype.open=St.prototype.m,St.prototype.close=St.prototype.close,cv=ar.createWebChannelTransport=function(){return new rl},av=ar.getStatEventTarget=function(){return zc()},sv=ar.Event=Wr,zd=ar.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Gc.NO_ERROR=0,Gc.TIMEOUT=8,Gc.HTTP_ERROR=6,Ec=ar.ErrorCode=Gc,UE.COMPLETE="complete",ov=ar.EventType=UE,OE.EventType=Os,Os.OPEN="a",Os.CLOSE="b",Os.ERROR="c",Os.MESSAGE="d",it.prototype.listen=it.prototype.K,rs=ar.WebChannel=OE,pj=ar.FetchXmlHttpFactory=Hs,Ae.prototype.listenOnce=Ae.prototype.L,Ae.prototype.getLastError=Ae.prototype.Ka,Ae.prototype.getLastErrorCode=Ae.prototype.Ba,Ae.prototype.getStatus=Ae.prototype.Z,Ae.prototype.getResponseJson=Ae.prototype.Oa,Ae.prototype.getResponseText=Ae.prototype.oa,Ae.prototype.send=Ae.prototype.ea,Ae.prototype.setWithCredentials=Ae.prototype.Ha,iv=ar.XhrIo=Ae}).apply(typeof qd<"u"?qd:typeof self<"u"?self:typeof window<"u"?window:{});var YC="@firebase/firestore",JC="4.8.0";var Ke=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");var Ss="11.10.0";var Gi=new Dn("@firebase/firestore");function is(){return Gi.logLevel}function U(n,...e){if(Gi.logLevel<=ce.DEBUG){let t=e.map(X_);Gi.debug(`Firestore (${Ss}): ${n}`,...t)}}function lr(n,...e){if(Gi.logLevel<=ce.ERROR){let t=e.map(X_);Gi.error(`Firestore (${Ss}): ${n}`,...t)}}function Br(n,...e){if(Gi.logLevel<=ce.WARN){let t=e.map(X_);Gi.warn(`Firestore (${Ss}): ${n}`,...t)}}function X_(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function Y(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,qD(n,r,t)}function qD(n,e,t){let r=`FIRESTORE (${Ss}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw lr(r),new Error(r)}function Ee(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||qD(e,i,r)}function X(n,e){return n}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},V=class extends Ht{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var cr=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Xd=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},fv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ke.UNAUTHENTICATED))}shutdown(){}},pv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},gv=class{constructor(e){this.t=e,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ee(this.o===void 0,42304);let r=this.i,i=l=>this.i!==r?(r=this.i,t(l)):Promise.resolve(),o=new cr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new cr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?a(l):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new cr)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ee(typeof r.accessToken=="string",31837,{l:r}),new Xd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ee(e===null||typeof e=="string",2055,{h:e}),new Ke(e)}},mv=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},yv=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new mv(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Ke.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Zd=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},vv=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,or(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ee(this.o===void 0,3512);let r=o=>{o.error!=null&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,U("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Zd(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ee(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Zd(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function gj(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function zD(){return new TextEncoder}var Cc=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=gj(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function se(n,e){return n<e?-1:n>e?1:0}function _v(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return se(r,i);{let o=zD(),s=mj(o.encode(XC(n,t)),o.encode(XC(e,t)));return s!==0?s:se(r,i)}}t+=r>65535?2:1}return se(n.length,e.length)}function XC(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function mj(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return se(n[t],e[t]);return se(n.length,e.length)}function fs(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var ZC="__name__",eh=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&Y(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Y(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return se(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):_v(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return sr.fromString(e.substring(4,e.length-2))}},De=class n extends eh{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new V(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},yj=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ot=class n extends eh{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return yj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ZC}static keyField(){return new n([ZC])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new V(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new V(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new V(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new V(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var W=class n{constructor(e){this.path=e}static fromPath(e){return new n(De.fromString(e))}static fromName(e){return new n(De.fromString(e).popFirst(5))}static empty(){return new n(De.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&De.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return De.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new De(e.slice()))}};function GD(n,e,t){if(!t)throw new V(N.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function vj(n,e,t,r){if(e===!0&&r===!0)throw new V(N.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function eD(n){if(!W.isDocumentKey(n))throw new V(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function tD(n){if(W.isDocumentKey(n))throw new V(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function WD(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Nh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Y(12329,{type:typeof n})}function ls(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new V(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Nh(n);throw new V(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function _j(n,e){if(e<=0)throw new V(N.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}function $e(n,e){let t={typeString:n};return e&&(t.value=e),t}function Vc(n,e){if(!WD(n))throw new V(N.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new V(N.INVALID_ARGUMENT,t);return!0}var nD=-62135596800,rD=1e6,He=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*rD);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new V(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new V(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<nD)throw new V(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new V(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/rD}_compareTo(e){return this.seconds===e.seconds?se(this.nanoseconds,e.nanoseconds):se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Vc(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-nD;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};He._jsonSchemaVersion="firestore/timestamp/1.0",He._jsonSchema={type:$e("string",He._jsonSchemaVersion),seconds:$e("number"),nanoseconds:$e("number")};var ne=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new He(0,0))}static max(){return new n(new He(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Dc=-1,Ev=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};Ev.UNKNOWN_ID=-1;function Ej(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ne.fromTimestamp(r===1e9?new He(t+1,0):new He(t,r));return new Wi(i,W.empty(),e)}function Ij(n){return new Wi(n.readTime,n.key,Dc)}var Wi=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(ne.min(),W.empty(),Dc)}static max(){return new n(ne.max(),W.empty(),Dc)}};function wj(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=W.comparator(n.documentKey,e.documentKey),t!==0?t:se(n.largestBatchId,e.largestBatchId))}var Tj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Iv=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};async function Cs(n){if(n.code!==N.FAILED_PRECONDITION||n.message!==Tj)throw n;U("LocalStore","Unexpectedly lost primary lease")}var M=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Y(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},l=>r(l))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let l=0;l<o;l++){let u=l;t(e[u]).next(h=>{s[u]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function bj(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ds(n){return n.name==="IndexedDbTransactionError"}var Z_=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),eE=-1;function Mh(n){return n==null}function Ac(n){return n===0&&1/n==-1/0}function Sj(n){return typeof n=="number"&&Number.isInteger(n)&&!Ac(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var KD="";function Cj(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=iD(e)),e=Dj(n.get(t),e);return iD(e)}function Dj(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case KD:t+="";break;default:t+=o}}return t}function iD(n){return n+KD+""}var Aj="remoteDocuments",QD="owner";var YD="mutationQueues";var JD="mutations";var XD="documentMutations",Rj="remoteDocumentsV14";var ZD="remoteDocumentGlobal";var eA="targets";var tA="targetDocuments";var nA="targetGlobal",rA="collectionParents";var iA="clientMetadata";var oA="bundles";var sA="namedQueries";var xj="indexConfiguration";var Nj="indexState";var Mj="indexEntries";var aA="documentOverlays";var Pj="globals";var kj=[YD,JD,XD,Aj,eA,QD,nA,tA,iA,ZD,rA,oA,sA],PZ=[...kj,aA],Oj=[YD,JD,XD,Rj,eA,QD,nA,tA,iA,ZD,rA,oA,sA,aA],Lj=Oj,Fj=[...Lj,xj,Nj,Mj];var kZ=[...Fj,Pj];function oD(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Zi(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function cA(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var xe=class n{constructor(e,t){this.comparator=e,this.root=t||xn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,xn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cs(this.root,e,this.comparator,!1)}getReverseIterator(){return new cs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cs(this.root,e,this.comparator,!0)}},cs=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},xn=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Y(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Y(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw Y(27949);return e+(this.isRed()?0:1)}};xn.EMPTY=null,xn.RED=!0,xn.BLACK=!1;xn.EMPTY=new class{constructor(){this.size=0}get key(){throw Y(57766)}get value(){throw Y(16141)}get color(){throw Y(16727)}get left(){throw Y(29726)}get right(){throw Y(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new xn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Qe=class n{constructor(e){this.comparator=e,this.data=new xe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new th(this.data.getIterator())}getIteratorFrom(e){return new th(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},th=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Rn=class n{constructor(e){this.fields=e,e.sort(Ot.comparator)}static empty(){return new n([])}unionWith(e){let t=new Qe(Ot.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return fs(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var nh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var ut=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new nh("Invalid base64 string: "+o):o}})(e);return new n(t)}static fromUint8Array(e){let t=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};ut.EMPTY_BYTE_STRING=new ut("");var Vj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ur(n){if(Ee(!!n,39018),typeof n=="string"){let e=0,t=Vj.exec(n);if(Ee(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ce(n.seconds),nanos:Ce(n.nanos)}}function Ce(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function dr(n){return typeof n=="string"?ut.fromBase64String(n):ut.fromUint8Array(n)}var lA="server_timestamp",uA="__type__",dA="__previous_value__",hA="__local_write_time__";function tE(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[uA])===null||t===void 0?void 0:t.stringValue)===lA}function Ph(n){let e=n.mapValue.fields[dA];return tE(e)?Ph(e):e}function Rc(n){let e=ur(n.mapValue.fields[hA].timestampValue);return new He(e.seconds,e.nanos)}var wv=class{constructor(e,t,r,i,o,s,a,l,u,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=h}},rh="(default)",ih=class n{constructor(e,t){this.projectId=e,this.database=t||rh}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===rh}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var nE="__type__",fA="__max__",Gd={mapValue:{fields:{__type__:{stringValue:fA}}}},rE="__vector__",ps="value";function $r(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?tE(n)?4:gA(n)?9007199254740991:pA(n)?10:11:Y(28295,{value:n})}function Pn(n,e){if(n===e)return!0;let t=$r(n);if(t!==$r(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Rc(n).isEqual(Rc(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=ur(i.timestampValue),a=ur(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,o){return dr(i.bytesValue).isEqual(dr(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,o){return Ce(i.geoPointValue.latitude)===Ce(o.geoPointValue.latitude)&&Ce(i.geoPointValue.longitude)===Ce(o.geoPointValue.longitude)})(n,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Ce(i.integerValue)===Ce(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ce(i.doubleValue),a=Ce(o.doubleValue);return s===a?Ac(s)===Ac(a):isNaN(s)&&isNaN(a)}return!1})(n,e);case 9:return fs(n.arrayValue.values||[],e.arrayValue.values||[],Pn);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(oD(s)!==oD(a))return!1;for(let l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Pn(s[l],a[l])))return!1;return!0})(n,e);default:return Y(52216,{left:n})}}function xc(n,e){return(n.values||[]).find(t=>Pn(t,e))!==void 0}function gs(n,e){if(n===e)return 0;let t=$r(n),r=$r(e);if(t!==r)return se(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return se(n.booleanValue,e.booleanValue);case 2:return(function(o,s){let a=Ce(o.integerValue||o.doubleValue),l=Ce(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1})(n,e);case 3:return sD(n.timestampValue,e.timestampValue);case 4:return sD(Rc(n),Rc(e));case 5:return _v(n.stringValue,e.stringValue);case 6:return(function(o,s){let a=dr(o),l=dr(s);return a.compareTo(l)})(n.bytesValue,e.bytesValue);case 7:return(function(o,s){let a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){let h=se(a[u],l[u]);if(h!==0)return h}return se(a.length,l.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,s){let a=se(Ce(o.latitude),Ce(s.latitude));return a!==0?a:se(Ce(o.longitude),Ce(s.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return aD(n.arrayValue,e.arrayValue);case 10:return(function(o,s){var a,l,u,h;let f=o.fields||{},m=s.fields||{},y=(a=f[ps])===null||a===void 0?void 0:a.arrayValue,T=(l=m[ps])===null||l===void 0?void 0:l.arrayValue,A=se(((u=y?.values)===null||u===void 0?void 0:u.length)||0,((h=T?.values)===null||h===void 0?void 0:h.length)||0);return A!==0?A:aD(y,T)})(n.mapValue,e.mapValue);case 11:return(function(o,s){if(o===Gd.mapValue&&s===Gd.mapValue)return 0;if(o===Gd.mapValue)return 1;if(s===Gd.mapValue)return-1;let a=o.fields||{},l=Object.keys(a),u=s.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){let m=_v(l[f],h[f]);if(m!==0)return m;let y=gs(a[l[f]],u[h[f]]);if(y!==0)return y}return se(l.length,h.length)})(n.mapValue,e.mapValue);default:throw Y(23264,{le:t})}}function sD(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return se(n,e);let t=ur(n),r=ur(e),i=se(t.seconds,r.seconds);return i!==0?i:se(t.nanos,r.nanos)}function aD(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=gs(t[i],r[i]);if(o)return o}return se(t.length,r.length)}function ms(n){return Tv(n)}function Tv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){let r=ur(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return dr(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return W.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=Tv(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Tv(t.fields[s])}`;return i+"}"})(n.mapValue):Y(61005,{value:n})}function Qd(n){switch($r(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Ph(n);return e?16+Qd(e):16;case 5:return 2*n.stringValue.length;case 6:return dr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+Qd(o),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return Zi(r.fields,(o,s)=>{i+=o.length+Qd(s)}),i})(n.mapValue);default:throw Y(13486,{value:n})}}function cD(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function bv(n){return!!n&&"integerValue"in n}function iE(n){return!!n&&"arrayValue"in n}function lD(n){return!!n&&"nullValue"in n}function uD(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Yd(n){return!!n&&"mapValue"in n}function pA(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[nE])===null||t===void 0?void 0:t.stringValue)===rE}function wc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Zi(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=wc(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=wc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function gA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===fA}var LZ={mapValue:{fields:{[nE]:{stringValue:rE},[ps]:{arrayValue:{}}}}};var cn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Yd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=wc(t)}setAll(e){let t=Ot.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=wc(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());Yd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Pn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Yd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Zi(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(wc(this.value))}};function mA(n){let e=[];return Zi(n.fields,(t,r)=>{let i=new Ot([t]);if(Yd(r)){let o=mA(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Rn(e)}var ln=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,ne.min(),ne.min(),ne.min(),cn.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,ne.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,ne.min(),ne.min(),cn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ne.min(),ne.min(),cn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ys=class{constructor(e,t){this.position=e,this.inclusive=t}};function dD(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=W.comparator(W.fromName(s.referenceValue),t.key):r=gs(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function hD(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Pn(n.position[t],e.position[t]))return!1;return!0}var Ki=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function jj(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var oh=class{},Be=class n extends oh{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new Cv(e,t,r):t==="array-contains"?new Rv(e,r):t==="in"?new xv(e,r):t==="not-in"?new Nv(e,r):t==="array-contains-any"?new Mv(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new Dv(e,r):new Av(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(gs(t,this.value)):t!==null&&$r(this.value)===$r(t)&&this.matchesComparison(gs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Y(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},un=class n extends oh{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return yA(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function yA(n){return n.op==="and"}function vA(n){return Uj(n)&&yA(n)}function Uj(n){for(let e of n.filters)if(e instanceof un)return!1;return!0}function Sv(n){if(n instanceof Be)return n.field.canonicalString()+n.op.toString()+ms(n.value);if(vA(n))return n.filters.map(e=>Sv(e)).join(",");{let e=n.filters.map(t=>Sv(t)).join(",");return`${n.op}(${e})`}}function _A(n,e){return n instanceof Be?(function(r,i){return i instanceof Be&&r.op===i.op&&r.field.isEqual(i.field)&&Pn(r.value,i.value)})(n,e):n instanceof un?(function(r,i){return i instanceof un&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&_A(s,i.filters[a]),!0):!1})(n,e):void Y(19439)}function EA(n){return n instanceof Be?(function(t){return`${t.field.canonicalString()} ${t.op} ${ms(t.value)}`})(n):n instanceof un?(function(t){return t.op.toString()+" {"+t.getFilters().map(EA).join(" ,")+"}"})(n):"Filter"}var Cv=class extends Be{constructor(e,t,r){super(e,t,r),this.key=W.fromName(r.referenceValue)}matches(e){let t=W.comparator(e.key,this.key);return this.matchesComparison(t)}},Dv=class extends Be{constructor(e,t){super(e,"in",t),this.keys=IA("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},Av=class extends Be{constructor(e,t){super(e,"not-in",t),this.keys=IA("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function IA(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>W.fromName(r.referenceValue))}var Rv=class extends Be{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return iE(t)&&xc(t.arrayValue,this.value)}},xv=class extends Be{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&xc(this.value.arrayValue,t)}},Nv=class extends Be{constructor(e,t){super(e,"not-in",t)}matches(e){if(xc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!xc(this.value.arrayValue,t)}},Mv=class extends Be{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!iE(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>xc(this.value.arrayValue,r))}};var Pv=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function fD(n,e=null,t=[],r=[],i=null,o=null,s=null){return new Pv(n,e,t,r,i,o,s)}function oE(n){let e=X(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Sv(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),Mh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ms(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ms(r)).join(",")),e.Pe=t}return e.Pe}function sE(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!jj(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!_A(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!hD(n.startAt,e.startAt)&&hD(n.endAt,e.endAt)}function kv(n){return W.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Hr=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function Bj(n,e,t,r,i,o,s,a){return new Hr(n,e,t,r,i,o,s,a)}function aE(n){return new Hr(n)}function pD(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function wA(n){return n.collectionGroup!==null}function Tc(n){let e=X(n);if(e.Te===null){e.Te=[];let t=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Qe(Ot.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new Ki(o,r))}),t.has(Ot.keyField().canonicalString())||e.Te.push(new Ki(Ot.keyField(),r))}return e.Te}function Nn(n){let e=X(n);return e.Ie||(e.Ie=$j(e,Tc(n))),e.Ie}function $j(n,e){if(n.limitType==="F")return fD(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Ki(i.field,o)});let t=n.endAt?new ys(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ys(n.startAt.position,n.startAt.inclusive):null;return fD(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Ov(n,e){let t=n.filters.concat([e]);return new Hr(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function sh(n,e,t){return new Hr(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function kh(n,e){return sE(Nn(n),Nn(e))&&n.limitType===e.limitType}function TA(n){return`${oE(Nn(n))}|lt:${n.limitType}`}function os(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>EA(i)).join(", ")}]`),Mh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>ms(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>ms(i)).join(",")),`Target(${r})`})(Nn(n))}; limitType=${n.limitType})`}function Oh(n,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):W.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,i){for(let o of Tc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(s,a,l){let u=dD(s,a,l);return s.inclusive?u<=0:u<0})(r.startAt,Tc(r),i)||r.endAt&&!(function(s,a,l){let u=dD(s,a,l);return s.inclusive?u>=0:u>0})(r.endAt,Tc(r),i))})(n,e)}function Hj(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function bA(n){return(e,t)=>{let r=!1;for(let i of Tc(n)){let o=qj(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function qj(n,e,t){let r=n.field.isKeyField()?W.comparator(e.key,t.key):(function(o,s,a){let l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?gs(l,u):Y(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Y(19790,{direction:n.dir})}}var hr=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Zi(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return cA(this.inner)}size(){return this.innerSize}};var zj=new xe(W.comparator);function fr(){return zj}var SA=new xe(W.comparator);function Ic(...n){let e=SA;for(let t of n)e=e.insert(t.key,t);return e}function CA(n){let e=SA;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Bi(){return bc()}function DA(){return bc()}function bc(){return new hr(n=>n.toString(),(n,e)=>n.isEqual(e))}var Gj=new xe(W.comparator),Wj=new Qe(W.comparator);function ue(...n){let e=Wj;for(let t of n)e=e.add(t);return e}var Kj=new Qe(se);function Qj(){return Kj}function cE(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ac(e)?"-0":e}}function AA(n){return{integerValue:""+n}}function Yj(n,e){return Sj(e)?AA(e):cE(n,e)}var vs=class{constructor(){this._=void 0}};function Jj(n,e,t){return n instanceof _s?(function(i,o){let s={fields:{[uA]:{stringValue:lA},[hA]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&tE(o)&&(o=Ph(o)),o&&(s.fields[dA]=o),{mapValue:s}})(t,e):n instanceof Qi?xA(n,e):n instanceof Yi?NA(n,e):(function(i,o){let s=RA(i,o),a=gD(s)+gD(i.Ee);return bv(s)&&bv(i.Ee)?AA(a):cE(i.serializer,a)})(n,e)}function Xj(n,e,t){return n instanceof Qi?xA(n,e):n instanceof Yi?NA(n,e):t}function RA(n,e){return n instanceof Es?(function(r){return bv(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var _s=class extends vs{},Qi=class extends vs{constructor(e){super(),this.elements=e}};function xA(n,e){let t=MA(e);for(let r of n.elements)t.some(i=>Pn(i,r))||t.push(r);return{arrayValue:{values:t}}}var Yi=class extends vs{constructor(e){super(),this.elements=e}};function NA(n,e){let t=MA(e);for(let r of n.elements)t=t.filter(i=>!Pn(i,r));return{arrayValue:{values:t}}}var Es=class extends vs{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function gD(n){return Ce(n.integerValue||n.doubleValue)}function MA(n){return iE(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function Zj(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof Qi&&i instanceof Qi||r instanceof Yi&&i instanceof Yi?fs(r.elements,i.elements,Pn):r instanceof Es&&i instanceof Es?Pn(r.Ee,i.Ee):r instanceof _s&&i instanceof _s})(n.transform,e.transform)}var Lv=class{constructor(e,t){this.version=e,this.transformResults=t}},qi=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Jd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Is=class{};function PA(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new ah(n.key,qi.none()):new Ji(n.key,n.data,qi.none());{let t=n.data,r=cn.empty(),i=new Qe(Ot.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new pr(n.key,r,new Rn(i.toArray()),qi.none())}}function eU(n,e,t){n instanceof Ji?(function(i,o,s){let a=i.value.clone(),l=yD(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(n,e,t):n instanceof pr?(function(i,o,s){if(!Jd(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=yD(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(kA(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()})(n,e,t):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,t)}function Sc(n,e,t,r){return n instanceof Ji?(function(o,s,a,l){if(!Jd(o.precondition,s))return a;let u=o.value.clone(),h=vD(o.fieldTransforms,l,s);return u.setAll(h),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null})(n,e,t,r):n instanceof pr?(function(o,s,a,l){if(!Jd(o.precondition,s))return a;let u=vD(o.fieldTransforms,l,s),h=s.data;return h.setAll(kA(o)),h.setAll(u),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))})(n,e,t,r):(function(o,s,a){return Jd(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a})(n,e,t)}function tU(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=RA(r.transform,i||null);o!=null&&(t===null&&(t=cn.empty()),t.set(r.field,o))}return t||null}function mD(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&fs(r,i,(o,s)=>Zj(o,s))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Ji=class extends Is{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},pr=class extends Is{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function kA(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function yD(n,e,t){let r=new Map;Ee(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Xj(s,a,t[i]))}return r}function vD(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,Jj(o,s,e))}return r}var ah=class extends Is{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Fv=class extends Is{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Vv=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&eU(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Sc(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Sc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=DA();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let l=PA(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(ne.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ue())}isEqual(e){return this.batchId===e.batchId&&fs(this.mutations,e.mutations,(t,r)=>mD(t,r))&&fs(this.baseMutations,e.baseMutations,(t,r)=>mD(t,r))}},jv=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ee(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=(function(){return Gj})(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var Uv=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Bv=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var je,he;function nU(n){switch(n){case N.OK:return Y(64938);case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0;default:return Y(15467,{code:n})}}function OA(n){if(n===void 0)return lr("GRPC error has no .code"),N.UNKNOWN;switch(n){case je.OK:return N.OK;case je.CANCELLED:return N.CANCELLED;case je.UNKNOWN:return N.UNKNOWN;case je.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case je.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case je.INTERNAL:return N.INTERNAL;case je.UNAVAILABLE:return N.UNAVAILABLE;case je.UNAUTHENTICATED:return N.UNAUTHENTICATED;case je.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case je.NOT_FOUND:return N.NOT_FOUND;case je.ALREADY_EXISTS:return N.ALREADY_EXISTS;case je.PERMISSION_DENIED:return N.PERMISSION_DENIED;case je.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case je.ABORTED:return N.ABORTED;case je.OUT_OF_RANGE:return N.OUT_OF_RANGE;case je.UNIMPLEMENTED:return N.UNIMPLEMENTED;case je.DATA_LOSS:return N.DATA_LOSS;default:return Y(39323,{code:n})}}(he=je||(je={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";var _D=null;var rU=new sr([4294967295,4294967295],0);function ED(n){let e=zD().encode(n),t=new rv;return t.update(e),new Uint8Array(t.digest())}function ID(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new sr([t,r],0),new sr([i,o],0)]}var $v=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new $i(`Invalid padding: ${t}`);if(r<0)throw new $i(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new $i(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new $i(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=sr.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(sr.fromNumber(r)));return i.compare(rU)===1&&(i=new sr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let t=ED(e),[r,i]=ID(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let t=ED(e),[r,i]=ID(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},$i=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var ch=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Nc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(ne.min(),i,new xe(se),fr(),ue())}},Nc=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,ue(),ue(),ue())}};var us=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}},lh=class{constructor(e,t){this.targetId=e,this.De=t}},uh=class{constructor(e,t,r=ut.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},dh=class{constructor(){this.ve=0,this.Ce=wD(),this.Fe=ut.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=ue(),t=ue(),r=ue();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Y(38017,{changeType:o})}}),new Nc(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=wD()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Ee(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},Hv=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=fr(),this.je=Wd(),this.Je=Wd(),this.He=new xe(se)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{let r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:Y(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){let t=e.targetId,r=e.De.count,i=this.st(t);if(i){let o=i.target;if(kv(o))if(r===0){let s=new W(o.path);this.Xe(t,s,ln.newNoDocument(s,ne.min()))}else Ee(r===1,20013,{expectedCount:r});else{let s=this.ot(t);if(s!==r){let a=this._t(e),l=a?this.ut(a,e,s):1;if(l!==0){this.rt(t);let u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,u)}_D?.ct((function(h,f,m,y,T){var A,D,x,k,B,H;let z={localCacheCount:h,existenceFilterCount:f.count,databaseId:m.database,projectId:m.projectId},K=f.unchangedNames;return K&&(z.bloomFilter={applied:T===0,hashCount:(A=K?.hashCount)!==null&&A!==void 0?A:0,bitmapLength:(k=(x=(D=K?.bits)===null||D===void 0?void 0:D.bitmap)===null||x===void 0?void 0:x.length)!==null&&k!==void 0?k:0,padding:(H=(B=K?.bits)===null||B===void 0?void 0:B.padding)!==null&&H!==void 0?H:0,mightContain:I=>{var v;return(v=y?.mightContain(I))!==null&&v!==void 0&&v}}),z})(s,e.De,this.We.lt(),a,l))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=dr(r).toUint8Array()}catch(l){if(l instanceof nh)return Br("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new $v(s,i,o)}catch(l){return Br(l instanceof $i?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.fe===0?null:a}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){let r=this.We.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(t,o,null),i++)}),i}Pt(e){let t=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&kv(a.target)){let l=new W(a.target.path);this.Tt(l).has(s)||this.It(s,l)||this.Xe(s,l,ln.newNoDocument(l,e))}o.Ne&&(t.set(s,o.Le()),o.ke())}});let r=ue();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{let u=this.st(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new ch(e,t,this.He,this.ze,r);return this.ze=fr(),this.je=Wd(),this.Je=Wd(),this.He=new xe(se),i}Ze(e,t){if(!this.nt(e))return;let r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new dh,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Qe(se),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Qe(se),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||U("WatchChangeAggregator","Detected inactive target",e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new dh),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function Wd(){return new xe(W.comparator)}function wD(){return new xe(W.comparator)}var iU={asc:"ASCENDING",desc:"DESCENDING"},oU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sU={and:"AND",or:"OR"},qv=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function zv(n,e){return n.useProto3Json||Mh(e)?e:{value:e}}function hh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function LA(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function aU(n,e){return hh(n,e.toTimestamp())}function Mn(n){return Ee(!!n,49232),ne.fromTimestamp((function(t){let r=ur(t);return new He(r.seconds,r.nanos)})(n))}function lE(n,e){return Gv(n,e).canonicalString()}function Gv(n,e){let t=(function(i){return new De(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function FA(n){let e=De.fromString(n);return Ee($A(e),10190,{key:e.toString()}),e}function Wv(n,e){return lE(n.databaseId,e.path)}function lv(n,e){let t=FA(e);if(t.get(1)!==n.databaseId.projectId)throw new V(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new V(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new W(jA(t))}function VA(n,e){return lE(n.databaseId,e)}function cU(n){let e=FA(n);return e.length===4?De.emptyPath():jA(e)}function Kv(n){return new De(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function jA(n){return Ee(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function TD(n,e,t){return{name:Wv(n,e),fields:t.value.mapValue.fields}}function lU(n,e){let t;if("targetChange"in e){e.targetChange;let r=(function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Y(39313,{state:u})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(u,h){return u.useProto3Json?(Ee(h===void 0||typeof h=="string",58123),ut.fromBase64String(h||"")):(Ee(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),ut.fromUint8Array(h||new Uint8Array))})(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&(function(u){let h=u.code===void 0?N.UNKNOWN:OA(u.code);return new V(h,u.message||"")})(s);t=new uh(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=lv(n,r.document.name),o=Mn(r.document.updateTime),s=r.document.createTime?Mn(r.document.createTime):ne.min(),a=new cn({mapValue:{fields:r.document.fields}}),l=ln.newFoundDocument(i,o,s,a),u=r.targetIds||[],h=r.removedTargetIds||[];t=new us(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=lv(n,r.document),o=r.readTime?Mn(r.readTime):ne.min(),s=ln.newNoDocument(i,o),a=r.removedTargetIds||[];t=new us([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=lv(n,r.document),o=r.removedTargetIds||[];t=new us([],o,i,null)}else{if(!("filter"in e))return Y(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new Bv(i,o),a=r.targetId;t=new lh(a,s)}}return t}function uU(n,e){let t;if(e instanceof Ji)t={update:TD(n,e.key,e.value)};else if(e instanceof ah)t={delete:Wv(n,e.key)};else if(e instanceof pr)t={update:TD(n,e.key,e.data),updateMask:_U(e.fieldMask)};else{if(!(e instanceof Fv))return Y(16599,{Rt:e.type});t={verify:Wv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>(function(o,s){let a=s.transform;if(a instanceof _s)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Qi)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Yi)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Es)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw Y(20930,{transform:s.transform})})(0,r))),e.precondition.isNone||(t.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:aU(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Y(27497)})(n,e.precondition)),t}function dU(n,e){return n&&n.length>0?(Ee(e!==void 0,14353),n.map(t=>(function(i,o){let s=i.updateTime?Mn(i.updateTime):Mn(o);return s.isEqual(ne.min())&&(s=Mn(o)),new Lv(s,i.transformResults||[])})(t,e))):[]}function hU(n,e){return{documents:[VA(n,e.path)]}}function fU(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=VA(n,i);let o=(function(u){if(u.length!==0)return BA(un.create(u,"and"))})(e.filters);o&&(t.structuredQuery.where=o);let s=(function(u){if(u.length!==0)return u.map(h=>(function(m){return{field:ss(m.field),direction:mU(m.dir)}})(h))})(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=zv(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=(function(u){return{before:u.inclusive,values:u.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(u){return{before:!u.inclusive,values:u.position}})(e.endAt)),{Vt:t,parent:i}}function pU(n){let e=cU(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Ee(r===1,65062);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=(function(f){let m=UA(f);return m instanceof un&&vA(m)?m.getFilters():[m]})(t.where));let s=[];t.orderBy&&(s=(function(f){return f.map(m=>(function(T){return new Ki(as(T.field),(function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(T.direction))})(m))})(t.orderBy));let a=null;t.limit&&(a=(function(f){let m;return m=typeof f=="object"?f.value:f,Mh(m)?null:m})(t.limit));let l=null;t.startAt&&(l=(function(f){let m=!!f.before,y=f.values||[];return new ys(y,m)})(t.startAt));let u=null;return t.endAt&&(u=(function(f){let m=!f.before,y=f.values||[];return new ys(y,m)})(t.endAt)),Bj(e,i,s,o,a,"F",l,u)}function gU(n,e){let t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Y(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function UA(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=as(t.unaryFilter.field);return Be.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=as(t.unaryFilter.field);return Be.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=as(t.unaryFilter.field);return Be.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=as(t.unaryFilter.field);return Be.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Y(61313);default:return Y(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Be.create(as(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Y(58110);default:return Y(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return un.create(t.compositeFilter.filters.map(r=>UA(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Y(1026)}})(t.compositeFilter.op))})(n):Y(30097,{filter:n})}function mU(n){return iU[n]}function yU(n){return oU[n]}function vU(n){return sU[n]}function ss(n){return{fieldPath:n.canonicalString()}}function as(n){return Ot.fromServerFormat(n.fieldPath)}function BA(n){return n instanceof Be?(function(t){if(t.op==="=="){if(uD(t.value))return{unaryFilter:{field:ss(t.field),op:"IS_NAN"}};if(lD(t.value))return{unaryFilter:{field:ss(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(uD(t.value))return{unaryFilter:{field:ss(t.field),op:"IS_NOT_NAN"}};if(lD(t.value))return{unaryFilter:{field:ss(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ss(t.field),op:yU(t.op),value:t.value}}})(n):n instanceof un?(function(t){let r=t.getFilters().map(i=>BA(i));return r.length===1?r[0]:{compositeFilter:{op:vU(t.op),filters:r}}})(n):Y(54877,{filter:n})}function _U(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function $A(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Mc=class n{constructor(e,t,r,i,o=ne.min(),s=ne.min(),a=ut.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Qv=class{constructor(e){this.gt=e}};function EU(n){let e=pU({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?sh(e,e.limit,"L"):e}var fh=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(Ce(e.integerValue));else if("doubleValue"in e){let r=Ce(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),Ac(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=ur(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(dr(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?gA(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):pA(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):Y(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let o=e.fields||{};this.Ct(t,53);let s=ps,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(Ce(a)),this.xt(s,t),this.Dt(o[s],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),W.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};fh.Ut=new fh;var Yv=class{constructor(){this.Dn=new Jv}addToCollectionParentIndex(e,t){return this.Dn.add(t),M.resolve()}getCollectionParents(e,t){return M.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return M.resolve()}deleteFieldIndex(e,t){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,t){return M.resolve()}getDocumentsMatchingTarget(e,t){return M.resolve(null)}getIndexType(e,t){return M.resolve(0)}getFieldIndexes(e,t){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,t){return M.resolve(Wi.min())}getMinOffsetFromCollectionGroup(e,t){return M.resolve(Wi.min())}updateCollectionGroup(e,t,r){return M.resolve()}updateIndexEntries(e,t){return M.resolve()}},Jv=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Qe(De.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Qe(De.comparator)).toArray()}};var FZ=new Uint8Array(0);var bD={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},HA=41943040,qt=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};qt.DEFAULT_COLLECTION_PERCENTILE=10,qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qt.DEFAULT=new qt(HA,qt.DEFAULT_COLLECTION_PERCENTILE,qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qt.DISABLED=new qt(-1,0,0);var Pc=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var SD="LruGarbageCollector",IU=1048576;function CD([n,e],[t,r]){let i=se(n,t);return i===0?se(e,r):i}var Xv=class{constructor(e){this.Tr=e,this.buffer=new Qe(CD),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();CD(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},Zv=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){U(SD,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ds(t)?U(SD,"Ignoring IndexedDB error during garbage collection: ",t):await Cs(t)}await this.Rr(3e5)})}},e_=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return M.resolve(Z_.ue);let r=new Xv(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(U("LruGarbageCollector","Garbage collection skipped; disabled"),M.resolve(bD)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(U("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bD):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,o,s,a,l,u,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(U("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,t))).next(f=>(o=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),is()<=ce.DEBUG&&U("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-h}ms`),M.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}};function wU(n,e){return new e_(n,e)}var t_=class{constructor(){this.changes=new hr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?M.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var n_=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var r_=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Sc(r.mutation,i,Rn.empty(),He.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ue()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ue()){let i=Bi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Ic();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=Bi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ue()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=fr(),s=bc(),a=(function(){return bc()})();return t.forEach((l,u)=>{let h=r.get(u.key);i.has(u.key)&&(h===void 0||h.mutation instanceof pr)?o=o.insert(u.key,u):h!==void 0?(s.set(u.key,h.mutation.getFieldMask()),Sc(h.mutation,u,h.mutation.getFieldMask(),He.now())):s.set(u.key,Rn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,h)=>s.set(u,h)),t.forEach((u,h)=>{var f;return a.set(u,new n_(h,(f=s.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,t){let r=bc(),i=new xe((s,a)=>s-a),o=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(l=>{let u=t.get(l);if(u===null)return;let h=r.get(l)||Rn.empty();h=a.applyToLocalView(u,h),r.set(l,h);let f=(i.get(a.batchId)||ue()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let l=a.getNext(),u=l.key,h=l.value,f=DA();h.forEach(m=>{if(!o.has(m)){let y=PA(t.get(m),r.get(m));y!==null&&f.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,f))}return M.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return(function(s){return W.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):wA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):M.resolve(Bi()),a=Dc,l=o;return s.next(u=>M.forEach(u,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(h)?M.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{l=l.insert(h,m)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,ue())).next(h=>({batchId:a,changes:CA(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new W(t)).next(r=>{let i=Ic();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Ic();return this.indexManager.getCollectionParents(e,o).next(a=>M.forEach(a,l=>{let u=(function(f,m){return new Hr(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)})(t,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(h=>{h.forEach((f,m)=>{s=s.insert(f,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((l,u)=>{let h=u.getKey();s.get(h)===null&&(s=s.insert(h,ln.newInvalidDocument(h)))});let a=Ic();return s.forEach((l,u)=>{let h=o.get(l);h!==void 0&&Sc(h.mutation,u,Rn.empty(),He.now()),Oh(t,u)&&(a=a.insert(l,u))}),a})}};var i_=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return M.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:Mn(i.createTime)}})(t)),M.resolve()}getNamedQuery(e,t){return M.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(i){return{name:i.name,query:EU(i.bundledQuery),readTime:Mn(i.readTime)}})(t)),M.resolve()}};var o_=class{constructor(){this.overlays=new xe(W.comparator),this.kr=new Map}getOverlay(e,t){return M.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Bi();return M.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.wt(e,t,o)}),M.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),M.resolve()}getOverlaysForCollection(e,t,r){let i=Bi(),o=t.length+1,s=new W(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let l=a.getNext().value,u=l.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return M.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new xe((u,h)=>u-h),s=this.overlays.getIterator();for(;s.hasNext();){let u=s.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let h=o.get(u.largestBatchId);h===null&&(h=Bi(),o=o.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}let a=Bi(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=i)););return M.resolve(a)}wt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Uv(t,r));let o=this.kr.get(t);o===void 0&&(o=ue(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}};var s_=class{constructor(){this.sessionToken=ut.EMPTY_BYTE_STRING}getSessionToken(e){return M.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,M.resolve()}};var kc=class{constructor(){this.qr=new Qe(Ue.Qr),this.$r=new Qe(Ue.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let r=new Ue(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new Ue(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){let t=new W(new De([])),r=new Ue(t,e),i=new Ue(t,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new W(new De([])),r=new Ue(t,e),i=new Ue(t,e+1),o=ue();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Ue(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Ue=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return W.comparator(e.key,t.key)||se(e.Hr,t.Hr)}static Ur(e,t){return se(e.Hr,t.Hr)||W.comparator(e.key,t.key)}};var a_=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Qe(Ue.Qr)}checkEmpty(e){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Vv(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new Ue(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return M.resolve(s)}lookupMutationBatch(e,t){return M.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),o=i<0?0:i;return M.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?eE:this.er-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Ue(t,0),i=new Ue(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),M.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Qe(se);return t.forEach(i=>{let o=new Ue(i,0),s=new Ue(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),M.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;W.isDocumentKey(o)||(o=o.child(""));let s=new Ue(new W(o),0),a=new Qe(se);return this.Yr.forEachWhile(l=>{let u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Hr)),!0)},s),M.resolve(this.ei(a))}ei(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Ee(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return M.forEach(t.mutations,i=>{let o=new Ue(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){let r=new Ue(t,0),i=this.Yr.firstAfterOrEqual(r);return M.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,M.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var c_=class{constructor(e){this.ni=e,this.docs=(function(){return new xe(W.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return M.resolve(r?r.document.mutableCopy():ln.newInvalidDocument(t))}getEntries(e,t){let r=fr();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():ln.newInvalidDocument(i))}),M.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=fr(),s=t.path,a=new W(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){let{key:u,value:{document:h}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||wj(Ij(h),r)<=0||(i.has(h.key)||Oh(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return M.resolve(o)}getAllFromCollectionGroup(e,t,r,i){Y(9500)}ri(e,t){return M.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new l_(this)}getSize(e){return M.resolve(this.size)}},l_=class extends t_{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),M.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var u_=class{constructor(e){this.persistence=e,this.ii=new hr(t=>oE(t),sE),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.si=0,this.oi=new kc,this.targetCount=0,this._i=Pc.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),M.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new Pc(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,M.resolve()}updateTargetData(e,t){return this.hr(t),M.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),M.waitFor(o).next(()=>i)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,t){let r=this.ii.get(t)||null;return M.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),M.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),M.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),M.resolve()}getMatchingKeysForTargetId(e,t){let r=this.oi.Jr(t);return M.resolve(r)}containsKey(e,t){return M.resolve(this.oi.containsKey(t))}};var ph=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new Z_(0),this.ci=!1,this.ci=!0,this.li=new s_,this.referenceDelegate=e(this),this.hi=new u_(this),this.indexManager=new Yv,this.remoteDocumentCache=(function(i){return new c_(i)})(r=>this.referenceDelegate.Pi(r)),this.serializer=new Qv(t),this.Ti=new i_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new o_,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new a_(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){U("MemoryPersistence","Starting transaction:",e);let i=new d_(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return M.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}},d_=class extends Iv{constructor(e){super(),this.currentSequenceNumber=e}},h_=class n{constructor(e){this.persistence=e,this.Ai=new kc,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw Y(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),M.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),M.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.mi,r=>{let i=W.fromPath(r);return this.fi(e,i).next(o=>{o||t.removeEntry(i,ne.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return M.or([()=>M.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},gh=class n{constructor(e,t){this.persistence=e,this.gi=new hr(r=>Cj(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=wU(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return M.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return M.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?M.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,ne.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),M.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),M.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),M.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),M.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Qd(e.data.value)),t}Sr(e,t,r){return M.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.gi.get(t);return M.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var f_=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=ue(),i=ue();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var p_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var g_=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return Z0()?8:bj(Pt())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ps(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new p_;return this.ws(e,t,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,t,s,a.size)})}).next(()=>o.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(is()<=ce.DEBUG&&U("QueryEngine","SDK will not create cache indexes for query:",os(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),M.resolve()):(is()<=ce.DEBUG&&U("QueryEngine","Query:",os(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(is()<=ce.DEBUG&&U("QueryEngine","The SDK decides to create cache indexes for query:",os(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Nn(t))):M.resolve())}ps(e,t){if(pD(t))return M.resolve(null);let r=Nn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=sh(t,null,"F"),r=Nn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ue(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{let u=this.bs(t,a);return this.Ds(t,u,s,l.readTime)?this.ps(e,sh(t,null,"F")):this.vs(e,u,t,l)}))})))}ys(e,t,r,i){return pD(t)||i.isEqual(ne.min())?M.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(t,o);return this.Ds(t,s,r,i)?M.resolve(null):(is()<=ce.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),os(t)),this.vs(e,s,t,Ej(i,Dc)).next(a=>a))})}bs(e,t){let r=new Qe(bA(e));return t.forEach((i,o)=>{Oh(e,o)&&(r=r.add(o))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,t,r){return is()<=ce.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",os(t)),this.gs.getDocumentsMatchingQuery(e,t,Wi.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var uE="LocalStore",TU=3e8,m_=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new xe(se),this.Ms=new hr(o=>oE(o),sE),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new r_(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function bU(n,e,t,r){return new m_(n,e,t,r)}async function qA(n,e){let t=X(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],l=ue();for(let u of i){s.push(u.batchId);for(let h of u.mutations)l=l.add(h.key)}for(let u of o){a.push(u.batchId);for(let h of u.mutations)l=l.add(h.key)}return t.localDocuments.getDocuments(r,l).next(u=>({Bs:u,removedBatchIds:s,addedBatchIds:a}))})})}function SU(n,e){let t=X(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Os.newChangeBuffer({trackRemovals:!0});return(function(a,l,u,h){let f=u.batch,m=f.keys(),y=M.resolve();return m.forEach(T=>{y=y.next(()=>h.getEntry(l,T)).next(A=>{let D=u.docVersions.get(T);Ee(D!==null,48541),A.version.compareTo(D)<0&&(f.applyToRemoteDocument(A,u),A.isValidDocument()&&(A.setReadTime(u.commitVersion),h.addEntry(A)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(l,f))})(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let l=ue();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l})(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function zA(n){let e=X(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function CU(n,e){let t=X(n),r=e.snapshotVersion,i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;let a=[];e.targetChanges.forEach((h,f)=>{let m=i.get(f);if(!m)return;a.push(t.hi.removeMatchingKeys(o,h.removedDocuments,f).next(()=>t.hi.addMatchingKeys(o,h.addedDocuments,f)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?y=y.withResumeToken(ut.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(f,y),(function(A,D,x){return A.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=TU?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0})(m,y,h)&&a.push(t.hi.updateTargetData(o,y))});let l=fr(),u=ue();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(DU(o,s,e.documentUpdates).next(h=>{l=h.Ls,u=h.ks})),!r.isEqual(ne.min())){let h=t.hi.getLastRemoteSnapshotVersion(o).next(f=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return M.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(t.Fs=i,o))}function DU(n,e,t){let r=ue(),i=ue();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=fr();return t.forEach((a,l)=>{let u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ne.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):U(uE,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ls:s,ks:i}})}function AU(n,e){let t=X(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=eE),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function RU(n,e){let t=X(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(o=>o?(i=o,M.resolve(i)):t.hi.allocateTargetId(r).next(s=>(i=new Mc(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}async function y_(n,e,t){let r=X(n),i=r.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Ds(s))throw s;U(uE,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function DD(n,e,t){let r=X(n),i=ne.min(),o=ue();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(l,u,h){let f=X(l),m=f.Ms.get(h);return m!==void 0?M.resolve(f.Fs.get(m)):f.hi.getTargetData(u,h)})(r,s,Nn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,t?i:ne.min(),t?o:ue())).next(a=>(xU(r,Hj(e),a),{documents:a,qs:o})))}function xU(n,e,t){let r=n.xs.get(e)||ne.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.xs.set(e,r)}var mh=class{constructor(){this.activeTargetIds=Qj()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var v_=class{constructor(){this.Fo=new mh,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new mh,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var __=class{xo(e){}shutdown(){}};var AD="ConnectivityMonitor",yh=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){U(AD,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){U(AD,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Kd=null;function E_(){return Kd===null?Kd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Kd++,"0x"+Kd.toString(16)}var uv="RestConnection",NU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},I_=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===rh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){let s=E_(),a=this.Go(e,t.toUriEncodedString());U(uv,`Sending RPC '${e}' ${s}:`,a,r);let l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(l,i,o);let{host:u}=new URL(a),h=Ni(u);return this.jo(e,a,l,r,h).then(f=>(U(uv,`Received RPC '${e}' ${s}: `,f),f),f=>{throw Br(uv,`RPC '${e}' ${s} failed with error: `,f,"url: ",a,"request:",r),f})}Jo(e,t,r,i,o,s){return this.Wo(e,t,r,i,o)}zo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ss})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,t){let r=NU[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}};var w_=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var lt="WebChannelConnection",T_=class extends I_{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,o){let s=E_();return new Promise((a,l)=>{let u=new iv;u.setWithCredentials(!0),u.listenOnce(ov.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ec.NO_ERROR:let f=u.getResponseJson();U(lt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),a(f);break;case Ec.TIMEOUT:U(lt,`RPC '${e}' ${s} timed out`),l(new V(N.DEADLINE_EXCEEDED,"Request time out"));break;case Ec.HTTP_ERROR:let m=u.getStatus();if(U(lt,`RPC '${e}' ${s} failed with status:`,m,"response text:",u.getResponseText()),m>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);let T=y?.error;if(T&&T.status&&T.message){let A=(function(x){let k=x.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(k)>=0?k:N.UNKNOWN})(T.status);l(new V(A,T.message))}else l(new V(N.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new V(N.UNAVAILABLE,"Connection failed."));break;default:Y(9055,{c_:e,streamId:s,l_:u.getLastErrorCode(),h_:u.getLastError()})}}finally{U(lt,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);U(lt,`RPC '${e}' ${s} sending request:`,i),u.send(t,"POST",h,r,15)})}P_(e,t,r){let i=E_(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=cv(),a=av(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.zo(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;let h=o.join("");U(lt,`Creating RPC '${e}' stream ${i}: ${h}`,l);let f=s.createWebChannel(h,l);this.T_(f);let m=!1,y=!1,T=new w_({Ho:D=>{y?U(lt,`Not sending because RPC '${e}' stream ${i} is closed:`,D):(m||(U(lt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),m=!0),U(lt,`RPC '${e}' stream ${i} sending:`,D),f.send(D))},Yo:()=>f.close()}),A=(D,x,k)=>{D.listen(x,B=>{try{k(B)}catch(H){setTimeout(()=>{throw H},0)}})};return A(f,rs.EventType.OPEN,()=>{y||(U(lt,`RPC '${e}' stream ${i} transport opened.`),T.s_())}),A(f,rs.EventType.CLOSE,()=>{y||(y=!0,U(lt,`RPC '${e}' stream ${i} transport closed`),T.__(),this.I_(f))}),A(f,rs.EventType.ERROR,D=>{y||(y=!0,Br(lt,`RPC '${e}' stream ${i} transport errored. Name:`,D.name,"Message:",D.message),T.__(new V(N.UNAVAILABLE,"The operation could not be completed")))}),A(f,rs.EventType.MESSAGE,D=>{var x;if(!y){let k=D.data[0];Ee(!!k,16349);let B=k,H=B?.error||((x=B[0])===null||x===void 0?void 0:x.error);if(H){U(lt,`RPC '${e}' stream ${i} received error:`,H);let z=H.status,K=(function(_){let w=je[_];if(w!==void 0)return OA(w)})(z),I=H.message;K===void 0&&(K=N.INTERNAL,I="Unknown error status: "+z+" with message "+H.message),y=!0,T.__(new V(K,I)),f.close()}else U(lt,`RPC '${e}' stream ${i} received:`,k),T.a_(k)}}),A(a,sv.STAT_EVENT,D=>{D.stat===zd.PROXY?U(lt,`RPC '${e}' stream ${i} detected buffering proxy`):D.stat===zd.NOPROXY&&U(lt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.o_()},0),T}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function dv(){return typeof document<"u"?document:null}function Lh(n){return new qv(n,!0)}var vh=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&U("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var RD="PersistentStream",_h=class{constructor(e,t,r,i,o,s,a,l){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new vh(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===N.RESOURCE_EXHAUSTED?(lr(t.toString()),lr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{let i=new V(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){let r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return U(RD,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(U(RD,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},b_=class extends _h{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=lU(this.serializer,e),r=(function(o){if(!("targetChange"in o))return ne.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ne.min():s.readTime?Mn(s.readTime):ne.min()})(e);return this.listener.J_(t,r)}H_(e){let t={};t.database=Kv(this.serializer),t.addTarget=(function(o,s){let a,l=s.target;if(a=kv(l)?{documents:hU(o,l)}:{query:fU(o,l).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=LA(o,s.resumeToken);let u=zv(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(ne.min())>0){a.readTime=hh(o,s.snapshotVersion.toTimestamp());let u=zv(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a})(this.serializer,e);let r=gU(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){let t={};t.database=Kv(this.serializer),t.removeTarget=e,this.k_(t)}},S_=class extends _h{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Ee(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ee(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Ee(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let t=dU(e.writeResults,e.commitTime),r=Mn(e.commitTime);return this.listener.ta(r,t)}na(){let e={};e.database=Kv(this.serializer),this.k_(e)}X_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>uU(this.serializer,r))};this.k_(t)}};var C_=class{},D_=class extends C_{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new V(N.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,Gv(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new V(N.UNKNOWN,o.toString())})}Jo(e,t,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,Gv(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new V(N.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},A_=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(lr(t),this._a=!1):U("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var Xi="RemoteStore",R_=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(async()=>{eo(this)&&(U(Xi,"Restarting streams for network reachability change."),await(async function(l){let u=X(l);u.Ia.add(4),await jc(u),u.Aa.set("Unknown"),u.Ia.delete(4),await Fh(u)})(this))})}),this.Aa=new A_(r,i)}};async function Fh(n){if(eo(n))for(let e of n.da)await e(!0)}async function jc(n){for(let e of n.da)await e(!1)}function GA(n,e){let t=X(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),pE(t)?fE(t):As(t).x_()&&hE(t,e))}function dE(n,e){let t=X(n),r=As(t);t.Ta.delete(e),r.x_()&&WA(t,e),t.Ta.size===0&&(r.x_()?r.B_():eo(t)&&t.Aa.set("Unknown"))}function hE(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ne.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}As(n).H_(e)}function WA(n,e){n.Ra.$e(e),As(n).Y_(e)}function fE(n){n.Ra=new Hv({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),As(n).start(),n.Aa.aa()}function pE(n){return eo(n)&&!As(n).M_()&&n.Ta.size>0}function eo(n){return X(n).Ia.size===0}function KA(n){n.Ra=void 0}async function MU(n){n.Aa.set("Online")}async function PU(n){n.Ta.forEach((e,t)=>{hE(n,e)})}async function kU(n,e){KA(n),pE(n)?(n.Aa.la(e),fE(n)):n.Aa.set("Unknown")}async function OU(n,e,t){if(n.Aa.set("Online"),e instanceof uh&&e.state===2&&e.cause)try{await(async function(i,o){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))})(n,e)}catch(r){U(Xi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Eh(n,r)}else if(e instanceof us?n.Ra.Ye(e):e instanceof lh?n.Ra.it(e):n.Ra.et(e),!t.isEqual(ne.min()))try{let r=await zA(n.localStore);t.compareTo(r)>=0&&await(function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){let h=o.Ta.get(u);h&&o.Ta.set(u,h.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{let h=o.Ta.get(l);if(!h)return;o.Ta.set(l,h.withResumeToken(ut.EMPTY_BYTE_STRING,h.snapshotVersion)),WA(o,l);let f=new Mc(h.target,l,u,h.sequenceNumber);hE(o,f)}),o.remoteSyncer.applyRemoteEvent(a)})(n,t)}catch(r){U(Xi,"Failed to raise snapshot:",r),await Eh(n,r)}}async function Eh(n,e,t){if(!Ds(e))throw e;n.Ia.add(1),await jc(n),n.Aa.set("Offline"),t||(t=()=>zA(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{U(Xi,"Retrying IndexedDB access"),await t(),n.Ia.delete(1),await Fh(n)})}function QA(n,e){return e().catch(t=>Eh(n,t,e))}async function Vh(n){let e=X(n),t=qr(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:eE;for(;LU(e);)try{let i=await AU(e.localStore,r);if(i===null){e.Pa.length===0&&t.B_();break}r=i.batchId,FU(e,i)}catch(i){await Eh(e,i)}YA(e)&&JA(e)}function LU(n){return eo(n)&&n.Pa.length<10}function FU(n,e){n.Pa.push(e);let t=qr(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function YA(n){return eo(n)&&!qr(n).M_()&&n.Pa.length>0}function JA(n){qr(n).start()}async function VU(n){qr(n).na()}async function jU(n){let e=qr(n);for(let t of n.Pa)e.X_(t.mutations)}async function UU(n,e,t){let r=n.Pa.shift(),i=jv.from(r,e,t);await QA(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await Vh(n)}async function BU(n,e){e&&qr(n).Z_&&await(async function(r,i){if((function(s){return nU(s)&&s!==N.ABORTED})(i.code)){let o=r.Pa.shift();qr(r).N_(),await QA(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Vh(r)}})(n,e),YA(n)&&JA(n)}async function xD(n,e){let t=X(n);t.asyncQueue.verifyOperationInProgress(),U(Xi,"RemoteStore received new credentials");let r=eo(t);t.Ia.add(3),await jc(t),r&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await Fh(t)}async function $U(n,e){let t=X(n);e?(t.Ia.delete(2),await Fh(t)):e||(t.Ia.add(2),await jc(t),t.Aa.set("Unknown"))}function As(n){return n.Va||(n.Va=(function(t,r,i){let o=X(t);return o.ia(),new b_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:MU.bind(null,n),e_:PU.bind(null,n),n_:kU.bind(null,n),J_:OU.bind(null,n)}),n.da.push(async e=>{e?(n.Va.N_(),pE(n)?fE(n):n.Aa.set("Unknown")):(await n.Va.stop(),KA(n))})),n.Va}function qr(n){return n.ma||(n.ma=(function(t,r,i){let o=X(t);return o.ia(),new S_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:VU.bind(null,n),n_:BU.bind(null,n),ea:jU.bind(null,n),ta:UU.bind(null,n)}),n.da.push(async e=>{e?(n.ma.N_(),await Vh(n)):(await n.ma.stop(),n.Pa.length>0&&(U(Xi,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))})),n.ma}var x_=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new cr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new V(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function gE(n,e){if(lr("AsyncQueue",`${e}: ${n}`),Ds(n))return new V(N.UNAVAILABLE,`${e}: ${n}`);throw n}var Ih=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||W.comparator(t.key,r.key):(t,r)=>W.comparator(t.key,r.key),this.keyedMap=Ic(),this.sortedSet=new xe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var wh=class{constructor(){this.fa=new xe(W.comparator)}track(e){let t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Y(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}},ws=class n{constructor(e,t,r,i,o,s,a,l,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,Ih.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var N_=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},M_=class{constructor(){this.queries=ND(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){let i=X(t),o=i.queries;i.queries=ND(),o.forEach((s,a)=>{for(let l of a.wa)l.onError(r)})})(this,new V(N.ABORTED,"Firestore shutting down"))}};function ND(){return new hr(n=>TA(n),kh)}async function HU(n,e){let t=X(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new N_,r=e.ba()?0:1);try{switch(r){case 0:o.ya=await t.onListen(i,!0);break;case 1:o.ya=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(s){let a=gE(s,`Initialization of query '${os(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&mE(t)}async function qU(n,e){let t=X(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function zU(n,e){let t=X(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&mE(t)}function GU(n,e,t){let r=X(n),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(t);r.queries.delete(e)}function mE(n){n.Da.forEach(e=>{e.next()})}var P_,MD;(MD=P_||(P_={})).Fa="default",MD.Cache="cache";var k_=class{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new ws(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=ws.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==P_.Cache}};var Th=class{constructor(e){this.key=e}},bh=class{constructor(e){this.key=e}},O_=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ue(),this.mutatedKeys=ue(),this.Xa=bA(e),this.eu=new Ih(this.Xa)}get tu(){return this.Ha}nu(e,t){let r=t?t.ru:new wh,i=t?t.eu:this.eu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,f)=>{let m=i.get(h),y=Oh(this.query,f)?f:null,T=!!m&&this.mutatedKeys.has(m.key),A=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),D=!1;m&&y?m.data.isEqual(y.data)?T!==A&&(r.track({type:3,doc:y}),D=!0):this.iu(m,y)||(r.track({type:2,doc:y}),D=!0,(l&&this.Xa(y,l)>0||u&&this.Xa(y,u)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),D=!0):m&&!y&&(r.track({type:1,doc:m}),D=!0,(l||u)&&(a=!0)),D&&(y?(s=s.add(y),o=A?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((h,f)=>(function(y,T){let A=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y(20277,{At:D})}};return A(y)-A(T)})(h.type,f.type)||this.Xa(h.doc,f.doc)),this.su(r),i=i!=null&&i;let a=t&&!i?this.ou():[],l=this.Za.size===0&&this.current&&!i?1:0,u=l!==this.Ya;return this.Ya=l,s.length!==0||u?{snapshot:new ws(this.query,e.eu,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new wh,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=ue(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new bh(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new Th(r))}),t}uu(e){this.Ha=e.qs,this.Za=ue();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return ws.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},yE="SyncEngine",L_=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},F_=class{constructor(e){this.key=e,this.lu=!1}},V_=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new hr(a=>TA(a),kh),this.Tu=new Map,this.Iu=new Set,this.du=new xe(W.comparator),this.Eu=new Map,this.Au=new kc,this.Ru={},this.Vu=new Map,this.mu=Pc.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};async function WU(n,e,t=!0){let r=rR(n),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=await XA(r,e,t,!0),i}async function KU(n,e){let t=rR(n);await XA(t,e,!0,!1)}async function XA(n,e,t,r){let i=await RU(n.localStore,Nn(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=await QU(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&GA(n.remoteStore,i),a}async function QU(n,e,t,r,i){n.gu=(f,m,y)=>(async function(A,D,x,k){let B=D.view.nu(x);B.Ds&&(B=await DD(A.localStore,D.query,!1).then(({documents:I})=>D.view.nu(I,B)));let H=k&&k.targetChanges.get(D.targetId),z=k&&k.targetMismatches.get(D.targetId)!=null,K=D.view.applyChanges(B,A.isPrimaryClient,H,z);return kD(A,D.targetId,K._u),K.snapshot})(n,f,m,y);let o=await DD(n.localStore,e,!0),s=new O_(e,o.qs),a=s.nu(o.documents),l=Nc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),u=s.applyChanges(a,n.isPrimaryClient,l);kD(n,t,u._u);let h=new L_(e,t,s);return n.Pu.set(e,h),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),u.snapshot}async function YU(n,e,t){let r=X(n),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!kh(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await y_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&dE(r.remoteStore,i.targetId),j_(r,i.targetId)}).catch(Cs)):(j_(r,i.targetId),await y_(r.localStore,i.targetId,!0))}async function JU(n,e){let t=X(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),dE(t.remoteStore,r.targetId))}async function XU(n,e,t){let r=oB(n);try{let i=await(function(s,a){let l=X(s),u=He.now(),h=a.reduce((y,T)=>y.add(T.key),ue()),f,m;return l.persistence.runTransaction("Locally write mutations","readwrite",y=>{let T=fr(),A=ue();return l.Os.getEntries(y,h).next(D=>{T=D,T.forEach((x,k)=>{k.isValidDocument()||(A=A.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(y,T)).next(D=>{f=D;let x=[];for(let k of a){let B=tU(k,f.get(k.key).overlayedDocument);B!=null&&x.push(new pr(k.key,B,mA(B.value.mapValue),qi.exists(!0)))}return l.mutationQueue.addMutationBatch(y,u,x,a)}).next(D=>{m=D;let x=D.applyToLocalDocumentSet(f,A);return l.documentOverlayCache.saveOverlays(y,D.batchId,x)})}).then(()=>({batchId:m.batchId,changes:CA(f)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,a,l){let u=s.Ru[s.currentUser.toKey()];u||(u=new xe(se)),u=u.insert(a,l),s.Ru[s.currentUser.toKey()]=u})(r,i.batchId,t),await Uc(r,i.changes),await Vh(r.remoteStore)}catch(i){let o=gE(i,"Failed to persist write");t.reject(o)}}async function ZA(n,e){let t=X(n);try{let r=await CU(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(Ee(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?Ee(s.lu,14607):i.removedDocuments.size>0&&(Ee(s.lu,42227),s.lu=!1))}),await Uc(t,r,e)}catch(r){await Cs(r)}}function PD(n,e,t){let r=X(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(s,a){let l=X(s);l.onlineState=a;let u=!1;l.queries.forEach((h,f)=>{for(let m of f.wa)m.va(a)&&(u=!0)}),u&&mE(l)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function ZU(n,e,t){let r=X(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new xe(W.comparator);s=s.insert(o,ln.newNoDocument(o,ne.min()));let a=ue().add(o),l=new ch(ne.min(),new Map,new xe(se),s,a);await ZA(r,l),r.du=r.du.remove(o),r.Eu.delete(e),vE(r)}else await y_(r.localStore,e,!1).then(()=>j_(r,e,t)).catch(Cs)}async function eB(n,e){let t=X(n),r=e.batch.batchId;try{let i=await SU(t.localStore,e);tR(t,r,null),eR(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Uc(t,i)}catch(i){await Cs(i)}}async function tB(n,e,t){let r=X(n);try{let i=await(function(s,a){let l=X(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(Ee(f!==null,37113),h=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})})(r.localStore,e);tR(r,e,t),eR(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Uc(r,i)}catch(i){await Cs(i)}}function eR(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function tR(n,e,t){let r=X(n),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function j_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||nR(n,r)})}function nR(n,e){n.Iu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(dE(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),vE(n))}function kD(n,e,t){for(let r of t)r instanceof Th?(n.Au.addReference(r.key,e),nB(n,r)):r instanceof bh?(U(yE,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||nR(n,r.key)):Y(19791,{yu:r})}function nB(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(U(yE,"New document in limbo: "+t),n.Iu.add(r),vE(n))}function vE(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Iu.values().next().value;n.Iu.delete(e);let t=new W(De.fromString(e)),r=n.mu.next();n.Eu.set(r,new F_(t)),n.du=n.du.insert(t,r),GA(n.remoteStore,new Mc(Nn(aE(t.path)),r,"TargetPurposeLimboResolution",Z_.ue))}}async function Uc(n,e,t){let r=X(n),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,l)=>{s.push(r.gu(l,e,t).then(u=>{var h;if((u||t)&&r.isPrimaryClient){let f=u?!u.fromCache:(h=t?.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);let f=f_.Es(l.targetId,u);o.push(f)}}))}),await Promise.all(s),r.hu.J_(i),await(async function(l,u){let h=X(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>M.forEach(u,m=>M.forEach(m.Is,y=>h.persistence.referenceDelegate.addReference(f,m.targetId,y)).next(()=>M.forEach(m.ds,y=>h.persistence.referenceDelegate.removeReference(f,m.targetId,y)))))}catch(f){if(!Ds(f))throw f;U(uE,"Failed to update sequence numbers: "+f)}for(let f of u){let m=f.targetId;if(!f.fromCache){let y=h.Fs.get(m),T=y.snapshotVersion,A=y.withLastLimboFreeSnapshotVersion(T);h.Fs=h.Fs.insert(m,A)}}})(r.localStore,o))}async function rB(n,e){let t=X(n);if(!t.currentUser.isEqual(e)){U(yE,"User change. New user:",e.toKey());let r=await qA(t.localStore,e);t.currentUser=e,(function(o,s){o.Vu.forEach(a=>{a.forEach(l=>{l.reject(new V(N.CANCELLED,s))})}),o.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Uc(t,r.Bs)}}function iB(n,e){let t=X(n),r=t.Eu.get(e);if(r&&r.lu)return ue().add(r.key);{let i=ue(),o=t.Tu.get(e);if(!o)return i;for(let s of o){let a=t.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function rR(n){let e=X(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=ZA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=iB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ZU.bind(null,e),e.hu.J_=zU.bind(null,e.eventManager),e.hu.pu=GU.bind(null,e.eventManager),e}function oB(n){let e=X(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tB.bind(null,e),e}var iR=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Lh(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,r){return null}Fu(t,r){return null}vu(t){return bU(this.persistence,new g_,t.initialUser,this.serializer)}Du(t){return new ph(h_.Vi,this.serializer)}bu(t){return new v_}async terminate(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}return n.provider={build:()=>new n},n})(),U_=class extends iR{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Ee(this.persistence.referenceDelegate instanceof gh,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new Zv(r,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?qt.withCacheSize(this.cacheSizeBytes):qt.DEFAULT;return new ph(r=>gh.Vi(r,t),this.serializer)}};var sB=(()=>{class n{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>PD(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=rB.bind(null,this.syncEngine),await $U(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new M_})()}createDatastore(t){let r=Lh(t.databaseInfo.databaseId),i=(function(s){return new T_(s)})(t.databaseInfo);return(function(s,a,l,u){return new D_(s,a,l,u)})(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return(function(i,o,s,a,l){return new R_(i,o,s,a,l)})(this.localStore,this.datastore,t.asyncQueue,r=>PD(this.syncEngine,r,0),(function(){return yh.C()?new yh:new __})())}createSyncEngine(t,r){return(function(o,s,a,l,u,h,f){let m=new V_(o,s,a,l,u,h);return f&&(m.fu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await(async function(o){let s=X(o);U(Xi,"RemoteStore shutting down."),s.Ia.add(5),await jc(s),s.Ea.shutdown(),s.Aa.set("Unknown")})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}return n.provider={build:()=>new n},n})();var B_=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):lr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var zr="FirestoreClient",$_=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ke.UNAUTHENTICATED,this.clientId=Cc.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{U(zr,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(U(zr,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new cr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=gE(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}};async function hv(n,e){n.asyncQueue.verifyOperationInProgress(),U(zr,"Initializing OfflineComponentProvider");let t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await qA(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{Br("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{U("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{Br("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e}async function OD(n,e){n.asyncQueue.verifyOperationInProgress();let t=await aB(n);U(zr,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>xD(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>xD(e.remoteStore,i)),n._onlineComponents=e}async function aB(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){U(zr,"Using user provided OfflineComponentProvider");try{await hv(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===N.FAILED_PRECONDITION||i.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;Br("Error using user provided cache. Falling back to memory cache: "+t),await hv(n,new iR)}}else U(zr,"Using default OfflineComponentProvider"),await hv(n,new U_(void 0));return n._offlineComponents}async function oR(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(U(zr,"Using user provided OnlineComponentProvider"),await OD(n,n._uninitializedComponentsProvider._online)):(U(zr,"Using default OnlineComponentProvider"),await OD(n,new sB))),n._onlineComponents}function cB(n){return oR(n).then(e=>e.syncEngine)}async function LD(n){let e=await oR(n),t=e.eventManager;return t.onListen=WU.bind(null,e.syncEngine),t.onUnlisten=YU.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=KU.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=JU.bind(null,e.syncEngine),t}function sR(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var FD=new Map;var aR="firestore.googleapis.com",VD=!0,Sh=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new V(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=aR,this.ssl=VD}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:VD;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=HA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<IU)throw new V(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new V(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new V(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new V(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ts=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Sh({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new V(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new V(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Sh(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new fv;switch(r.type){case"firstParty":return new yv(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new V(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let r=FD.get(t);r&&(U("ComponentProvider","Removing Datastore"),FD.delete(t),r.terminate())})(this),Promise.resolve()}};function cR(n,e,t,r={}){var i;n=ls(n,Ts);let o=Ni(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),l=`${e}:${t}`;o&&(vy(`https://${l}`),_y("Firestore",!0)),s.host!==aR&&s.host!==l&&Br("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let u=Object.assign(Object.assign({},s),{host:l,ssl:o,emulatorOptions:r});if(!Mi(u,a)&&(n._setSettings(u),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=Ke.MOCK_USER;else{h=K0(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new V(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Ke(m)}n._authCredentials=new pv(new Xd(h,f))}}var Gr=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},nt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Vc(t,n._jsonSchema))return new n(e,r||null,new W(De.fromString(t.referencePath)))}};nt._jsonSchemaVersion="firestore/documentReference/1.0",nt._jsonSchema={type:$e("string",nt._jsonSchemaVersion),referencePath:$e("string")};var Fr=class n extends Gr{constructor(e,t,r){super(e,t,aE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new nt(this.firestore,null,new W(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function lR(n,e,...t){if(n=bt(n),GD("collection","path",e),n instanceof Ts){let r=De.fromString(e,...t);return tD(r),new Fr(n,null,r)}{if(!(n instanceof nt||n instanceof Fr))throw new V(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(De.fromString(e,...t));return tD(r),new Fr(n.firestore,null,r)}}function uR(n,e,...t){if(n=bt(n),arguments.length===1&&(e=Cc.newId()),GD("doc","path",e),n instanceof Ts){let r=De.fromString(e,...t);return eD(r),new nt(n,null,new W(r))}{if(!(n instanceof nt||n instanceof Fr))throw new V(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(De.fromString(e,...t));return eD(r),new nt(n.firestore,n instanceof Fr?n.converter:null,new W(r))}}var jD="AsyncQueue",Ch=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new vh(this,"async_queue_retry"),this.oc=()=>{let r=dv();r&&U(jD,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=dv();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=dv();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new cr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Ds(e))throw e;U(jD,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,lr("INTERNAL UNHANDLED ERROR: ",UD(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=x_.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&Y(47125,{hc:UD(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function UD(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function BD(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(n,["next","error","complete"])}var bs=class extends Ts{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Ch,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Ch(e),this._firestoreClient=void 0,await e}}};function dR(n,e){let t=typeof n=="object"?n:es(),r=typeof n=="string"?n:e||rh,i=Cd(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=G0("firestore");o&&cR(i,...o)}return i}function hR(n){if(n._terminated)throw new V(N.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||lB(n),n._firestoreClient}function lB(n){var e,t,r;let i=n._freezeSettings(),o=(function(a,l,u,h){return new wv(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,sR(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new $_(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&(function(a){let l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(n._componentsProvider))}var Vr=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(ut.fromBase64String(e))}catch(t){throw new V(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Vc(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};Vr._jsonSchemaVersion="firestore/bytes/1.0",Vr._jsonSchema={type:$e("string",Vr._jsonSchemaVersion),bytes:$e("string")};var Oc=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new V(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Dh=class{constructor(e){this._methodName=e}};var jr=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new V(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new V(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return se(this._lat,e._lat)||se(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(Vc(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};jr._jsonSchemaVersion="firestore/geoPoint/1.0",jr._jsonSchema={type:$e("string",jr._jsonSchemaVersion),latitude:$e("number"),longitude:$e("number")};var Ur=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Vc(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new V(N.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Ur._jsonSchemaVersion="firestore/vectorValue/1.0",Ur._jsonSchema={type:$e("string",Ur._jsonSchemaVersion),vectorValues:$e("object")};var uB=/^__.*__$/,H_=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new pr(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ji(e,this.data,t,this.fieldTransforms)}};function fR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y(40011,{Ec:n})}}var q_=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Ah(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(fR(this.Ec)&&uB.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},z_=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Lh(e)}Dc(e,t,r,i=!1){return new q_({Ec:e,methodName:t,bc:r,path:Ot.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function pR(n){let e=n._freezeSettings(),t=Lh(n._databaseId);return new z_(n._databaseId,!!e.ignoreUndefinedProperties,t)}function dB(n,e,t,r,i,o={}){let s=n.Dc(o.merge||o.mergeFields?2:0,e,t,i);yR("Data must be an object, but it was:",s,r);let a=gR(r,s),l,u;if(o.merge)l=new Rn(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let f of o.mergeFields){let m=fB(e,f,t);if(!s.contains(m))throw new V(N.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);gB(h,m)||h.push(m)}l=new Rn(h),u=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=s.fieldTransforms;return new H_(new cn(a),l,u)}function hB(n,e,t,r=!1){return _E(t,n.Dc(r?4:3,e))}function _E(n,e){if(mR(n=bt(n)))return yR("Unsupported field value:",e,n),gR(n,e);if(n instanceof Dh)return(function(r,i){if(!fR(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let a of r){let l=_E(a,i.yc(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}})(n,e)}return(function(r,i){if((r=bt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Yj(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=He.fromDate(r);return{timestampValue:hh(i.serializer,o)}}if(r instanceof He){let o=new He(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:hh(i.serializer,o)}}if(r instanceof jr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Vr)return{bytesValue:LA(i.serializer,r._byteString)};if(r instanceof nt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:lE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ur)return(function(s,a){return{mapValue:{fields:{[nE]:{stringValue:rE},[ps]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.wc("VectorValues must only contain numeric values.");return cE(a.serializer,u)})}}}}}})(r,i);throw i.wc(`Unsupported field value: ${Nh(r)}`)})(n,e)}function gR(n,e){let t={};return cA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zi(n,(r,i)=>{let o=_E(i,e.Vc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function mR(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof He||n instanceof jr||n instanceof Vr||n instanceof nt||n instanceof Dh||n instanceof Ur)}function yR(n,e,t){if(!mR(t)||!WD(t)){let r=Nh(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function fB(n,e,t){if((e=bt(e))instanceof Oc)return e._internalPath;if(typeof e=="string")return vR(n,e);throw Ah("Field path arguments must be of type string or ",n,!1,void 0,t)}var pB=new RegExp("[~\\*/\\[\\]]");function vR(n,e,t){if(e.search(pB)>=0)throw Ah(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Oc(...e.split("."))._internalPath}catch{throw Ah(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ah(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new V(N.INVALID_ARGUMENT,a+n+l)}function gB(n,e){return n.some(t=>t.isEqual(e))}var Rh=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new G_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(EE("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},G_=class extends Rh{data(){return super.data()}};function EE(n,e){return typeof e=="string"?vR(n,e):e instanceof Oc?e._internalPath:e._delegate._internalPath}function mB(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new V(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Lc=class{},Fc=class extends Lc{};function _R(n,e,...t){let r=[];e instanceof Lc&&r.push(e),r=r.concat(t),(function(o){let s=o.filter(l=>l instanceof K_).length,a=o.filter(l=>l instanceof W_).length;if(s>1||s>0&&a>0)throw new V(N.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(let i of r)n=i._apply(n);return n}var W_=class n extends Fc{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return wR(e._query,t),new Gr(e.firestore,e.converter,Ov(e._query,t))}_parse(e){let t=pR(e.firestore);return(function(o,s,a,l,u,h,f){let m;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new V(N.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){HD(f,h);let T=[];for(let A of f)T.push($D(l,o,A));m={arrayValue:{values:T}}}else m=$D(l,o,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||HD(f,h),m=hB(a,s,f,h==="in"||h==="not-in");return Be.create(u,h,m)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};var K_=class n extends Lc{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:un.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:((function(i,o){let s=i,a=o.getFlattenedFilters();for(let l of a)wR(s,l),s=Ov(s,l)})(e._query,t),new Gr(e.firestore,e.converter,Ov(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var Q_=class n extends Fc{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=(function(i,o,s){if(i.startAt!==null)throw new V(N.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new V(N.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ki(o,s)})(e._query,this._field,this._direction);return new Gr(e.firestore,e.converter,(function(i,o){let s=i.explicitOrderBy.concat([o]);return new Hr(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,t))}};function ER(n,e="asc"){let t=e,r=EE("orderBy",n);return Q_._create(r,t)}var Y_=class n extends Fc{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new n(e,t,r)}_apply(e){return new Gr(e.firestore,e.converter,sh(e._query,this._limit,this._limitType))}};function IR(n){return _j("limit",n),Y_._create("limit",n,"F")}function $D(n,e,t){if(typeof(t=bt(t))=="string"){if(t==="")throw new V(N.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wA(e)&&t.indexOf("/")!==-1)throw new V(N.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(De.fromString(t));if(!W.isDocumentKey(r))throw new V(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return cD(n,new W(r))}if(t instanceof nt)return cD(n,t._key);throw new V(N.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nh(t)}.`)}function HD(n,e){if(!Array.isArray(n)||n.length===0)throw new V(N.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function wR(n,e){let t=(function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null})(n.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new V(N.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new V(N.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var J_=class{convertValue(e,t="none"){switch($r(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ce(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(dr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Y(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Zi(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[ps].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ce(s.doubleValue));return new Ur(o)}convertGeoPoint(e){return new jr(Ce(e.latitude),Ce(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Ph(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Rc(e));default:return null}}convertTimestamp(e){let t=ur(e);return new He(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=De.fromString(e);Ee($A(r),9688,{name:e});let i=new ih(r.get(1),r.get(3)),o=new W(r.popFirst(5));return i.isEqual(t)||lr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function yB(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Hi=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},zi=class n extends Rh{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new ds(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(EE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new V(N.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};zi._jsonSchemaVersion="firestore/documentSnapshot/1.0",zi._jsonSchema={type:$e("string",zi._jsonSchemaVersion),bundleSource:$e("string","DocumentSnapshot"),bundleName:$e("string"),bundle:$e("string")};var ds=class extends zi{data(e={}){return super.data(e)}},hs=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Hi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ds(this._firestore,this._userDataWriter,r.key,r,new Hi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new V(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let l=new ds(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Hi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let l=new ds(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Hi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,h=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:vB(a.type),doc:l,oldIndex:u,newIndex:h}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new V(N.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Cc.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function vB(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y(61501,{type:n})}}hs._jsonSchemaVersion="firestore/querySnapshot/1.0",hs._jsonSchema={type:$e("string",hs._jsonSchemaVersion),bundleSource:$e("string","QuerySnapshot"),bundleName:$e("string"),bundle:$e("string")};var xh=class extends J_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vr(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new nt(this.firestore,null,t)}};function TR(n,e,t){n=ls(n,nt);let r=ls(n.firestore,bs),i=yB(n.converter,e,t);return _B(r,[dB(pR(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,qi.none())])}function bR(n,...e){var t,r,i;n=bt(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||BD(e[s])||(o=e[s++]);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(BD(e[s])){let f=e[s];e[s]=(t=f.next)===null||t===void 0?void 0:t.bind(f),e[s+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[s+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,u,h;if(n instanceof nt)u=ls(n.firestore,bs),h=aE(n._key.path),l={next:f=>{e[s]&&e[s](EB(u,n,f))},error:e[s+1],complete:e[s+2]};else{let f=ls(n,Gr);u=ls(f.firestore,bs),h=f._query;let m=new xh(u);l={next:y=>{e[s]&&e[s](new hs(u,m,f,y))},error:e[s+1],complete:e[s+2]},mB(n._query)}return(function(m,y,T,A){let D=new B_(A),x=new k_(y,D,T);return m.asyncQueue.enqueueAndForget(async()=>HU(await LD(m),x)),()=>{D.Ou(),m.asyncQueue.enqueueAndForget(async()=>qU(await LD(m),x))}})(hR(u),h,a,l)}function _B(n,e){return(function(r,i){let o=new cr;return r.asyncQueue.enqueueAndForget(async()=>XU(await cB(r),i,o)),o.promise})(hR(n),e)}function EB(n,e,t){let r=t.docs.get(e._key),i=new xh(n);return new zi(n,i,e._key,r,new Hi(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Ss=i})(Zo),sn(new vt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new bs(new gv(r.getProvider("auth-internal")),new vv(s,r.getProvider("app-check-internal")),(function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new V(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ih(u.options.projectId,h)})(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Oe(YC,JC,e),Oe(YC,JC,"esm2017")})();var to=class{constructor(e){return e}},SR="firestore",IE=class{constructor(){return ns(SR)}};var wE=new G("angularfire2.firestore-instances");function IB(n,e){let t=Rd(SR,n,e);return t&&new to(t)}function wB(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new to(r)}}var TB={provide:IE,deps:[[new wn,wE]]},bB={provide:to,useFactory:IB,deps:[[new wn,wE],Fi]};function CR(n,...e){return Oe("angularfire",Oi.full,"fst"),Ft([bB,TB,{provide:wE,useFactory:wB(n),multi:!0,deps:[Me,Ze,Li,fc,[new wn,Hd],[new wn,Nd],...e]}])}var TE=kt(lR,!0,2);var DR=kt(uR,!0,2);var AR=kt(dR,!0);var RR=kt(IR,!0,2);var xR=kt(bR,!0);var NR=kt(ER,!0,2),MR=kt(_R,!0,2);var PR=kt(TR,!0,2);var kR={production:!1,firebase:{apiKey:"AIzaSyDwr9dcbNUjQDBTde956775JKRg6TxWrnk",authDomain:"jason-io.firebaseapp.com",projectId:"jason-io",storageBucket:"jason-io.firebasestorage.app",messagingSenderId:"836118658636",appId:"1:836118658636:web:11dad0c73156ae8e177ee9",measurementId:"G-P1TBKGV5CW"}};var OR=[];var LR={providers:[Yp(),gm(),hy(OR),_C(()=>EC(kR.firebase)),CR(()=>AR())]};var jh=class{callbacks=new Map;handler=null;register(e,t){this.callbacks.set(e.toLowerCase(),t)}init(){this.handler=e=>{if(e.target.tagName==="INPUT")return;let t=e.key.toLowerCase(),r=this.callbacks.get(t);r&&(e.preventDefault(),r())},document.addEventListener("keydown",this.handler)}destroy(){this.handler&&(document.removeEventListener("keydown",this.handler),this.handler=null),this.callbacks.clear()}};var Uh=class{spotlightEl=null;themeObserver=null;init(){this.spotlightEl=document.createElement("div"),this.spotlightEl.id="cursor-spotlight",this.spotlightEl.style.cssText=`
      position: fixed;
      width: 200px;
      height: 200px;
      border-radius: 50%;
      pointer-events: none;
      z-index: 1;
      filter: blur(30px);
      transform: translate(-50%, -50%);
      opacity: 0;
      transition: opacity 0.3s ease;
    `,this.applyTheme(),document.body.appendChild(this.spotlightEl),document.addEventListener("mousemove",e=>{this.spotlightEl&&(this.spotlightEl.style.left=e.clientX+"px",this.spotlightEl.style.top=e.clientY+"px",this.spotlightEl.style.opacity="1")}),document.addEventListener("mouseleave",()=>{this.spotlightEl&&(this.spotlightEl.style.opacity="0")}),this.themeObserver=new MutationObserver(()=>this.applyTheme()),this.themeObserver.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]})}applyTheme(){if(!this.spotlightEl)return;document.documentElement.getAttribute("data-theme")==="light"?(this.spotlightEl.style.background="radial-gradient(circle, rgba(100,60,200,0.18) 0%, transparent 70%)",this.spotlightEl.style.mixBlendMode="multiply"):(this.spotlightEl.style.background="radial-gradient(circle, rgba(124,92,255,0.2) 0%, transparent 70%)",this.spotlightEl.style.mixBlendMode="screen")}destroy(){this.themeObserver?.disconnect(),this.themeObserver=null,this.spotlightEl?.remove(),this.spotlightEl=null}};var Bh=class{buttons=[];init(){this.buttons=Array.from(document.querySelectorAll(".link-btn, .tech-chip, button:not([type])")),this.buttons.forEach(e=>{e.addEventListener("mousemove",t=>this.onMouseMove(t,e)),e.addEventListener("mouseleave",t=>this.onMouseLeave(t,e))})}onMouseMove(e,t){let r=t.getBoundingClientRect(),i=r.left+r.width/2,o=r.top+r.height/2,s=e.clientX,a=e.clientY,l=50,u=s-i,h=a-o,f=Math.sqrt(u*u+h*h);if(f<l){let m=(1-f/l)*8,y=u/f*m,T=h/f*m;t.style.transform=`translate(${y}px, ${T}px)`}}onMouseLeave(e,t){t.style.transform=""}destroy(){this.buttons.forEach(e=>{e.style.transform=""}),this.buttons=[]}};var kn={javascript:`<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
    <defs>
      <style>.js-text { font-size: 60px; font-weight: bold; fill: currentColor; }</style>
    </defs>
    <rect width="100" height="100" fill="transparent"/>
    <text x="50" y="70" text-anchor="middle" class="js-text">JS</text>
    <path d="M 20 20 Q 50 10 80 20" stroke="currentColor" stroke-width="2" fill="none" opacity="0.3" class="animate-draw"/>
  </svg>`,angular:`<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
    <defs>
      <style>.ng-path { fill: none; stroke: currentColor; stroke-width: 2.5; stroke-linecap: round; }</style>
    </defs>
    <polygon points="50,15 85,75 50,65 15,75" class="ng-path" fill="currentColor" opacity="0.7"/>
    <polygon points="50,65 50,35 30,75 70,75" class="ng-path" fill="none"/>
  </svg>`,python:`<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
    <defs>
      <style>.py-circle { fill: currentColor; opacity: 0.8; }</style>
    </defs>
    <circle cx="35" cy="35" r="18" class="py-circle"/>
    <circle cx="65" cy="65" r="18" class="py-circle"/>
    <path d="M 50 50 Q 60 60 70 50" stroke="currentColor" stroke-width="2" fill="none" opacity="0.5"/>
  </svg>`,sql:`<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
    <defs>
      <style>.sql-col { fill: currentColor; opacity: 0.7; }</style>
    </defs>
    <rect x="15" y="25" width="16" height="50" class="sql-col" rx="2"/>
    <rect x="42" y="20" width="16" height="55" class="sql-col" rx="2"/>
    <rect x="69" y="30" width="16" height="45" class="sql-col" rx="2"/>
    <line x1="10" y1="80" x2="90" y2="80" stroke="currentColor" stroke-width="2" opacity="0.5"/>
  </svg>`,postman:`<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
    <defs>
      <style>.pm-envelope { fill: currentColor; opacity: 0.8; }</style>
    </defs>
    <rect x="20" y="30" width="60" height="45" class="pm-envelope" rx="4"/>
    <path d="M 20 30 L 50 55 L 80 30" stroke="currentColor" stroke-width="2" fill="none"/>
  </svg>`,jql:`<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
    <defs>
      <style>.jql-text { font-size: 40px; font-weight: bold; fill: currentColor; }</style>
    </defs>
    <rect width="100" height="100" fill="transparent"/>
    <text x="50" y="65" text-anchor="middle" class="jql-text">JQL</text>
  </svg>`,databricks:`<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
    <defs>
      <style>.db-diamond { fill: currentColor; opacity: 0.8; }</style>
    </defs>
    <polygon points="50,15 85,50 50,85 15,50" class="db-diamond"/>
    <path d="M 50 30 L 70 50 L 50 70 L 30 50 Z" fill="transparent" stroke="currentColor" stroke-width="2" opacity="0.5"/>
  </svg>`,jenkins:`<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
    <defs>
      <style>.jenkins-gear { fill: currentColor; opacity: 0.8; }</style>
    </defs>
    <circle cx="50" cy="50" r="30" class="jenkins-gear"/>
    <circle cx="50" cy="50" r="20" fill="transparent" stroke="currentColor" stroke-width="2" opacity="0.5"/>
    <g opacity="0.6">
      <rect x="48" y="15" width="4" height="8" fill="currentColor"/>
      <rect x="48" y="77" width="4" height="8" fill="currentColor"/>
      <rect x="15" y="48" width="8" height="4" fill="currentColor"/>
      <rect x="77" y="48" width="8" height="4" fill="currentColor"/>
    </g>
  </svg>`,swagger:`<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
    <defs>
      <style>.swagger-path { fill: currentColor; opacity: 0.8; }</style>
    </defs>
    <path d="M 30 30 Q 50 20 70 30 Q 80 35 80 50 Q 80 65 70 70 Q 50 80 30 70 Q 20 65 20 50 Q 20 35 30 30" class="swagger-path"/>
    <circle cx="50" cy="50" r="10" fill="transparent" stroke="currentColor" stroke-width="2" opacity="0.5"/>
  </svg>`},gr={javascript:"https://developer.mozilla.org/en-US/docs/Web/JavaScript",angular:"https://angular.io",python:"https://www.python.org",sql:"https://www.postgresql.org",postman:"https://www.postman.com",jql:"https://www.atlassian.com/software/jira/guides/jql",databricks:"https://www.databricks.com",jenkins:"https://www.jenkins.io",swagger:"https://swagger.io"};function VR(n){let e=n.toLowerCase();return e.includes("javascript")||e==="js"?kn.javascript:e.includes("angular")?kn.angular:e.includes("python")?kn.python:e.includes("sql")?kn.sql:e.includes("postman")?kn.postman:e.includes("jql")?kn.jql:e.includes("databricks")?kn.databricks:e.includes("jenkins")?kn.jenkins:e.includes("swagger")?kn.swagger:kn.javascript}function jR(n){let e=n.toLowerCase();return e.includes("javascript")||e==="js"?gr.javascript:e.includes("angular")?gr.angular:e.includes("python")?gr.python:e.includes("sql")?gr.sql:e.includes("postman")?gr.postman:e.includes("jql")?gr.jql:e.includes("databricks")?gr.databricks:e.includes("jenkins")?gr.jenkins:e.includes("swagger")?gr.swagger:""}var FR={"resume site":`<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
    <rect x="20" y="12" width="60" height="76" rx="6" fill="none" stroke="currentColor" stroke-width="3" opacity="0.8"/>
    <line x1="32" y1="30" x2="68" y2="30" stroke="currentColor" stroke-width="3" stroke-linecap="round" opacity="0.6"/>
    <line x1="32" y1="42" x2="60" y2="42" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" opacity="0.4"/>
    <line x1="32" y1="52" x2="64" y2="52" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" opacity="0.4"/>
    <line x1="32" y1="62" x2="56" y2="62" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" opacity="0.4"/>
    <circle cx="68" cy="72" r="10" fill="currentColor" opacity="0.25"/>
    <path d="M 65 72 L 68 68 L 71 72" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round"/>
  </svg>`,pokedex:`<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
    <circle cx="50" cy="50" r="38" fill="none" stroke="currentColor" stroke-width="3" opacity="0.8"/>
    <line x1="12" y1="50" x2="88" y2="50" stroke="currentColor" stroke-width="3" opacity="0.6"/>
    <circle cx="50" cy="50" r="16" fill="none" stroke="currentColor" stroke-width="3" opacity="0.8"/>
    <circle cx="50" cy="50" r="8" fill="currentColor" opacity="0.7"/>
  </svg>`,"deck of cards":`<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
    <rect x="18" y="16" width="48" height="68" rx="6" fill="currentColor" opacity="0.15" transform="rotate(-8 42 50)"/>
    <rect x="28" y="14" width="48" height="68" rx="6" fill="currentColor" opacity="0.25" transform="rotate(4 52 48)"/>
    <rect x="26" y="16" width="48" height="68" rx="6" fill="none" stroke="currentColor" stroke-width="2.5" opacity="0.8"/>
    <path d="M 50 32 C 58 24 68 32 50 48 C 32 32 42 24 50 32" fill="currentColor" opacity="0.7"/>
  </svg>`,"number guesser":`<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
    <circle cx="50" cy="50" r="36" fill="none" stroke="currentColor" stroke-width="3" opacity="0.3"/>
    <text x="50" y="46" text-anchor="middle" font-size="32" font-weight="bold" fill="currentColor" opacity="0.8">?</text>
    <text x="34" y="78" font-size="16" font-weight="bold" fill="currentColor" opacity="0.4">0</text>
    <text x="58" y="78" font-size="16" font-weight="bold" fill="currentColor" opacity="0.4">9</text>
    <line x1="48" y1="74" x2="52" y2="74" stroke="currentColor" stroke-width="2" opacity="0.3"/>
  </svg>`,"array algorithms":`<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
    <text x="14" y="62" font-size="42" font-weight="bold" fill="currentColor" opacity="0.4">[</text>
    <text x="76" y="62" font-size="42" font-weight="bold" fill="currentColor" opacity="0.4">]</text>
    <rect x="30" y="56" width="8" height="20" rx="2" fill="currentColor" opacity="0.5"/>
    <rect x="42" y="40" width="8" height="36" rx="2" fill="currentColor" opacity="0.6"/>
    <rect x="54" y="48" width="8" height="28" rx="2" fill="currentColor" opacity="0.7"/>
    <rect x="66" y="32" width="8" height="44" rx="2" fill="currentColor" opacity="0.8"/>
    <path d="M 34 28 L 42 20 L 50 28" stroke="currentColor" stroke-width="2" fill="none" opacity="0.5" stroke-linecap="round"/>
    <path d="M 54 28 L 62 20 L 70 28" stroke="currentColor" stroke-width="2" fill="none" opacity="0.5" stroke-linecap="round"/>
  </svg>`,"book tracker":`<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
    <path d="M 50 22 L 50 82" stroke="currentColor" stroke-width="2" opacity="0.4"/>
    <path d="M 50 22 C 50 22 38 18 22 22 L 22 74 C 38 70 50 74 50 74" fill="currentColor" opacity="0.15" stroke="currentColor" stroke-width="2.5" stroke-linejoin="round"/>
    <path d="M 50 22 C 50 22 62 18 78 22 L 78 74 C 62 70 50 74 50 74" fill="currentColor" opacity="0.25" stroke="currentColor" stroke-width="2.5" stroke-linejoin="round"/>
    <line x1="30" y1="36" x2="44" y2="34" stroke="currentColor" stroke-width="2" stroke-linecap="round" opacity="0.4"/>
    <line x1="30" y1="46" x2="44" y2="44" stroke="currentColor" stroke-width="2" stroke-linecap="round" opacity="0.3"/>
    <line x1="30" y1="56" x2="42" y2="54" stroke="currentColor" stroke-width="2" stroke-linecap="round" opacity="0.3"/>
  </svg>`};function UR(n){let e=n.toLowerCase();return FR[e]||FR["resume site"]}var $h=class{canvas=null;ctx=null;animationFrame=null;resizeHandler=null;particles=[];goals=[];mouse={x:-9999,y:-9999};dpr=1;isDark=!0;shakeTimer=0;onScoreCallback=null;pageHeight=0;PARTICLE_COUNT=2e3;GOLDEN_COUNT=3;GOAL_COUNT=6;REPULSE_RADIUS=120;REPULSE_FORCE=.8;DRIFT_SPEED=.15;PARTICLE_MIN_R=.6;PARTICLE_MAX_R=2.8;SHAKE_DURATION=35;CONFETTI_COUNT=60;SPAGHETTI_RADIUS=120;confetti=[];trails=[];spaghettiStreams=[];init(e){this.onScoreCallback=e??null,this.canvas=document.createElement("canvas"),this.canvas.id="particle-field",this.canvas.style.cssText=`
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 0;
    `,document.body.prepend(this.canvas),this.ctx=this.canvas.getContext("2d"),this.ctx&&(this.dpr=window.devicePixelRatio||1,this.resize(),this.spawnParticles(),this.spawnGoals(),this.resizeHandler=()=>this.resize(),window.addEventListener("resize",this.resizeHandler),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseleave",this.onMouseLeave),this.render())}resize(){if(!this.canvas)return;let e=window.innerWidth,t=window.innerHeight;this.canvas.width=e*this.dpr,this.canvas.height=t*this.dpr,this.updatePageHeight()}updatePageHeight(){this.pageHeight=Math.max(document.body.scrollHeight,window.innerHeight)}spawnParticles(){this.particles=[];let e=window.innerWidth,t=this.pageHeight||window.innerHeight;for(let r=0;r<this.PARTICLE_COUNT;r++){let i=Math.random()*Math.PI*2,o=this.DRIFT_SPEED*(.3+Math.random()*.7);this.particles.push({x:Math.random()*e,y:Math.random()*t,vx:Math.cos(i)*o,vy:Math.sin(i)*o,r:this.PARTICLE_MIN_R+Math.random()*(this.PARTICLE_MAX_R-this.PARTICLE_MIN_R),opacity:.1+Math.random()*.3,driftAngle:i,driftRate:(Math.random()-.5)*.008,golden:!1,pushTime:0})}for(let r=0;r<this.GOLDEN_COUNT;r++){let i=this.createGoldenParticle(),o=this.getOccupiedPositions(),s=0;do i.x=Math.random()*e,i.y=Math.random()*t,s++;while(s<40&&o.some(a=>{let l=a.x-i.x,u=a.y-i.y;return Math.sqrt(l*l+u*u)<250}));this.particles.push(i)}}createGoldenParticle(){let e=window.innerWidth,t=this.pageHeight||window.innerHeight,r=Math.random()*Math.PI*2,i=this.DRIFT_SPEED*(.2+Math.random()*.4);return{x:Math.random()*e,y:Math.random()*t,vx:Math.cos(r)*i,vy:Math.sin(r)*i,r:4.5+Math.random()*1.6,opacity:.6+Math.random()*.3,driftAngle:r,driftRate:(Math.random()-.5)*.025,golden:!0,pushTime:0}}getOccupiedPositions(){let e=[];for(let t of this.goals)t.scored||e.push({x:t.x,y:t.y});for(let t of this.particles)t.golden&&e.push({x:t.x,y:t.y});return e}spawnGoals(){this.goals=[];let e=window.innerWidth,t=this.pageHeight||window.innerHeight,r=80;for(let i=0;i<this.GOAL_COUNT;i++)this.goals.push(this.createGoal(e,t,r))}createGoal(e,t,r){let i,o,s=0,a=this.getOccupiedPositions();do i=r+Math.random()*(e-r*2),o=r+Math.random()*(t-r*2),s++;while(s<40&&a.concat(this.goals.filter(l=>!l.scored)).some(l=>{let u=l.x-i,h=l.y-o;return Math.sqrt(u*u+h*h)<250}));return{x:i,y:o,pulsePhase:Math.random()*Math.PI*2,scored:!1,scoreTimer:0,radius:22+Math.random()*22,diskTilt:.18+Math.random()*.32,diskAxis:Math.random()*Math.PI*2,spinSpeed:.2+Math.random()*.25}}onMouseMove=e=>{this.mouse.x=e.clientX,this.mouse.y=e.clientY};onMouseLeave=()=>{this.mouse.x=-9999,this.mouse.y=-9999};render=()=>{if(!this.ctx||!this.canvas)return;let e=window.innerWidth,t=this.pageHeight||window.innerHeight,r=window.scrollY,i=window.innerHeight,o=r-100,s=r+i+100;this.updatePageHeight();let a=this.mouse.x,l=this.mouse.y+r,u=0,h=0;if(this.shakeTimer>0){let f=this.shakeTimer/this.SHAKE_DURATION*14;u=(Math.random()-.5)*f,h=(Math.random()-.5)*f,this.shakeTimer--}this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx.save(),this.ctx.scale(this.dpr,this.dpr),this.ctx.translate(u,h-r),this.isDark=document.documentElement.getAttribute("data-theme")!=="light",this.drawGoals(o,s);for(let f of this.particles){let m=f.x-a,y=f.y-l,T=Math.sqrt(m*m+y*y);if(T<this.REPULSE_RADIUS&&T>0){f.golden&&(f.pushTime=Math.min(f.pushTime+1,120));let H=f.golden?1+f.pushTime*.04:1,z=(1-T/this.REPULSE_RADIUS)*this.REPULSE_FORCE*H;f.vx+=m/T*z,f.vy+=y/T*z}else f.golden&&f.pushTime>0&&(f.pushTime=Math.max(f.pushTime-2,0),f.pushTime===0&&(f.driftAngle=Math.random()*Math.PI*2,f.driftRate=(Math.random()-.5)*.025));f.vx*=.98,f.vy*=.98,f.driftAngle+=f.driftRate,f.golden&&Math.random()<.005&&(f.driftRate=(Math.random()-.5)*.025);let A=this.DRIFT_SPEED*.8;f.vx+=Math.cos(f.driftAngle)*A*.02,f.vy+=Math.sin(f.driftAngle)*A*.02;let D=Math.sqrt(f.vx*f.vx+f.vy*f.vy),x=f.golden?this.DRIFT_SPEED*(3.5+f.pushTime*.08):this.DRIFT_SPEED*2.5;if(D>x&&(f.vx*=x/D,f.vy*=x/D),f.x+=f.vx,f.y+=f.vy,f.x<-20&&(f.x=e+20),f.x>e+20&&(f.x=-20),f.y<-20&&(f.y=t+20),f.y>t+20&&(f.y=-20),f.golden&&f.pushTime>3&&Math.sqrt(f.vx*f.vx+f.vy*f.vy)>.05){let z=Math.atan2(f.vy,f.vx),K=-Math.sin(z),I=Math.cos(z),v=f.r*4,_=f.r*1.3*1.8*1.5*.22,w=Math.min(Math.floor(f.pushTime/15)+1,5);for(let b=-1;b<=1;b++){let C=f.x-Math.cos(z)*v+K*b*_,E=f.y-Math.sin(z)*v+I*b*_;for(let Lt=0;Lt<w;Lt++)this.trails.push({x:C+(Math.random()-.5)*3,y:E+(Math.random()-.5)*3,vx:-Math.cos(z)*(1+Math.random()*2)+(Math.random()-.5)*.6,vy:-Math.sin(z)*(1+Math.random()*2)+(Math.random()-.5)*.6,life:1,decay:.03+Math.random()*.03,size:1.2+Math.random()*2,hot:Math.random()>.35})}}if(f.golden)for(let H of this.goals){if(H.scored)continue;let z=f.x-H.x,K=f.y-H.y;Math.sqrt(z*z+K*K)<H.radius&&this.triggerGoal(f,H,e,t)}let k=null,B=1/0;for(let H of this.goals){if(H.scored)continue;let z=f.x-H.x,K=f.y-H.y,I=Math.sqrt(z*z+K*K);I<this.SPAGHETTI_RADIUS&&I<B&&(B=I,k=H)}if(k&&B<this.SPAGHETTI_RADIUS*.8){let H=1-B/(this.SPAGHETTI_RADIUS*.8);if(Math.random()<H*(f.golden?.6:.15)){let z=Math.atan2(k.y-f.y,k.x-f.x),K=1.5+H*4;this.spaghettiStreams.push({x:f.x,y:f.y,vx:Math.cos(z)*K+(Math.random()-.5)*.5,vy:Math.sin(z)*K+(Math.random()-.5)*.5,life:1,decay:.025+Math.random()*.025,width:f.golden?2+H*3:.5+H*1.5,length:f.golden?8+H*16:3+H*8,color:f.golden?"rgba(255, 200, 80,":this.isDark?"rgba(124, 92, 255,":"rgba(80, 50, 200,",goalX:k.x,goalY:k.y})}}f.y>o&&f.y<s&&this.drawParticle(f,k,B)}this.drawConnections(o,s),this.updateConfetti(),this.updateTrails(),this.updateSpaghettiStreams(),this.updateCursorSpaghetti(a,l),this.ctx.restore(),this.animationFrame=requestAnimationFrame(this.render)};drawParticle(e,t,r){if(!this.ctx)return;let i=1,o=1,s=0;if(t&&r<this.SPAGHETTI_RADIUS){let a=1-r/this.SPAGHETTI_RADIUS,l=a*a;s=Math.atan2(t.y-e.y,t.x-e.x),i=1+l*2.5,o=1-l*.5}if(e.golden){let a=this.ctx,u=Math.sqrt(e.vx*e.vx+e.vy*e.vy)>.01?Math.atan2(e.vy,e.vx):0,h=e.r*3.2,f=e.r*1.3;a.save(),a.translate(e.x,e.y),t&&(a.rotate(s),a.scale(i,o),a.rotate(-s)),a.rotate(u),a.globalAlpha=e.opacity;let m=a.createRadialGradient(0,0,0,0,0,h*2.2);m.addColorStop(0,"rgba(200, 210, 230, 0.08)"),m.addColorStop(1,"rgba(200, 210, 230, 0)"),a.beginPath(),a.arc(0,0,h*2.2,0,Math.PI*2),a.fillStyle=m,a.fill();let y=f*1.8,T=h*1,A=-h*.55,D=-h*.3,x=y*1.5;a.beginPath(),a.moveTo(T,0),a.lineTo(h*.4,-y*.55),a.lineTo(D,-x),a.lineTo(A,-x*.65),a.lineTo(A,x*.65),a.lineTo(D,x),a.lineTo(h*.4,y*.55),a.closePath();let k=a.createLinearGradient(0,-y,0,y);k.addColorStop(0,this.isDark?"#e8e4ee":"#dcd8e4"),k.addColorStop(.3,this.isDark?"#d8d2e2":"#ccc6d6"),k.addColorStop(.7,this.isDark?"#c8c0d4":"#bab2c6"),k.addColorStop(1,this.isDark?"#b0a8c0":"#a29ab4"),a.fillStyle=k,a.fill(),a.strokeStyle=this.isDark?"rgba(80,70,100,0.35)":"rgba(50,40,70,0.35)",a.lineWidth=.6,a.stroke(),a.beginPath(),a.moveTo(T,0),a.lineTo(h*.4,-y*.55),a.lineTo(D,-x),a.lineTo(A,-x*.65),a.lineTo(A,-x*.5),a.lineTo(D,-x*.78),a.lineTo(h*.35,-y*.35),a.lineTo(T*.85,0),a.closePath();let B=a.createLinearGradient(A,0,T,0);B.addColorStop(0,this.isDark?"#3a3248":"#2a2238"),B.addColorStop(1,this.isDark?"#4a4260":"#3a3250"),a.fillStyle=B,a.fill(),a.beginPath(),a.moveTo(T,0),a.lineTo(h*.4,y*.55),a.lineTo(D,x),a.lineTo(A,x*.65),a.lineTo(A,x*.5),a.lineTo(D,x*.78),a.lineTo(h*.35,y*.35),a.lineTo(T*.85,0),a.closePath(),a.fillStyle=B,a.fill(),a.strokeStyle=this.isDark?"rgba(90,80,120,0.18)":"rgba(60,50,90,0.18)",a.lineWidth=.35;for(let I=-2;I<=2;I++){let v=I*y*.18;a.beginPath(),a.moveTo(h*.6,v*.6),a.lineTo(A*.8,v),a.stroke()}for(let I=0;I<4;I++){let v=h*.5-I*h*.25,_=y*(.3+(3-I)*.12);a.beginPath(),a.moveTo(v,-_),a.lineTo(v,_),a.stroke()}a.beginPath(),a.moveTo(T,0),a.quadraticCurveTo(T*.92,-y*.2,T*.78,-y*.3),a.quadraticCurveTo(T*.92,0,T*.78,y*.3),a.quadraticCurveTo(T*.92,y*.2,T,0),a.closePath(),a.fillStyle=this.isDark?"#504868":"#403858",a.fill();let H=this.isDark?"rgba(60,180,220,0.7)":"rgba(40,140,180,0.7)",z=this.isDark?"rgba(30,25,50,0.5)":"rgba(20,15,40,0.5)";a.beginPath(),a.moveTo(h*.55,-y*.08),a.lineTo(h*.42,-y*.18),a.lineTo(h*.28,-y*.15),a.lineTo(h*.28,y*.15),a.lineTo(h*.42,y*.18),a.lineTo(h*.55,y*.08),a.closePath(),a.fillStyle=H,a.fill(),a.strokeStyle=z,a.lineWidth=.5,a.stroke();for(let I=0;I<2;I++){let v=h*(.15-I*.15),_=y*.22;a.beginPath(),a.moveTo(v+h*.05,-_),a.lineTo(v-h*.03,-_*1.1),a.lineTo(v-h*.06,-_*.85),a.lineTo(v-h*.02,-_*.7),a.closePath(),a.fillStyle=H,a.fill(),a.strokeStyle=z,a.lineWidth=.4,a.stroke(),a.beginPath(),a.moveTo(v+h*.05,_),a.lineTo(v-h*.03,_*1.1),a.lineTo(v-h*.06,_*.85),a.lineTo(v-h*.02,_*.7),a.closePath(),a.fillStyle=H,a.fill(),a.strokeStyle=z,a.lineWidth=.4,a.stroke()}a.beginPath(),a.moveTo(A,-x*.5),a.lineTo(A-h*.08,-x*.45),a.lineTo(A-h*.08,x*.45),a.lineTo(A,x*.5),a.closePath(),a.fillStyle=this.isDark?"#4a4260":"#3a3250",a.fill(),a.strokeStyle=this.isDark?"rgba(60,50,80,0.4)":"rgba(40,30,60,0.4)",a.lineWidth=.5,a.stroke();let K=A-h*.06;a.fillStyle=this.isDark?"#2a2238":"#1a1228";for(let I=-1;I<=1;I++)a.beginPath(),a.arc(K,I*x*.22,f*.18,0,Math.PI*2),a.fill(),a.beginPath(),a.arc(K,I*x*.22,f*.1,0,Math.PI*2),a.fillStyle=this.isDark?"rgba(80,70,100,0.4)":"rgba(60,50,80,0.4)",a.fill(),a.fillStyle=this.isDark?"#2a2238":"#1a1228";if(e.pushTime<=3){let I=3+Math.random()*4;for(let v=-1;v<=1;v++)a.beginPath(),a.moveTo(K,v*x*.22-f*.1),a.lineTo(K-I,v*x*.22),a.lineTo(K,v*x*.22+f*.1),a.closePath(),a.fillStyle=`rgba(255, 160, 40, ${.2+Math.random()*.25})`,a.fill()}a.restore()}else{let a=this.isDark?`rgba(124, 92, 255, ${e.opacity})`:`rgba(80, 50, 200, ${e.opacity*1.8})`,l=this.isDark?`rgba(94, 234, 212, ${e.opacity*.4})`:`rgba(20, 160, 140, ${e.opacity*.8})`,u=this.isDark?`rgba(255, 255, 255, ${e.opacity*.6})`:`rgba(60, 30, 180, ${e.opacity*.9})`;t&&(this.ctx.save(),this.ctx.translate(e.x,e.y),this.ctx.rotate(s),this.ctx.scale(i,o),this.ctx.rotate(-s),this.ctx.translate(-e.x,-e.y));let h=this.ctx.createRadialGradient(e.x,e.y,0,e.x,e.y,e.r*3);h.addColorStop(0,a),h.addColorStop(.4,l),h.addColorStop(1,this.isDark?"rgba(124, 92, 255, 0)":"rgba(80, 50, 200, 0)"),this.ctx.beginPath(),this.ctx.arc(e.x,e.y,e.r*3,0,Math.PI*2),this.ctx.fillStyle=h,this.ctx.fill(),this.ctx.beginPath(),this.ctx.arc(e.x,e.y,e.r*.6,0,Math.PI*2),this.ctx.fillStyle=u,this.ctx.fill(),t&&this.ctx.restore()}}drawGoals(e,t){if(this.ctx)for(let r of this.goals){if(r.scored){if(r.scoreTimer--,r.scoreTimer<=0){r.scored=!1;let D=window.innerWidth,x=this.pageHeight||window.innerHeight,k=this.createGoal(D,x,80);r.x=k.x,r.y=k.y,r.radius=k.radius,r.diskTilt=k.diskTilt,r.diskAxis=k.diskAxis,r.spinSpeed=k.spinSpeed}continue}if(r.pulsePhase+=.015,r.y<e||r.y>t)continue;let i=r.radius,o=this.ctx,s=r.x,a=r.y,l=r.pulsePhase,u=this.isDark?1:1.4,h=r.diskTilt,f=l*r.spinSpeed;o.save(),o.translate(s,a),o.rotate(r.diskAxis),o.translate(-s,-a);let m=o.createRadialGradient(s,a,i*.6,s,a,i*3);m.addColorStop(0,`rgba(100, 60, 200, ${.08*u})`),m.addColorStop(.4,`rgba(255, 140, 40, ${.03*u})`),m.addColorStop(1,"rgba(255, 100, 20, 0)"),o.beginPath(),o.arc(s,a,i*3,0,Math.PI*2),o.fillStyle=m,o.fill(),this.drawAccretionDisk(o,s,a,i,l,h,f,u,"back"),o.save(),o.translate(s,a);let y=i*1.05;for(let D=0;D<80;D++){let x=Math.PI+D/80*Math.PI,k=f+x,B=.5+.5*Math.sin(k),H=B*(.12*u),z=D/80,K=Math.floor(200+55*z),I=Math.floor(160+60*(1-z)),v=Math.floor(80*(1-z)+200*Math.max(0,.5-z)),_=Math.cos(x)*y,w=Math.sin(x)*y*.95;o.beginPath(),o.arc(_,w,1.5+B*1.5,0,Math.PI*2),o.fillStyle=`rgba(${K}, ${I}, ${v}, ${H})`,o.fill()}o.restore();for(let D=0;D<2;D++){let x=i*(1+D*.08),k=D===0?1.2:.6;o.beginPath(),o.arc(s,a,x,0,Math.PI*2);let B=(D===0?.15:.08)*u;o.strokeStyle=`rgba(255, 200, 140, ${B})`,o.lineWidth=k,o.stroke()}let T=o.createRadialGradient(s,a,0,s,a,i*1.05);T.addColorStop(0,this.isDark?"rgba(0, 0, 0, 0.95)":"rgba(10, 2, 20, 0.9)"),T.addColorStop(.65,this.isDark?"rgba(0, 0, 0, 0.9)":"rgba(10, 2, 20, 0.85)"),T.addColorStop(.85,this.isDark?"rgba(5, 0, 15, 0.5)":"rgba(15, 5, 30, 0.4)"),T.addColorStop(1,"rgba(20, 5, 40, 0)"),o.beginPath(),o.arc(s,a,i*1.05,0,Math.PI*2),o.fillStyle=T,o.fill(),this.drawAccretionDisk(o,s,a,i,l,h,f,u,"front"),o.save(),o.translate(s,a);for(let D=0;D<80;D++){let x=D/80*Math.PI,k=f+x,B=.5+.5*Math.sin(k),H=B*(.06*u),z=D/80,K=Math.floor(200+55*z),I=Math.floor(140+40*(1-z)),v=Math.floor(60*(1-z)+160*Math.max(0,.5-z)),_=Math.cos(x)*y,w=Math.sin(x)*y*.95;o.beginPath(),o.arc(_,w,1+B,0,Math.PI*2),o.fillStyle=`rgba(${K}, ${I}, ${v}, ${H})`,o.fill()}o.restore();let A=.5+Math.sin(l*6)*.5;o.beginPath(),o.arc(s,a,1,0,Math.PI*2),o.fillStyle=`rgba(255, 255, 255, ${A*.2})`,o.fill(),o.restore()}}drawAccretionDisk(e,t,r,i,o,s,a,l,u){e.save(),e.translate(t,r);for(let m=0;m<12;m++){let y=m/12,T=i*(1.15+y*1.2),A=Math.floor(255),D=Math.floor(255-y*155),x=Math.floor(255-y*225),k=(1-y*.5)*2.5,B=(1-y*.6)*.18*l;for(let H=0;H<120;H++){let z=H/120*Math.PI*2,K=a+z,I=Math.sin(z)*s;if(u==="back"&&I>-.02||u==="front"&&I<.02)continue;let v=.4+.6*(.5+.5*Math.cos(K)),_=1+.15*Math.sin(o*8+z*3+m),w=B*v*_,b=Math.cos(z)*T,C=Math.sin(z)*T*s;e.beginPath(),e.arc(b,C,k*(.6+v*.4),0,Math.PI*2),e.fillStyle=`rgba(${A}, ${D}, ${x}, ${Math.min(w,.5)})`,e.fill()}}e.restore()}drawConnections(e,t){if(this.ctx)for(let r=0;r<this.particles.length;r++){let i=this.particles[r];if(!(i.golden||i.y<e||i.y>t))for(let o=r+1;o<this.particles.length;o++){let s=this.particles[o];if(s.golden||s.y<e||s.y>t)continue;let a=i.x-s.x,l=i.y-s.y,u=Math.sqrt(a*a+l*l);if(u<100){let h=(1-u/100)*(this.isDark?.06:.12);this.ctx.beginPath(),this.ctx.moveTo(i.x,i.y),this.ctx.lineTo(s.x,s.y),this.ctx.strokeStyle=this.isDark?`rgba(124, 92, 255, ${h})`:`rgba(80, 50, 200, ${h})`,this.ctx.lineWidth=.5,this.ctx.stroke()}}}}triggerGoal(e,t,r,i){t.scored=!0,t.scoreTimer=120;let o=this.createGoldenParticle(),s=this.getOccupiedPositions(),a=0;do o.x=Math.random()*r,o.y=Math.random()*i,a++;while(a<40&&s.some(l=>{let u=l.x-o.x,h=l.y-o.y;return Math.sqrt(u*u+h*h)<200}));e.x=o.x,e.y=o.y,e.vx=o.vx,e.vy=o.vy,e.driftAngle=o.driftAngle,this.shakeTimer=this.SHAKE_DURATION,this.spawnConfetti(t.x,t.y),this.onScoreCallback?.()}spawnConfetti(e,t){let r=["#ffd700","#ff6b35","#ff1493","#00e5ff","#76ff03","#fff","#ffab00"];for(let i=0;i<this.CONFETTI_COUNT;i++){let o=Math.random()*Math.PI*2,s=2+Math.random()*6;this.confetti.push({x:e,y:t,vx:Math.cos(o)*s,vy:Math.sin(o)*s-3,r:2+Math.random()*4,rotation:Math.random()*360,rotationSpeed:(Math.random()-.5)*15,color:r[Math.floor(Math.random()*r.length)],life:1,decay:.008+Math.random()*.012,shape:Math.random()>.5?"rect":"circle"})}}updateConfetti(){if(!(!this.ctx||this.confetti.length===0))for(let e=this.confetti.length-1;e>=0;e--){let t=this.confetti[e];if(t.vy+=.12,t.vx*=.98,t.x+=t.vx,t.y+=t.vy,t.rotation+=t.rotationSpeed,t.life-=t.decay,t.life<=0){this.confetti.splice(e,1);continue}this.ctx.save(),this.ctx.translate(t.x,t.y),this.ctx.rotate(t.rotation*Math.PI/180),this.ctx.globalAlpha=t.life,t.shape==="rect"?(this.ctx.fillStyle=t.color,this.ctx.fillRect(-t.r/2,-t.r/4,t.r,t.r/2)):(this.ctx.beginPath(),this.ctx.arc(0,0,t.r/2,0,Math.PI*2),this.ctx.fillStyle=t.color,this.ctx.fill()),this.ctx.restore()}}updateTrails(){if(!(!this.ctx||this.trails.length===0))for(let e=this.trails.length-1;e>=0;e--){let t=this.trails[e];if(t.x+=t.vx,t.y+=t.vy,t.vx*=.94,t.vy*=.94,t.life-=t.decay,t.life<=0){this.trails.splice(e,1);continue}if(this.ctx.beginPath(),this.ctx.arc(t.x,t.y,t.size*t.life,0,Math.PI*2),t.hot){let i=Math.floor(200+t.life*55),o=Math.floor(100*t.life);this.ctx.fillStyle=`rgba(255, ${i}, ${o}, ${t.life*.8})`}else{let i=Math.floor(120*t.life),o=Math.floor(30*t.life);this.ctx.fillStyle=`rgba(255, ${i}, ${o}, ${t.life*.6})`}this.ctx.fill()}}updateSpaghettiStreams(){if(!(!this.ctx||this.spaghettiStreams.length===0)){for(let e=this.spaghettiStreams.length-1;e>=0;e--){let t=this.spaghettiStreams[e],r=t.goalX-t.x,i=t.goalY-t.y,o=Math.sqrt(r*r+i*i);if(o>2&&(t.vx+=r/o*.4,t.vy+=i/o*.4),t.x+=t.vx,t.y+=t.vy,t.life-=t.decay,t.life<=0||o<16){this.spaghettiStreams.splice(e,1);continue}let s=Math.atan2(t.vy,t.vx),a=Math.sqrt(t.vx*t.vx+t.vy*t.vy),l=t.x-Math.cos(s)*t.length*(.5+a*.3),u=t.y-Math.sin(s)*t.length*(.5+a*.3);this.ctx.beginPath(),this.ctx.moveTo(l,u),this.ctx.lineTo(t.x,t.y),this.ctx.strokeStyle=t.color+t.life*.6+")",this.ctx.lineWidth=t.width*t.life,this.ctx.lineCap="round",this.ctx.stroke()}this.spaghettiStreams.length>200&&this.spaghettiStreams.splice(0,this.spaghettiStreams.length-200)}}updateCursorSpaghetti(e,t){let r=document.getElementById("cursor-spotlight");if(!r)return;let i=null,o=1/0;for(let s of this.goals){if(s.scored)continue;let a=e-s.x,l=t-s.y,u=Math.sqrt(a*a+l*l);u<this.SPAGHETTI_RADIUS*1.5&&u<o&&(o=u,i=s)}if(i&&o<this.SPAGHETTI_RADIUS*1.5){let s=window.scrollY,a=1-o/(this.SPAGHETTI_RADIUS*1.5),l=a*a,u=Math.atan2(i.y-t,i.x-e),h=u*180/Math.PI,f=1+l*2,m=1-l*.4,y=Math.cos(u)*l*30,T=Math.sin(u)*l*30,A=this.mouse.x+y,D=this.mouse.y+T;r.style.left=A+"px",r.style.top=D+"px",r.style.transform=`translate(-50%, -50%) rotate(${h}deg) scale(${f}, ${m}) rotate(${-h}deg)`,r.style.transition="none"}else r.style.transform="translate(-50%, -50%)",r.style.transition="opacity 0.3s ease"}destroy(){this.animationFrame!==null&&(cancelAnimationFrame(this.animationFrame),this.animationFrame=null),this.resizeHandler&&window.removeEventListener("resize",this.resizeHandler),document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseleave",this.onMouseLeave),this.canvas?.remove(),this.canvas=null,this.ctx=null}};var Hh=class{constructor(e){this.firestore=e}panel=null;prompt=null;playerName=null;hasPrompted=!1;currentRunScore=0;NAME_KEY="rocketPlayerName";MAX_ENTRIES=20;COLLECTION="leaderboard";cachedEntries=[];unsubscribe=null;snapshotReady=!1;playerBest=0;init(e){this.playerName=localStorage.getItem(this.NAME_KEY);let t=MR(TE(this.firestore,this.COLLECTION),NR("score","desc"),RR(this.MAX_ENTRIES)),r=!1;this.unsubscribe=xR(t,i=>{this.cachedEntries=i.docs.map(s=>s.data()),this.snapshotReady=!0;let o=this.cachedEntries.find(s=>s.name===this.playerName);o&&o.score>this.playerBest&&(this.playerBest=o.score),r||(r=!0,e?.(this.playerBest)),this.panel?.classList.contains("visible")&&this.refreshPanel()})}onScore(e){this.currentRunScore=e,this.playerName&&(this.saveRun(),this.panel?.classList.contains("visible")&&this.refreshPanel()),e===1&&!this.playerName&&!this.hasPrompted&&setTimeout(()=>this.showNamePrompt(),1200)}showNamePrompt(){if(this.prompt||this.hasPrompted)return;this.hasPrompted=!0,this.prompt=document.createElement("div"),this.prompt.className="name-prompt",this.prompt.innerHTML=`
      <div class="name-prompt-inner">
        <span class="name-prompt-emoji">\u{1F680}</span>
        <span class="name-prompt-text">Nice shot! Enter your name for the leaderboard</span>
        <div class="name-prompt-input-wrap">
          <input type="text" class="name-prompt-input" placeholder="Your name" maxlength="20" spellcheck="false" autocomplete="off" />
          <button class="name-prompt-submit">\u2192</button>
        </div>
        <span class="name-prompt-error"></span>
        <button class="name-prompt-dismiss">Maybe later</button>
      </div>
    `,document.body.appendChild(this.prompt),requestAnimationFrame(()=>{requestAnimationFrame(()=>{this.prompt?.classList.add("visible")})});let e=this.prompt.querySelector(".name-prompt-input"),t=this.prompt.querySelector(".name-prompt-submit"),r=this.prompt.querySelector(".name-prompt-dismiss"),i=this.prompt.querySelector(".name-prompt-error");e?.focus();let o=()=>{let s=e?.value.trim();if(!s)return;if(this.cachedEntries.some(l=>l.name===s)){i.textContent="Name already taken \u2014 choose a different one",e.classList.add("name-prompt-input--error"),e.select();return}i.textContent="",e.classList.remove("name-prompt-input--error"),this.playerName=s,this.playerBest=0,localStorage.setItem(this.NAME_KEY,s),this.saveRun(),this.dismissPrompt()};t?.addEventListener("click",o),e?.addEventListener("keydown",s=>{s.key==="Enter"&&o(),s.key==="Escape"&&this.dismissPrompt()}),r?.addEventListener("click",()=>this.dismissPrompt())}dismissPrompt(){this.prompt&&(this.prompt.classList.remove("visible"),setTimeout(()=>{this.prompt?.remove(),this.prompt=null},400))}saveRun(){if(!this.playerName||this.currentRunScore===0||!this.snapshotReady||this.currentRunScore<=this.playerBest)return;let e={name:this.playerName,score:this.currentRunScore,date:new Date().toISOString().split("T")[0]},t=DR(TE(this.firestore,this.COLLECTION),this.playerName);PR(t,e).then(()=>{this.playerBest=this.currentRunScore}).catch(r=>console.error("Leaderboard write failed:",r))}getEntries(){return this.cachedEntries}getPlayerName(){return this.playerName}showPanel(){if(this.panel){this.panel.classList.add("visible"),this.refreshPanel();return}this.panel=document.createElement("div"),this.panel.className="leaderboard-panel",document.body.appendChild(this.panel),this.refreshPanel(),requestAnimationFrame(()=>{requestAnimationFrame(()=>{this.panel?.classList.add("visible")})});let e=t=>{t.target.closest(".lb-close")&&this.closePanel()};this.panel.addEventListener("click",e)}refreshPanel(){if(!this.panel)return;let e=this.getEntries(),t=this.playerName,r="";e.length===0?r='<div class="lb-empty">No runs yet \u2014 herd a rocket into a black hole!</div>':r=e.map((i,o)=>{let s=o===0?"\u{1F947}":o===1?"\u{1F948}":o===2?"\u{1F949}":`<span class="lb-rank">${o+1}</span>`;return`
          <div class="lb-row${i.name===t?" lb-you":""}">
            <span class="lb-medal">${s}</span>
            <span class="lb-name">${this.escapeHtml(i.name)}</span>
            <span class="lb-score">${i.score}</span>
          </div>`}).join(""),this.panel.innerHTML=`
      <div class="lb-header">
        <h3>\u{1F3C6} Leaderboard</h3>
        <div class="lb-header-actions">
          <button class="lb-close" aria-label="Close">\u2715</button>
        </div>
      </div>
      <div class="lb-body">
        ${r}
      </div>
      <div class="lb-footer">
        ${t?`Playing as <strong>${this.escapeHtml(t)}</strong>`:"Score to join the leaderboard"}
      </div>
    `}closePanel(){this.panel&&(this.panel.classList.remove("visible"),setTimeout(()=>{this.panel?.remove(),this.panel=null},300))}escapeHtml(e){let t=document.createElement("div");return t.textContent=e,t.innerHTML}destroy(){this.saveRun(),this.unsubscribe?.(),this.dismissPrompt(),this.panel?.remove(),this.panel=null}};var qh=class n{data={name:"Jason Salas",title:"Software Developer",contact:{email:"jasoncsalas@gmail.com",phone:"+1 (951) 385-6192",location:"Santa Barbara, CA"},links:[{label:"GitHub",url:"https://github.com/upserge"},{label:"LeetCode",url:"https://leetcode.com/upserge"},{label:"LinkedIn",url:"https://linkedin.com/in/jasoncsalas"}],summary:"Results-driven software developer experienced building web applications and backend services. Strong foundation in JavaScript, Angular, Python, and SQL. Comfortable working across the stack and delivering maintainable code.",technologies:["JavaScript","Angular","Python","SQL","Postman","JQL","DataBricks","Jenkins","Swagger"],projects:[{title:"Resume Site",description:"Interactive portfolio built with Angular, featuring animated timeline, keyboard shortcuts, and WebGL effects.",url:"https://github.com/Upserge/Coding-Project-Files/tree/master/source/repos/cs-projects/ResumeSite"},{title:"PokeDex",description:"Pok\xE9mon encyclopedia app with search, filtering, and detailed stat breakdowns.",url:"https://github.com/Upserge/Coding-Project-Files/tree/master/source/repos/PokeDex"},{title:"Deck of Cards",description:"Card game engine with shuffle, draw, and hand management mechanics.",url:"https://github.com/Upserge/Coding-Project-Files/tree/master/source/repos/deckOfCards"},{title:"Number Guesser",description:"Number guessing game with difficulty levels and score tracking.",url:"https://github.com/Upserge/Coding-Project-Files/tree/master/source/repos/NumberGuesser"},{title:"Array Algorithms",description:"Visual implementations of sorting and searching algorithms with step-by-step animations.",url:"https://github.com/Upserge/Coding-Project-Files/tree/master/source/repos/ArrayAlgorithms"},{title:"Book Tracker",description:"Reading list manager for tracking books, progress, and reviews.",url:"https://github.com/Upserge/Coding-Project-Files/tree/master/source/repos/cs-projects/book-tracker"}],experience:[{company:"Riot Games",role:"QA Engineer III | Premier | VALORANT",startDate:"2022",endDate:void 0,description:"QA Engineering Lead for Premier features"},{company:"Riot Games",role:"QA Engineer II | Competitive | VALORANT",startDate:"2020",endDate:"2022",description:"QA Engineering Lead for Competitive features"},{company:"ReSci",role:"Tech Analyst",startDate:"2019",endDate:"2020",description:"Solved technical problems for clients who utilized Retention Science and created internal tools for CSM and Sales Engineers to optimize their workflow."},{company:"Manageware Solutions",role:"Software Analyst",startDate:"2018",endDate:"2019",description:"Specialized in debugging, system reliability, SQL/data analysis, feature implementation, and automation engineering for Medical software."},{company:"Mobelisk",role:"Software/Hardware Analyst",startDate:"2017",endDate:"2018",description:"Engineer specializing in firmware validation, IoT systems testing, QA engineering, PCB/software deployment, and prototype development."},{company:"SpaceX",role:"CS Intern",startDate:"2014",endDate:"2014",description:"CS internship at SpaceX facility in Hawthorne, specifically focused on supply chain system prototyping."}]};isDarkMode=gt(!0);isNavHidden=gt(!1);highlightedSection=gt(null);score=gt(0);lastScrollY=0;revealObserver=null;keyboardShortcuts=null;cursorSpotlight=null;magneticButtons=null;particleField=null;leaderboard=null;firestore=P(to);constructor(){this.initTheme()}initReveal(){typeof IntersectionObserver>"u"||(this.revealObserver=new IntersectionObserver(e=>{for(let t of e){let r=t.target;t.isIntersecting?r.classList.add("visible"):r.classList.remove("visible")}},{threshold:.15,rootMargin:"-60px 0px"}),setTimeout(()=>{document.querySelectorAll(".reveal").forEach(e=>this.revealObserver?.observe(e))},50))}async initLottie(){let e=document.getElementById("lottie-holder");if(e)try{let t=await import("./chunk-P6D7CSR6.js"),r=t.default??t,i={v:"5.7.4",fr:30,ip:0,op:60,w:200,h:200,nm:"pulse",assets:[],layers:[{ty:4,nm:"circle",shapes:[{ty:"el",p:{a:0,k:[100,100]},s:{a:1,k:[{t:0,s:[0,0]},{t:30,s:[120,120]},{t:60,s:[0,0]}]}},{ty:"fl",c:{a:0,k:[1,1,1,.15]}}],ip:0,op:60}]};r.loadAnimation({container:e,renderer:"svg",loop:!0,autoplay:!0,animationData:i})}catch{}}dispose(){this.revealObserver?.disconnect(),this.revealObserver=null,this.keyboardShortcuts?.destroy(),this.keyboardShortcuts=null,this.cursorSpotlight?.destroy(),this.cursorSpotlight=null,this.magneticButtons?.destroy(),this.magneticButtons=null,this.particleField?.destroy(),this.particleField=null,this.leaderboard?.destroy(),this.leaderboard=null}initKeyboardShortcuts(e){this.keyboardShortcuts=new jh,Object.entries(e).forEach(([t,r])=>{this.keyboardShortcuts?.register(t,r)}),this.keyboardShortcuts?.init()}initCursorSpotlight(){this.cursorSpotlight=new Uh,this.cursorSpotlight.init()}initMagneticButtons(){this.magneticButtons=new Bh,this.magneticButtons.init()}initParticleField(){this.particleField=new $h,this.particleField.init(()=>{this.score.update(e=>e+1),this.leaderboard?.onScore(this.score())})}initLeaderboard(){this.leaderboard=new Hh(this.firestore),this.leaderboard.init(e=>{e>0&&this.score()===0&&this.score.set(e)})}showLeaderboard(){this.leaderboard?.showPanel()}getTechSVG(e){return VR(e)}getTechLink(e){return jR(e)}getProjectSVG(e){return UR(e)}scrollTo(e){let t=document.getElementById(e);t&&(this.highlightedSection.set(e),t.scrollIntoView({behavior:"smooth",block:"start"}),setTimeout(()=>{this.highlightedSection.set(null)},2500))}scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}getResume(){return me($({},this.data),{links:[...this.data.links],technologies:[...this.data.technologies],projects:[...this.data.projects]})}initTheme(){let e=localStorage.getItem("darkMode");e!==null&&this.isDarkMode.set(e==="true"),this.applyTheme()}toggleDarkMode(){let e=!this.isDarkMode();this.isDarkMode.set(e),localStorage.setItem("darkMode",e.toString()),this.applyTheme()}applyTheme(){let e=document.documentElement;this.isDarkMode()?e.setAttribute("data-theme","dark"):e.setAttribute("data-theme","light")}initScrollListener(){let e=!1;window.addEventListener("scroll",()=>{e||(requestAnimationFrame(()=>{let t=window.scrollY,r=t>this.lastScrollY;Math.abs(t-this.lastScrollY)>10&&(this.isNavHidden.set(r&&t>100),this.lastScrollY=t),e=!1}),e=!0)})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})};var Bc=class{static show(e,t=2e3){let r=document.createElement("div");r.className="toast",r.textContent=e,document.body.appendChild(r),setTimeout(()=>{r.style.animation="slideInUp 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) reverse",setTimeout(()=>r.remove(),400)},t)}};var zh=class{widget=null;show(){if(this.widget){this.widget.classList.add("visible");return}this.widget=document.createElement("div"),this.widget.className="keyboard-hints-widget",this.widget.innerHTML=`
      <div class="widget-header">
        <h3>Keyboard Shortcuts</h3>
        <button class="widget-close" aria-label="Close">\u2715</button>
      </div>
      <div class="widget-body">
        <div class="shortcut-group">
          <div class="shortcut-item">
            <kbd>J</kbd>
            <span>Summary</span>
          </div>
          <div class="shortcut-item">
            <kbd>K</kbd>
            <span>Technologies</span>
          </div>
          <div class="shortcut-item">
            <kbd>L</kbd>
            <span>Experience</span>
          </div>
          <div class="shortcut-item">
            <kbd>;</kbd>
            <span>Projects</span>
          </div>
          <div class="shortcut-item">
            <kbd>D</kbd>
            <span>Dark Mode</span>
          </div>
          <div class="shortcut-item">
            <kbd>Esc</kbd>
            <span>Close</span>
          </div>
        </div>
      </div>
    `,document.body.appendChild(this.widget),this.widget.classList.add("visible"),this.setupEventListeners()}setupEventListeners(){if(!this.widget)return;this.widget.querySelector(".widget-close")?.addEventListener("click",()=>this.close()),document.addEventListener("keydown",t=>{t.key==="Escape"&&this.close()})}close(){this.widget&&(this.widget.classList.remove("visible"),setTimeout(()=>{this.widget?.remove(),this.widget=null},300))}destroy(){this.close()}};function SB(n,e){if(n&1){let t=Va();L(0,"span",70),wt("click",function(){Co(t);let i=xt();return Do(i.showLeaderboard())}),j(1),F()}if(n&2){let t=xt();oe(),jo("\u{1F3C6} ",t.score())}}function CB(n,e){if(n&1){let t=Va();L(0,"button",8),wt("click",function(){let i=Co(t).$implicit,o=xt();return Do(o.openLink(i.url))}),j(1),F()}if(n&2){let t=e.$implicit;oe(),Tt(t.label)}}function DB(n,e){if(n&1){let t=Va();L(0,"li")(1,"button",71),wt("click",function(){let i=Co(t).$implicit,o=xt();return Do(o.openTechLink(i))}),tn(2,"span",72),L(3,"span",73),j(4),F()()()}if(n&2){let t=e.$implicit,r=e.$index,i=xt();oe(),Ua("--delay: "+(.2+r*.05)+"s"),Zn("title",Ba("Learn more about ",t)),oe(),Zn("innerHTML",i.getTechSVG(t),ku),oe(2),Tt(t)}}function AB(n,e){n&1&&(L(0,"p",54),j(1,"Add your work experience here."),F())}function RB(n,e){n&1&&tn(0,"span",78)}function xB(n,e){if(n&1&&(L(0,"p",83),j(1),F()),n&2){let t=xt().$implicit;oe(),Tt(t.description)}}function NB(n,e){if(n&1&&(L(0,"div",75)(1,"div",76),tn(2,"span",77),Tn(3,RB,1,0,"span",78),F(),L(4,"div",79)(5,"span",80),j(6),F(),L(7,"strong",81),j(8),F(),L(9,"span",82),j(10),F(),Tn(11,xB,2,1,"p",83),F()()),n&2){let t=e.$implicit,r=e.$index,i=e.$count;Ua("--delay: "+(.2+r*.1)+"s"),Nt("timeline-last",r===i-1),oe(3),bn(r!==i-1?3:-1),oe(3),Gu("",t.startDate," \u2014 ",t.endDate||"Present"),oe(2),Tt(t.role),oe(2),jo("@ ",t.company),oe(),bn(t.description?11:-1)}}function MB(n,e){if(n&1&&(L(0,"div",55),Fo(1,NB,12,10,"div",74,Lo),F()),n&2){let t=xt();oe(),Vo(t.resume().experience)}}function PB(n,e){if(n&1&&(L(0,"div",89),j(1),F()),n&2){let t=xt().$implicit;oe(),Tt(t.description)}}function kB(n,e){if(n&1&&(L(0,"a",90),j(1,"\u2192 View Project"),F()),n&2){let t=xt().$implicit;Zn("href",t.url,Ma)}}function OB(n,e){if(n&1&&(L(0,"li",85)(1,"div",86),tn(2,"div",87),L(3,"div",88)(4,"strong"),j(5),F(),Tn(6,PB,2,1,"div",89),Tn(7,kB,2,1,"a",90),F()()()),n&2){let t=e.$implicit,r=e.$index,i=xt(2);Ua("--delay: "+(.2+r*.08)+"s"),oe(2),Zn("innerHTML",i.getProjectSVG(t.title),ku),oe(3),Tt(t.title),oe(),bn(t.description?6:-1),oe(),bn(t.url?7:-1)}}function LB(n,e){if(n&1&&(L(0,"ul",57),Fo(1,OB,8,6,"li",84,Lo),F()),n&2){let t=xt();oe(),Vo(t.resume().projects)}}var Gh=class n{resumeService=P(qh);sanitizer=P(xm);keyboardHintsModal=null;isDarkMode=er(()=>this.resumeService.isDarkMode());isNavHidden=er(()=>this.resumeService.isNavHidden());highlightedSection=this.resumeService.highlightedSection;score=er(()=>this.resumeService.score());resume=gt(this.resumeService.getResume());typedRole=gt("");roles=["Software Developer","Full-Stack Engineer","QA Engineer","Problem Solver","Regular Dude"];roleIndex=0;charIndex=0;isDeleting=!1;typeTimer=null;contact=er(()=>this.resume().contact);links=er(()=>this.resume().links);technologies=er(()=>this.resume().technologies);constructor(){setTimeout(()=>{this.resumeService.initReveal(),this.resumeService.initScrollListener(),this.resumeService.initLottie(),this.resumeService.initCursorSpotlight(),this.resumeService.initMagneticButtons(),this.resumeService.initParticleField(),this.resumeService.initLeaderboard(),this.initKeyboardShortcuts()},120),document.startViewTransition&&this.enableViewTransitions(),setTimeout(()=>this.typewriterTick(),1200)}typewriterTick(){let e=this.roles[this.roleIndex];if(this.isDeleting){if(this.charIndex--,this.typedRole.set(e.substring(0,this.charIndex)),this.charIndex===0){this.isDeleting=!1,this.roleIndex=(this.roleIndex+1)%this.roles.length,this.typeTimer=setTimeout(()=>this.typewriterTick(),400);return}this.typeTimer=setTimeout(()=>this.typewriterTick(),35)}else{if(this.charIndex++,this.typedRole.set(e.substring(0,this.charIndex)),this.charIndex===e.length){this.isDeleting=!0,this.typeTimer=setTimeout(()=>this.typewriterTick(),2200);return}this.typeTimer=setTimeout(()=>this.typewriterTick(),70)}}initKeyboardShortcuts(){this.resumeService.initKeyboardShortcuts({d:()=>this.toggleDarkMode(),j:()=>this.resumeService.scrollTo("summary"),k:()=>this.resumeService.scrollTo("technologies"),l:()=>this.resumeService.scrollTo("experience"),";":()=>this.resumeService.scrollTo("projects"),"?":()=>this.showKeyboardHints(),Escape:()=>this.closeKeyboardHints()})}enableViewTransitions(){let e=this.toggleDarkMode.bind(this);this.toggleDarkMode=()=>{document.startViewTransition?document.startViewTransition(()=>{e()}):e()}}showKeyboardHints(){this.keyboardHintsModal||(this.keyboardHintsModal=new zh),this.keyboardHintsModal.show()}closeKeyboardHints(){this.keyboardHintsModal?.close()}openLink(e){window.open(e,"_blank","noopener")}async copyEmail(){try{await navigator.clipboard.writeText(this.contact().email),Bc.show("Email copied!")}catch{Bc.show("Failed to copy email")}}scrollTo(e){this.resumeService.scrollTo(e)}scrollToTop(){this.resumeService.scrollToTop()}toggleDarkMode(){this.resumeService.toggleDarkMode()}getTechSVG(e){return this.sanitizer.bypassSecurityTrustHtml(this.resumeService.getTechSVG(e))}getProjectSVG(e){return this.sanitizer.bypassSecurityTrustHtml(this.resumeService.getProjectSVG(e))}openTechLink(e){let t=this.resumeService.getTechLink(e);t&&this.openLink(t)}showLeaderboard(){this.resumeService.showLeaderboard()}ngOnDestroy(){this.resumeService.dispose(),this.keyboardHintsModal?.destroy(),this.typeTimer&&clearTimeout(this.typeTimer)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=La({type:n,selectors:[["app-root"]],decls:157,vars:31,consts:[[1,"top-nav"],[1,"container","nav-inner"],[1,"nav-links"],[3,"click"],["title","View leaderboard",1,"score-counter"],[1,"nav-actions"],["title","Keyboard shortcuts (?)","aria-label","Keyboard shortcuts",1,"link-btn",3,"click"],["title","Toggle dark mode",1,"link-btn",3,"click"],[1,"link-btn",3,"click"],[1,"resume-header"],["aria-hidden","true",1,"hero-orbit-wrap"],[1,"hero-orbit","hero-orbit--1"],[1,"hero-orbit","hero-orbit--2"],[1,"hero-orbit","hero-orbit--3"],["id","hero-container"],["id","lottie-holder","aria-hidden","true"],[1,"container"],[1,"fancy-title"],[1,"letter",2,"--char-index","0"],[1,"letter",2,"--char-index","1"],[1,"letter",2,"--char-index","2"],[1,"letter",2,"--char-index","3"],[1,"letter",2,"--char-index","4"],[1,"name-space"],[1,"letter",2,"--char-index","5"],[1,"letter",2,"--char-index","6"],[1,"letter",2,"--char-index","7"],[1,"letter",2,"--char-index","8"],[1,"letter",2,"--char-index","9"],[1,"title"],[1,"typewriter-text"],[1,"typewriter-cursor"],[1,"hero-accent-bar"],[1,"contact","hero-fade",2,"--hero-delay","1.2s"],[3,"href"],[1,"sep"],[1,"links","hero-fade",2,"--hero-delay","1.5s"],[1,"link-btn"],[1,"link-btn","copy",3,"click"],[1,"resume-main"],["id","summary",1,"section"],[1,"section-title","reveal","reveal-left",2,"--delay","0.1s"],[1,"summary-lead","reveal","reveal-up",2,"--delay","0.2s"],[1,"summary-pills","reveal","reveal-up",2,"--delay","0.35s"],[1,"summary-pill"],[1,"summary-cards"],[1,"summary-card","reveal","reveal-scale",2,"--delay","0.4s"],[1,"summary-card-icon"],[1,"summary-card","reveal","reveal-scale",2,"--delay","0.55s"],[1,"summary-card","reveal","reveal-scale",2,"--delay","0.7s"],[1,"summary-cta","reveal","reveal-up",2,"--delay","0.85s"],["id","technologies",1,"section"],[1,"tech-list"],["id","experience",1,"section"],[1,"reveal","reveal-up",2,"--delay","0.2s"],[1,"experience-timeline"],["id","projects",1,"section"],[1,"projects-list"],[1,"resume-footer"],[1,"wiggly-text"],[1,"wiggly-char",2,"--char-index","0"],[1,"wiggly-char",2,"--char-index","1"],[1,"wiggly-char",2,"--char-index","2"],[1,"wiggly-char",2,"--char-index","3"],[1,"wiggly-char",2,"--char-index","4"],[1,"wiggly-char",2,"--char-index","5"],[1,"wiggly-char",2,"--char-index","6"],[1,"wiggly-char",2,"--char-index","7"],[1,"wiggly-char",2,"--char-index","8"],[1,"wiggly-char",2,"--char-index","9"],["title","View leaderboard",1,"score-counter",3,"click"],[1,"tech-chip","reveal","reveal-scale",3,"click","title"],[1,"tech-icon",3,"innerHTML"],[1,"tech-label"],[1,"timeline-entry","reveal","reveal-up",3,"timeline-last","style"],[1,"timeline-entry","reveal","reveal-up"],[1,"timeline-marker"],[1,"timeline-dot"],[1,"timeline-line"],[1,"timeline-content"],[1,"experience-dates"],[1,"experience-role"],[1,"experience-company"],[1,"experience-desc"],[1,"project-card","reveal","reveal-scale",3,"style"],[1,"project-card","reveal","reveal-scale"],[1,"project-inner"],[1,"project-icon",3,"innerHTML"],[1,"project-body"],[1,"project-desc"],["target","_blank","rel","noopener",1,"project-link",3,"href"]],template:function(t,r){t&1&&(L(0,"nav",0)(1,"div",1)(2,"div",2)(3,"a",3),wt("click",function(){return r.scrollTo("summary")}),j(4,"Summary"),F(),L(5,"a",3),wt("click",function(){return r.scrollTo("technologies")}),j(6,"Technologies"),F(),L(7,"a",3),wt("click",function(){return r.scrollTo("experience")}),j(8,"Experience"),F(),L(9,"a",3),wt("click",function(){return r.scrollTo("projects")}),j(10,"Projects"),F()(),Tn(11,SB,2,1,"span",4),L(12,"div",5)(13,"button",6),wt("click",function(){return r.showKeyboardHints()}),j(14,"\u2328\uFE0F"),F(),L(15,"button",7),wt("click",function(){return r.toggleDarkMode()}),j(16),F(),L(17,"button",8),wt("click",function(){return r.scrollToTop()}),j(18,"Top"),F()()()(),L(19,"header",9)(20,"div",10),tn(21,"div",11)(22,"div",12)(23,"div",13),F(),L(24,"div",14),tn(25,"div",15),F(),L(26,"div",16)(27,"h1",17)(28,"span",18),j(29,"J"),F(),L(30,"span",19),j(31,"a"),F(),L(32,"span",20),j(33,"s"),F(),L(34,"span",21),j(35,"o"),F(),L(36,"span",22),j(37,"n"),F(),tn(38,"span",23),L(39,"span",24),j(40,"S"),F(),L(41,"span",25),j(42,"a"),F(),L(43,"span",26),j(44,"l"),F(),L(45,"span",27),j(46,"a"),F(),L(47,"span",28),j(48,"s"),F()(),L(49,"p",29)(50,"span",30),j(51),F(),L(52,"span",31),j(53,"|"),F()(),tn(54,"div",32),L(55,"div",33)(56,"a",34),j(57),F(),L(58,"span",35),j(59," \u2022 "),F(),L(60,"a",34),j(61),F(),L(62,"span",35),j(63," \u2022 "),F(),L(64,"span"),j(65),F()(),L(66,"div",36),Fo(67,CB,2,1,"button",37,Lo),L(69,"button",38),wt("click",function(){return r.copyEmail()}),j(70,"Copy Email"),F()()()(),L(71,"main",39)(72,"section",40)(73,"div",16)(74,"h2",41),j(75,"Summary"),F(),L(76,"p",42),j(77," 10+ years shipping software across startups, aerospace, and gaming. "),F(),L(78,"div",43)(79,"span",44),j(80,"SpaceX"),F(),L(81,"span",44),j(82,"Riot Games"),F(),L(83,"span",44),j(84,"VALORANT"),F(),L(85,"span",44),j(86,"Startups"),F(),L(87,"span",44),j(88,"Mobile"),F(),L(89,"span",44),j(90,"Medical"),F()(),L(91,"div",45)(92,"div",46)(93,"span",47),j(94,"\u{1F680}"),F(),L(95,"strong"),j(96,"Breadth"),F(),L(97,"p"),j(98,"Startups in mobile and medical, aerospace at SpaceX, and 6 years on one of the biggest competitive games in the world."),F()(),L(99,"div",48)(100,"span",47),j(101,"\u{1F527}"),F(),L(102,"strong"),j(103,"Builder"),F(),L(104,"p"),j(105,"I write code to solve problems, automate pain points, and make systems more reliable \u2014 whether that's a test framework or a full-stack app."),F()(),L(106,"div",49)(107,"span",47),j(108,"\u{1F3AF}"),F(),L(109,"strong"),j(110,"Craftsmanship"),F(),L(111,"p"),j(112,"Shipped systems to millions of players who notice every flaw. That standard shapes how I architect, test, and deliver everything I build."),F()()(),L(113,"p",50),j(114,"Now looking for the next thing worth building."),F()()(),L(115,"section",51)(116,"div",16)(117,"h2",41),j(118,"Technologies"),F(),L(119,"ul",52),Fo(120,DB,5,6,"li",null,Lo),F()()(),L(122,"section",53)(123,"div",16)(124,"h2",41),j(125,"Experience"),F(),Tn(126,AB,2,0,"p",54),Tn(127,MB,3,0,"div",55),F()(),L(128,"section",56)(129,"div",16)(130,"h2",41),j(131,"Projects"),F(),Tn(132,LB,3,0,"ul",57),F()()(),L(133,"footer",58)(134,"div",16)(135,"p",59),j(136,"\xA9 "),L(137,"span",60),j(138,"J"),F(),L(139,"span",61),j(140,"a"),F(),L(141,"span",62),j(142,"s"),F(),L(143,"span",63),j(144,"o"),F(),L(145,"span",64),j(146,"n"),F(),L(147,"span",65),j(148,"S"),F(),L(149,"span",66),j(150,"a"),F(),L(151,"span",67),j(152,"l"),F(),L(153,"span",68),j(154,"a"),F(),L(155,"span",69),j(156,"s"),F()()()()),t&2&&(Nt("hidden",r.isNavHidden()),oe(3),Nt("active",r.highlightedSection()==="summary"),oe(2),Nt("active",r.highlightedSection()==="technologies"),oe(2),Nt("active",r.highlightedSection()==="experience"),oe(2),Nt("active",r.highlightedSection()==="projects"),oe(2),bn(r.score()>0?11:-1),oe(5),Tt(r.isDarkMode()?"\u2600\uFE0F":"\u{1F319}"),oe(35),Tt(r.typedRole()),oe(5),Zn("href",Ba("mailto:",r.contact().email),Ma),oe(),Tt(r.contact().email),oe(3),Zn("href",Ba("tel:",r.contact().phone),Ma),oe(),Tt(r.contact().phone),oe(4),Tt(r.contact().location),oe(2),Vo(r.links()),oe(5),Nt("highlighted",r.highlightedSection()==="summary"),oe(43),Nt("highlighted",r.highlightedSection()==="technologies"),oe(5),Vo(r.technologies()),oe(2),Nt("highlighted",r.highlightedSection()==="experience"),oe(4),bn(!r.resume().experience||r.resume().experience.length===0?126:-1),oe(),bn(r.resume().experience&&r.resume().experience.length>0?127:-1),oe(),Nt("highlighted",r.highlightedSection()==="projects"),oe(4),bn(r.resume().projects.length>0?132:-1))},styles:['.resume-header[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:40px 0;position:relative;overflow:hidden}#hero-container[_ngcontent-%COMP%]{position:relative;width:100%;height:140px;margin-bottom:32px;display:flex;align-items:center;justify-content:center}#lottie-holder[_ngcontent-%COMP%]{position:relative;width:140px;height:140px;z-index:2}.reveal[_ngcontent-%COMP%]{opacity:0;transform:translateY(40px);transition:opacity .8s cubic-bezier(.16,1,.3,1) var(--delay,0s),transform .8s cubic-bezier(.16,1,.3,1) var(--delay,0s)}.reveal.visible[_ngcontent-%COMP%]{opacity:1;transform:translateY(0)}.reveal-left[_ngcontent-%COMP%]{transform:translate(-60px) scale(.92);opacity:0;filter:blur(6px);transition:opacity 1s cubic-bezier(.16,1,.3,1) var(--delay,0s),transform 1s cubic-bezier(.16,1,.3,1) var(--delay,0s),filter 1s cubic-bezier(.16,1,.3,1) var(--delay,0s)}.reveal-left.visible[_ngcontent-%COMP%]{transform:translate(0) scale(1);opacity:1;filter:blur(0)}.reveal-up[_ngcontent-%COMP%]{transform:translateY(80px) scale(.92);opacity:0;filter:blur(4px);transition:opacity 1.1s cubic-bezier(.16,1,.3,1) var(--delay,0s),transform 1.1s cubic-bezier(.16,1,.3,1) var(--delay,0s),filter 1.1s cubic-bezier(.16,1,.3,1) var(--delay,0s)}.reveal-up.visible[_ngcontent-%COMP%]{transform:translateY(0) scale(1);opacity:1;filter:blur(0)}.reveal-scale[_ngcontent-%COMP%]{transform:scale(.75) translateY(30px);opacity:0;filter:blur(4px);transition:opacity .8s cubic-bezier(.16,1,.3,1) var(--delay,0s),transform .8s cubic-bezier(.16,1,.3,1) var(--delay,0s),filter .8s cubic-bezier(.16,1,.3,1) var(--delay,0s)}.reveal-scale.visible[_ngcontent-%COMP%]{transform:scale(1) translateY(0);opacity:1;filter:blur(0)}.section-title[_ngcontent-%COMP%]{font-size:clamp(28px,4vw,42px);font-weight:700;letter-spacing:-.02em;color:var(--text);margin:0 0 40px;position:relative;display:inline-block;padding-bottom:16px}.section-title[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;height:3px;border-radius:2px;width:0;transition:width .8s cubic-bezier(.34,1.56,.64,1) .3s}.section-title.visible[_ngcontent-%COMP%]:after{width:100%}#summary[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]:after{background:linear-gradient(90deg,var(--accent),rgba(124,92,255,.2))}#technologies[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]:after{background:linear-gradient(90deg,#5eead4,#5eead433)}#experience[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]:after{background:linear-gradient(90deg,#8ea2ff,#8ea2ff33)}#projects[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]:after{background:linear-gradient(90deg,#f59e0b,#f59e0b33)}.section[_ngcontent-%COMP%] > .container[_ngcontent-%COMP%]{width:100%;text-align:center}.section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:clamp(16px,1.8vw,20px);line-height:1.7;color:var(--muted);max-width:680px;margin-left:auto;margin-right:auto}.summary-lead[_ngcontent-%COMP%]{font-size:clamp(18px,2.2vw,24px)!important;font-weight:500;color:var(--text)!important;margin-bottom:20px}.summary-pills[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px;justify-content:center;margin-bottom:40px}.summary-pill[_ngcontent-%COMP%]{padding:6px 16px;border-radius:20px;font-size:13px;font-weight:600;letter-spacing:.3px;color:var(--accent);border:1px solid rgba(124,92,255,.2);background:#7c5cff0d;transition:all .2s ease}.summary-pill[_ngcontent-%COMP%]:hover{background:#7c5cff1a;border-color:#7c5cff59;transform:translateY(-2px)}.summary-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:20px;margin-bottom:32px;text-align:left}.summary-card[_ngcontent-%COMP%]{padding:28px 24px;border-radius:14px;border:1px solid rgba(124,92,255,.1);background:#7c5cff08;transition:all .3s cubic-bezier(.34,1.56,.64,1)}.summary-card[_ngcontent-%COMP%]:hover{border-color:#7c5cff40;background:#7c5cff0f;transform:translateY(-4px);box-shadow:0 12px 28px #7c5cff1a}.summary-card-icon[_ngcontent-%COMP%]{font-size:28px;display:block;margin-bottom:12px}.summary-card[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;font-size:17px;color:var(--text);margin-bottom:8px;letter-spacing:-.01em}.summary-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px!important;line-height:1.6;color:var(--muted);margin:0;max-width:none}.summary-cta[_ngcontent-%COMP%]{font-style:italic;font-size:clamp(15px,1.6vw,18px)!important;color:var(--muted)!important;opacity:.8;margin-top:0}@media(max-width:768px){.summary-cards[_ngcontent-%COMP%]{grid-template-columns:1fr}}.tech-list[_ngcontent-%COMP%], .experience-timeline[_ngcontent-%COMP%], .projects-list[_ngcontent-%COMP%]{text-align:left}.projects-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:16px 0 0;display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:16px}.project-card[_ngcontent-%COMP%]{background:#7c5cff0a;padding:20px;border-radius:14px;border:1px solid rgba(124,92,255,.12);transition:all .3s cubic-bezier(.34,1.56,.64,1);cursor:pointer;display:flex;flex-direction:column}.project-card[_ngcontent-%COMP%]:hover{background:#7c5cff14;border-color:#7c5cff3d;transform:translateY(-6px) scale(1.02);box-shadow:0 12px 28px #7c5cff26}.project-inner[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;align-items:flex-start;height:100%}.project-icon[_ngcontent-%COMP%]{width:40px;height:40px;min-width:40px;color:var(--accent);display:flex;align-items:center;justify-content:center;transition:all .3s ease}.project-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;height:100%;filter:drop-shadow(0 2px 8px rgba(124,92,255,.15))}.project-card[_ngcontent-%COMP%]:hover   .project-icon[_ngcontent-%COMP%]{color:#5eead4;transform:scale(1.15)}.project-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1}.project-body[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;margin-bottom:4px;color:var(--text);font-size:15px}.project-desc[_ngcontent-%COMP%]{font-size:13px;color:var(--muted);margin:4px 0 auto;line-height:1.5}.project-link[_ngcontent-%COMP%]{display:inline-block;color:var(--accent);font-weight:600;font-size:13px;margin-top:10px;transition:all .2s ease}.project-link[_ngcontent-%COMP%]:hover{text-decoration:underline;transform:translate(2px)}.resume-header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:block;text-align:center}.resume-header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--accent),#5eead4);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;filter:drop-shadow(0 0 6px rgba(124,92,255,.25));font-size:clamp(20px,3vw,30px);font-weight:500;letter-spacing:.5px;margin:16px 0 0;min-height:1.4em}.fancy-title[_ngcontent-%COMP%]{font-weight:700;font-size:clamp(56px,8vw,96px)!important;margin:0 0 6px;letter-spacing:-.03em;position:relative;display:inline-block}.fancy-title[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-10px;left:50%;width:0;height:3px;background:linear-gradient(90deg,var(--accent),#5eead4);transform:translate(-50%);animation:underlineGrow .8s cubic-bezier(.34,1.56,.64,1) .4s forwards;border-radius:2px}.letter[_ngcontent-%COMP%]{display:inline-block;background:linear-gradient(135deg,var(--accent),#5eead4);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;filter:drop-shadow(0 0 8px rgba(124,92,255,.3));animation:letterSlideIn .6s cubic-bezier(.34,1.56,.64,1) backwards;animation-delay:calc(var(--char-index) * .08s + .1s)}.name-space[_ngcontent-%COMP%]{display:inline-block;width:.2em}.typewriter-cursor[_ngcontent-%COMP%]{display:inline-block;color:var(--accent);font-weight:300;animation:_ngcontent-%COMP%_cursorBlink 1s step-end infinite;margin-left:1px}@keyframes _ngcontent-%COMP%_cursorBlink{0%,to{opacity:1}50%{opacity:0}}.hero-accent-bar[_ngcontent-%COMP%]{width:80px;height:3px;margin:24px auto 28px;border-radius:2px;background:linear-gradient(90deg,var(--accent),#5eead4);position:relative;overflow:hidden;opacity:0;animation:_ngcontent-%COMP%_barFadeIn .8s ease 1s forwards}.hero-accent-bar[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:-100%;width:60%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.6),transparent);animation:_ngcontent-%COMP%_barSweep 3s ease-in-out 1.5s infinite}@keyframes _ngcontent-%COMP%_barFadeIn{to{opacity:1}}@keyframes _ngcontent-%COMP%_barSweep{0%{left:-100%}50%{left:200%}to{left:200%}}.hero-fade[_ngcontent-%COMP%]{opacity:0;transform:translateY(16px);animation:_ngcontent-%COMP%_heroFadeUp .8s cubic-bezier(.16,1,.3,1) var(--hero-delay,1s) forwards}@keyframes _ngcontent-%COMP%_heroFadeUp{to{opacity:1;transform:translateY(0)}}.hero-orbit-wrap[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:600px;height:600px;pointer-events:none;z-index:0}.hero-orbit[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;border-radius:50%;border:1px solid rgba(124,92,255,.06);transform:translate(-50%,-50%)}.hero-orbit--1[_ngcontent-%COMP%]{width:320px;height:320px;animation:_ngcontent-%COMP%_orbitSpin 30s linear infinite}.hero-orbit--2[_ngcontent-%COMP%]{width:460px;height:460px;border-color:#5eead40d;animation:_ngcontent-%COMP%_orbitSpin 45s linear infinite reverse}.hero-orbit--3[_ngcontent-%COMP%]{width:580px;height:580px;border-style:dashed;border-color:#7c5cff0a;animation:_ngcontent-%COMP%_orbitSpin 60s linear infinite}.hero-orbit[_ngcontent-%COMP%]:before{content:"";position:absolute;width:6px;height:6px;border-radius:50%;background:var(--accent);top:-3px;left:50%;transform:translate(-50%);box-shadow:0 0 10px #7c5cff66;opacity:.6}.hero-orbit--2[_ngcontent-%COMP%]:before{background:#5eead4;box-shadow:0 0 10px #5eead466;width:4px;height:4px;top:-2px}.hero-orbit--3[_ngcontent-%COMP%]:before{background:#7c5cff80;width:3px;height:3px;top:-1.5px;opacity:.4}@keyframes _ngcontent-%COMP%_orbitSpin{to{transform:translate(-50%,-50%) rotate(360deg)}}.contact[_ngcontent-%COMP%]{color:var(--muted);display:flex;gap:12px;align-items:center;flex-wrap:wrap;justify-content:center;font-size:15px}.contact[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--muted)}.contact[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--accent);text-decoration:underline}.links[_ngcontent-%COMP%]{margin-top:20px;display:flex;gap:12px;flex-wrap:wrap;justify-content:center}.link-btn[_ngcontent-%COMP%]{background:transparent;border:1px solid rgba(124,92,255,.14);color:var(--accent);padding:10px 18px;border-radius:10px;cursor:pointer;font-weight:600;font-size:14px;transition:all .2s ease;position:relative}.link-btn[_ngcontent-%COMP%]:hover{transform:translateY(-3px);border-color:#7c5cff4d;box-shadow:0 6px 14px #7c5cff1f}.link-btn[_ngcontent-%COMP%]:active{transform:scale(.96)}.link-btn.copy[_ngcontent-%COMP%]{border-style:dashed;color:var(--muted)}.resume-main[_ngcontent-%COMP%]{padding:0;background:transparent}.top-nav[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;background:#0f283ccc;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);z-index:40;border-bottom:1px solid rgba(255,255,255,.06);transform:translateY(0);transition:transform .3s ease}.top-nav.hidden[_ngcontent-%COMP%]{transform:translateY(-100%)}.top-nav[_ngcontent-%COMP%]   .nav-inner[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:10px 0}.top-nav[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--muted);margin-right:14px;cursor:pointer;font-weight:600;transition:color .2s ease,border-bottom .2s ease;padding-bottom:4px;border-bottom:2px solid transparent}.top-nav[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--text)}.top-nav[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:var(--accent);border-bottom-color:var(--accent)}.score-counter[_ngcontent-%COMP%]{color:gold;font-weight:700;font-size:13px;letter-spacing:.5px;padding:4px 12px;border:1px solid rgba(255,215,0,.25);border-radius:8px;background:#ffd70014;animation:_ngcontent-%COMP%_scorePop .4s cubic-bezier(.34,1.56,.64,1);cursor:pointer;transition:all .2s ease}.score-counter[_ngcontent-%COMP%]:hover{background:#ffd70024;border-color:#ffd70066;transform:scale(1.05)}@keyframes _ngcontent-%COMP%_scorePop{0%{transform:scale(.8);opacity:0}to{transform:scale(1);opacity:1}}.tech-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));grid-auto-rows:140px;gap:18px;padding:0;margin:0;list-style:none;align-items:stretch}.tech-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:block}.tech-chip[_ngcontent-%COMP%]{background:transparent;border:1px solid rgba(255,255,255,.06);padding:16px 18px;border-radius:12px;color:var(--muted);cursor:pointer;display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;width:100%;box-sizing:border-box;font-size:18px;font-weight:700;letter-spacing:.01em;transition:all .3s cubic-bezier(.34,1.56,.64,1);position:relative;overflow:hidden}.tech-chip[_ngcontent-%COMP%]:hover{transform:scale(1.08) translateY(-4px);border-color:#7c5cff4d;background:#7c5cff0d;box-shadow:0 12px 28px #7c5cff26}.tech-icon[_ngcontent-%COMP%]{font-size:28px;display:flex;align-items:center;justify-content:center;width:48px;height:48px;margin-bottom:8px;color:currentColor}.tech-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;height:100%;filter:drop-shadow(0 2px 8px rgba(124,92,255,.12))}.tech-chip[_ngcontent-%COMP%]:hover   .tech-icon[_ngcontent-%COMP%]{animation:iconBounce .6s ease}.tech-label[_ngcontent-%COMP%]{display:block;font-size:13px}.resume-footer[_ngcontent-%COMP%]{padding:40px 0;text-align:center;color:var(--muted);background:transparent;margin-top:0}.wiggly-text[_ngcontent-%COMP%]{display:inline-block;cursor:pointer;-webkit-user-select:none;user-select:none}.wiggly-char[_ngcontent-%COMP%]{display:inline-block;transition:transform .1s ease}.wiggly-text[_ngcontent-%COMP%]:hover   .wiggly-char[_ngcontent-%COMP%]{animation:wiggle .6s ease-in-out;animation-delay:calc(var(--char-index) * .06s)}.experience-timeline[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:4px 0}.timeline-entry[_ngcontent-%COMP%]{display:flex;gap:20px;position:relative}.timeline-marker[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;flex-shrink:0;width:20px;position:relative}.timeline-dot[_ngcontent-%COMP%]{width:14px;height:14px;border-radius:50%;background:var(--accent);border:3px solid var(--bg);box-shadow:0 0 0 2px var(--accent),0 0 12px #7c5cff4d;flex-shrink:0;z-index:2;transition:all .3s cubic-bezier(.34,1.56,.64,1)}.timeline-entry[_ngcontent-%COMP%]:hover   .timeline-dot[_ngcontent-%COMP%]{transform:scale(1.4);box-shadow:0 0 0 2px var(--accent),0 0 20px #7c5cff80}.timeline-line[_ngcontent-%COMP%]{width:2px;flex:1;background:linear-gradient(180deg,var(--accent),rgba(124,92,255,.15));min-height:16px}.timeline-last[_ngcontent-%COMP%]   .timeline-line[_ngcontent-%COMP%]{display:none}.timeline-content[_ngcontent-%COMP%]{padding:12px 16px 28px 0;flex:1;transition:all .3s ease}.timeline-entry[_ngcontent-%COMP%]:last-child   .timeline-content[_ngcontent-%COMP%]{padding-bottom:4px}.experience-dates[_ngcontent-%COMP%]{display:block;font-size:12px;color:var(--muted);font-weight:600;letter-spacing:.5px;text-transform:uppercase;margin-bottom:4px}.experience-role[_ngcontent-%COMP%]{display:block;color:var(--text);font-size:16px;margin-bottom:2px}.experience-company[_ngcontent-%COMP%]{color:var(--accent);font-weight:600;font-size:14px}.experience-desc[_ngcontent-%COMP%]{font-size:14px;color:var(--muted);margin:8px 0 0;line-height:1.5}.timeline-entry[_ngcontent-%COMP%]:hover   .timeline-content[_ngcontent-%COMP%]{transform:translate(6px)}@media(max-width:640px){.resume-header[_ngcontent-%COMP%]{padding:44px 0}.timeline-content[_ngcontent-%COMP%]{padding:10px 0 24px}.experience-role[_ngcontent-%COMP%]{font-size:15px}.hero-orbit-wrap[_ngcontent-%COMP%]{width:360px;height:360px}.hero-orbit--1[_ngcontent-%COMP%]{width:200px;height:200px}.hero-orbit--2[_ngcontent-%COMP%]{width:280px;height:280px}.hero-orbit--3[_ngcontent-%COMP%]{width:350px;height:350px}}html[data-theme="light"][_nghost-%COMP%]   .tech-chip[_ngcontent-%COMP%], html[data-theme="light"]   [_nghost-%COMP%]   .tech-chip[_ngcontent-%COMP%]{border-color:#5032c81f;background:#5032c808}html[data-theme="light"][_nghost-%COMP%]   .tech-chip[_ngcontent-%COMP%]:hover, html[data-theme="light"]   [_nghost-%COMP%]   .tech-chip[_ngcontent-%COMP%]:hover{border-color:#5032c84d;background:#5032c812;box-shadow:0 12px 28px #5032c81f}html[data-theme="light"][_nghost-%COMP%]   .tech-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], html[data-theme="light"]   [_nghost-%COMP%]   .tech-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{filter:drop-shadow(0 2px 8px rgba(80,50,200,.15))}html[data-theme="light"][_nghost-%COMP%]   .summary-card[_ngcontent-%COMP%], html[data-theme="light"]   [_nghost-%COMP%]   .summary-card[_ngcontent-%COMP%]{border-color:#5032c81a;background:#5032c805}html[data-theme="light"][_nghost-%COMP%]   .summary-pill[_ngcontent-%COMP%], html[data-theme="light"]   [_nghost-%COMP%]   .summary-pill[_ngcontent-%COMP%]{border-color:#5032c826;background:#5032c80d}']})};Rm(Gh,LR).catch(n=>console.error(n));
